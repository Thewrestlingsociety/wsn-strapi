{"version":3,"file":"AssetsPage.mjs","sources":["../../../../../admin/src/future/pages/Assets/AssetsPage.tsx"],"sourcesContent":["import { useRef, useCallback, type ChangeEvent } from 'react';\n\nimport * as ToggleGroup from '@radix-ui/react-toggle-group';\nimport { Layouts, useElementOnScreen, usePersistentState } from '@strapi/admin/strapi-admin';\nimport {\n  Box,\n  Flex,\n  Loader,\n  MenuItem,\n  SimpleMenu,\n  Typography,\n  VisuallyHidden,\n} from '@strapi/design-system';\nimport { ChevronDown, Files, GridFour as GridIcon, List } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { useUploadFilesStreamMutation } from '../../services/api';\nimport { getTranslationKey } from '../../utils/translations';\n\nimport { AssetsGrid } from './components/AssetsGrid';\nimport { AssetsTable } from './components/AssetsTable';\nimport { DropFilesMessage, DropZoneWithOverlay } from './components/DropZone/UploadDropZone';\nimport { UploadDropZoneProvider } from './components/DropZone/UploadDropZoneContext';\nimport { localStorageKeys, viewOptions } from './constants';\nimport { useInfiniteAssets } from './hooks/useInfiniteAssets';\n\nconst INTERSECTION_OPTIONS: IntersectionObserverInit = { threshold: 0.1 };\n\nimport type { UploadFileInfo } from '../../../../../shared/contracts/files';\n\n/* -------------------------------------------------------------------------------------------------\n * AssetsView\n * -----------------------------------------------------------------------------------------------*/\n\ninterface AssetsViewProps {\n  view: number;\n}\n\nconst AssetsView = ({ view }: AssetsViewProps) => {\n  const { formatMessage } = useIntl();\n  const { assets, isLoading, isFetchingMore, hasNextPage, fetchNextPage, error } =\n    useInfiniteAssets();\n\n  const isGridView = view === viewOptions.GRID;\n\n  const loadMoreRef = useElementOnScreen<HTMLDivElement>(\n    useCallback(\n      (isVisible) => {\n        if (isVisible && hasNextPage && !isFetchingMore) {\n          fetchNextPage();\n        }\n      },\n      [hasNextPage, isFetchingMore, fetchNextPage]\n    ),\n    INTERSECTION_OPTIONS\n  );\n\n  if (isLoading) {\n    return (\n      <Flex justifyContent=\"center\" padding={8}>\n        <Loader>{formatMessage({ id: 'app.loading', defaultMessage: 'Loading...' })}</Loader>\n      </Flex>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box padding={8}>\n        <Typography textColor=\"danger600\">\n          {formatMessage({\n            id: getTranslationKey('list.assets.error'),\n            defaultMessage: 'An error occurred while fetching assets.',\n          })}\n        </Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <>\n      {isGridView ? <AssetsGrid assets={assets} /> : <AssetsTable assets={assets} />}\n      <div ref={loadMoreRef} style={{ height: 1 }} />\n      {isFetchingMore && (\n        <Flex justifyContent=\"center\" padding={4}>\n          <Loader>\n            {formatMessage({\n              id: getTranslationKey('list.assets.loading-more'),\n              defaultMessage: 'Loading more assets...',\n            })}\n          </Loader>\n        </Flex>\n      )}\n    </>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * AssetsPage\n * -----------------------------------------------------------------------------------------------*/\n\nconst StyledToggleGroup = styled(ToggleGroup.Root)`\n  display: flex;\n  border: 1px solid ${({ theme }) => theme.colors.neutral200};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  overflow: hidden;\n`;\n\nconst StyledToggleItem = styled(ToggleGroup.Item)`\n  display: flex;\n  align-items: center;\n  gap: ${({ theme }) => theme.spaces[2]};\n  padding: ${({ theme }) => `${theme.spaces[2]} ${theme.spaces[4]}`};\n  border: none;\n  background: ${({ theme }) => theme.colors.neutral0};\n  color: ${({ theme }) => theme.colors.neutral800};\n  cursor: pointer;\n  font-size: ${({ theme }) => theme.fontSizes[1]};\n  font-weight: ${({ theme }) => theme.fontWeights.semiBold};\n\n  &:hover {\n    background: ${({ theme }) => theme.colors.neutral100};\n  }\n\n  &[data-state='on'] {\n    background: ${({ theme }) => theme.colors.neutral150};\n  }\n\n  svg {\n    width: 1.6rem;\n    height: 1.6rem;\n  }\n`;\n\nconst HeaderWrapper = styled.div`\n  [data-strapi-header] {\n    background: ${({ theme }) => theme.colors.neutral0};\n\n    h1 {\n      font-size: 1.8rem;\n    }\n  }\n`;\n\nexport const AssetsPage = () => {\n  const { formatMessage } = useIntl();\n\n  // View state\n  const [view, setView] = usePersistentState(localStorageKeys.view, viewOptions.GRID);\n  const isGridView = view === viewOptions.GRID;\n\n  // Refs\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const uploadDropZoneRef = useRef<HTMLDivElement>(null);\n\n  // Upload handlers\n  const [uploadFilesStream] = useUploadFilesStreamMutation();\n\n  const uploadFilesToFolder = async (files: globalThis.File[], folderId: number | null) => {\n    if (files.length === 0) return;\n\n    const formData = new FormData();\n    const fileInfoArray: UploadFileInfo[] = [];\n\n    files.forEach((file) => {\n      formData.append('files', file);\n      fileInfoArray.push({\n        name: file.name,\n        caption: null,\n        alternativeText: null,\n        folder: folderId,\n      });\n    });\n\n    formData.append('fileInfo', JSON.stringify(fileInfoArray));\n    try {\n      await uploadFilesStream({ formData, totalFiles: files.length }).unwrap();\n    } catch (error) {\n      // Error is already dispatched to store from the API queryFn\n    }\n  };\n\n  const handleFileSelect = () => {\n    fileInputRef.current?.click();\n  };\n\n  const handleFileChange = async (e: ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (files && files.length > 0) {\n      await uploadFilesToFolder(Array.from(files), null);\n    }\n    e.target.value = '';\n  };\n\n  const handleDrop = async (files: globalThis.File[]) => {\n    await uploadFilesToFolder(files, null);\n  };\n\n  return (\n    <UploadDropZoneProvider onDrop={handleDrop}>\n      <Box ref={uploadDropZoneRef}>\n        <Layouts.Root minHeight=\"100vh\" background=\"neutral0\">\n          <VisuallyHidden>\n            <input type=\"file\" ref={fileInputRef} onChange={handleFileChange} multiple />\n          </VisuallyHidden>\n\n          <HeaderWrapper>\n            <Layouts.Header\n              title=\"TODO: Folder name\"\n              primaryAction={\n                <SimpleMenu\n                  popoverPlacement=\"bottom-end\"\n                  variant=\"default\"\n                  endIcon={<ChevronDown />}\n                  label={formatMessage({ id: getTranslationKey('new'), defaultMessage: 'New' })}\n                >\n                  <MenuItem onSelect={handleFileSelect} startIcon={<Files />}>\n                    {formatMessage({\n                      id: getTranslationKey('import-files'),\n                      defaultMessage: 'Import files',\n                    })}\n                  </MenuItem>\n                </SimpleMenu>\n              }\n              subtitle={\n                <Flex justifyContent=\"space-between\" alignItems=\"center\" gap={4} width=\"100%\">\n                  <Flex gap={4} alignItems=\"center\">\n                    TODO: Filters and search\n                  </Flex>\n\n                  <Flex gap={4} alignItems=\"center\">\n                    <Box>TODO: Sort</Box>\n                    <StyledToggleGroup\n                      type=\"single\"\n                      value={isGridView ? 'grid' : 'table'}\n                      onValueChange={(value) =>\n                        value && setView(value === 'grid' ? viewOptions.GRID : viewOptions.TABLE)\n                      }\n                      aria-label={formatMessage({\n                        id: getTranslationKey('view.switch.label'),\n                        defaultMessage: 'View options',\n                      })}\n                    >\n                      <StyledToggleItem\n                        value=\"table\"\n                        aria-label={formatMessage({\n                          id: getTranslationKey('view.table'),\n                          defaultMessage: 'Table view',\n                        })}\n                      >\n                        <List />\n                        {formatMessage({\n                          id: getTranslationKey('view.table'),\n                          defaultMessage: 'Table view',\n                        })}\n                      </StyledToggleItem>\n                      <StyledToggleItem\n                        value=\"grid\"\n                        aria-label={formatMessage({\n                          id: getTranslationKey('view.grid'),\n                          defaultMessage: 'Grid view',\n                        })}\n                      >\n                        <GridIcon />\n                        {formatMessage({\n                          id: getTranslationKey('view.grid'),\n                          defaultMessage: 'Grid view',\n                        })}\n                      </StyledToggleItem>\n                    </StyledToggleGroup>\n                  </Flex>\n                </Flex>\n              }\n            />\n          </HeaderWrapper>\n\n          <Layouts.Content>\n            <DropZoneWithOverlay>\n              <DropFilesMessage uploadDropZoneRef={uploadDropZoneRef} />\n              <AssetsView view={view} />\n            </DropZoneWithOverlay>\n          </Layouts.Content>\n        </Layouts.Root>\n      </Box>\n    </UploadDropZoneProvider>\n  );\n};\n"],"names":["INTERSECTION_OPTIONS","threshold","AssetsView","view","formatMessage","useIntl","assets","isLoading","isFetchingMore","hasNextPage","fetchNextPage","error","useInfiniteAssets","isGridView","viewOptions","GRID","loadMoreRef","useElementOnScreen","useCallback","isVisible","_jsx","Flex","justifyContent","padding","Loader","id","defaultMessage","Box","Typography","textColor","getTranslationKey","_jsxs","_Fragment","AssetsGrid","AssetsTable","div","ref","style","height","StyledToggleGroup","styled","ToggleGroup","Root","theme","colors","neutral200","borderRadius","StyledToggleItem","Item","spaces","neutral0","neutral800","fontSizes","fontWeights","semiBold","neutral100","neutral150","HeaderWrapper","AssetsPage","setView","usePersistentState","localStorageKeys","fileInputRef","useRef","uploadDropZoneRef","uploadFilesStream","useUploadFilesStreamMutation","uploadFilesToFolder","files","folderId","length","formData","FormData","fileInfoArray","forEach","file","append","push","name","caption","alternativeText","folder","JSON","stringify","totalFiles","unwrap","handleFileSelect","current","click","handleFileChange","e","target","Array","from","value","handleDrop","UploadDropZoneProvider","onDrop","Layouts","minHeight","background","VisuallyHidden","input","type","onChange","multiple","Header","title","primaryAction","SimpleMenu","popoverPlacement","variant","endIcon","ChevronDown","label","MenuItem","onSelect","startIcon","Files","subtitle","alignItems","gap","width","onValueChange","TABLE","aria-label","List","GridIcon","Content","DropZoneWithOverlay","DropFilesMessage"],"mappings":"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"}