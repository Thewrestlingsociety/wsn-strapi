{"version":3,"file":"assets.js","sources":["../../../../admin/src/future/services/assets.ts"],"sourcesContent":["import { uploadApi } from './api';\n\nimport type { GetFiles, File, Pagination } from '../../../../shared/contracts/files';\n\ninterface GetAssetsParams {\n  page?: number;\n  pageSize?: number;\n  folder?: number | null;\n  sort?: string;\n}\n\ninterface GetAssetsResponse {\n  results: File[];\n  pagination: Pagination;\n}\n\nconst assetsApi = uploadApi.injectEndpoints({\n  endpoints: (builder) => ({\n    getAssets: builder.query<GetAssetsResponse, GetAssetsParams | void>({\n      query: (params = {}) => ({\n        url: '/upload/files',\n        method: 'GET',\n        config: { params },\n      }),\n      transformResponse: (response: GetFiles.Response['data']) => response,\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.results.map(({ id }) => ({ type: 'Asset' as const, id })),\n              { type: 'Asset', id: 'LIST' },\n            ]\n          : [{ type: 'Asset', id: 'LIST' }],\n    }),\n  }),\n});\n\nexport const { useGetAssetsQuery } = assetsApi;\n"],"names":["assetsApi","uploadApi","injectEndpoints","endpoints","builder","getAssets","query","params","url","method","config","transformResponse","response","providesTags","result","results","map","id","type","useGetAssetsQuery"],"mappings":";;;;AAgBA,MAAMA,SAAAA,GAAYC,aAAUC,CAAAA,eAAe,CAAC;IAC1CC,SAAW,EAAA,CAACC,WAAa;YACvBC,SAAWD,EAAAA,OAAAA,CAAQE,KAAK,CAA4C;AAClEA,gBAAAA,KAAAA,EAAO,CAACC,MAAAA,GAAS,EAAE,IAAM;wBACvBC,GAAK,EAAA,eAAA;wBACLC,MAAQ,EAAA,KAAA;wBACRC,MAAQ,EAAA;AAAEH,4BAAAA;AAAO;qBACnB,CAAA;AACAI,gBAAAA,iBAAAA,EAAmB,CAACC,QAAwCA,GAAAA,QAAAA;gBAC5DC,YAAc,EAAA,CAACC,SACbA,MACI,GAAA;2BACKA,MAAOC,CAAAA,OAAO,CAACC,GAAG,CAAC,CAAC,EAAEC,EAAE,EAAE,IAAM;gCAAEC,IAAM,EAAA,OAAA;AAAkBD,gCAAAA;6BAAG,CAAA,CAAA;AAChE,wBAAA;4BAAEC,IAAM,EAAA,OAAA;4BAASD,EAAI,EAAA;AAAO;qBAC7B,GACD;AAAC,wBAAA;4BAAEC,IAAM,EAAA,OAAA;4BAASD,EAAI,EAAA;AAAO;AAAE;AACvC,aAAA;SACF;AACF,CAAA,CAAA;AAEa,MAAA,EAAEE,iBAAiB,EAAE,GAAGnB;;;;"}