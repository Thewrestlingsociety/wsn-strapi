{"version":3,"file":"WysiwygNav.mjs","sources":["../../../../../../../admin/src/pages/EditView/components/FormInputs/Wysiwyg/WysiwygNav.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport { useIsMobile } from '@strapi/admin/strapi-admin';\nimport {\n  Button,\n  Flex,\n  IconButton,\n  IconButtonGroup,\n  SingleSelectOption,\n  SingleSelect,\n  Field,\n  Menu,\n} from '@strapi/design-system';\nimport {\n  Bold,\n  BulletList,\n  Code,\n  Italic,\n  Link,\n  NumberList,\n  Image,\n  Quotes,\n  StrikeThrough,\n  Underline,\n  HeadingOne,\n  HeadingTwo,\n  HeadingThree,\n  HeadingFour,\n  HeadingFive,\n  HeadingSix,\n} from '@strapi/icons';\nimport { EditorFromTextArea } from 'codemirror5';\nimport { useIntl } from 'react-intl';\n\nimport { EditorToolbarObserver, type ObservedComponent } from '../../EditorToolbarObserver';\n\nimport { listHandler, markdownHandler, quoteAndCodeHandler, titleHandler } from './utils/utils';\n\ninterface WysiwygNavProps {\n  disabled?: boolean;\n  editorRef: React.MutableRefObject<EditorFromTextArea>;\n  isExpandMode?: boolean;\n  isPreviewMode?: boolean;\n  onToggleMediaLib: () => void;\n  onTogglePreviewMode?: () => void;\n}\n\ninterface WysiwygPreviewToggleButtonProps {\n  isPreviewMode?: boolean;\n  onTogglePreviewMode: () => void;\n}\n\nconst WysiwygPreviewToggleButton = ({\n  isPreviewMode,\n  onTogglePreviewMode,\n}: WysiwygPreviewToggleButtonProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Button onClick={onTogglePreviewMode} variant=\"tertiary\" minWidth=\"132px\">\n      {isPreviewMode\n        ? formatMessage({\n            id: 'components.Wysiwyg.ToggleMode.markdown-mode',\n            defaultMessage: 'Markdown mode',\n          })\n        : formatMessage({\n            id: 'components.Wysiwyg.ToggleMode.preview-mode',\n            defaultMessage: 'Preview mode',\n          })}\n    </Button>\n  );\n};\n\n/**\n * TODO: refactor this mess.\n */\nconst WysiwygNav = ({\n  disabled,\n  editorRef,\n  isPreviewMode,\n  onToggleMediaLib,\n  onTogglePreviewMode,\n}: WysiwygNavProps) => {\n  const { formatMessage } = useIntl();\n  const isMobile = useIsMobile();\n  const isDisabled = disabled || isPreviewMode;\n\n  const handleActionClick = (\n    value: string,\n    currentEditorRef: React.MutableRefObject<EditorFromTextArea>\n  ) => {\n    switch (value) {\n      case 'Link': {\n        markdownHandler(currentEditorRef, value);\n        break;\n      }\n      case 'Code':\n      case 'Quote': {\n        quoteAndCodeHandler(currentEditorRef, value);\n        break;\n      }\n      case 'Bold':\n      case 'Italic':\n      case 'Underline':\n      case 'Strikethrough': {\n        markdownHandler(currentEditorRef, value);\n        break;\n      }\n      case 'BulletList':\n      case 'NumberList': {\n        listHandler(currentEditorRef, value);\n        break;\n      }\n      case 'h1':\n      case 'h2':\n      case 'h3':\n      case 'h4':\n      case 'h5':\n      case 'h6': {\n        titleHandler(currentEditorRef, value);\n        break;\n      }\n      default: {\n        // Nothing\n      }\n    }\n  };\n\n  const observedComponents: ObservedComponent[] = [\n    {\n      toolbar: (\n        <IconButtonGroup>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Bold', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.modifiers.bold',\n              defaultMessage: 'Bold',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.modifiers.bold',\n              defaultMessage: 'Bold',\n            })}\n          >\n            <Bold />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Italic', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.modifiers.italic',\n              defaultMessage: 'Italic',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.modifiers.italic',\n              defaultMessage: 'Italic',\n            })}\n          >\n            <Italic />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Underline', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.modifiers.underline',\n              defaultMessage: 'Underline',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.modifiers.underline',\n              defaultMessage: 'Underline',\n            })}\n          >\n            <Underline />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Strikethrough', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.modifiers.strikethrough',\n              defaultMessage: 'Strikethrough',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.modifiers.strikethrough',\n              defaultMessage: 'Strikethrough',\n            })}\n          >\n            <StrikeThrough />\n          </IconButton>\n        </IconButtonGroup>\n      ),\n      menu: (\n        <>\n          <Menu.Separator />\n          <Menu.Item\n            startIcon={<Bold fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('Bold', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.modifiers.bold',\n                defaultMessage: 'Bold',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<Italic fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('Italic', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.modifiers.italic',\n                defaultMessage: 'Italic',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<Underline fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('Underline', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.modifiers.underline',\n                defaultMessage: 'Underline',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<StrikeThrough fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('Strikethrough', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.modifiers.strikethrough',\n                defaultMessage: 'Strikethrough',\n              })}\n            </Flex>\n          </Menu.Item>\n        </>\n      ),\n      key: 'formatting-group-1',\n    },\n    {\n      toolbar: (\n        <IconButtonGroup>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('BulletList', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.blocks.bulletList',\n              defaultMessage: 'Bulleted list',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.blocks.bulletList',\n              defaultMessage: 'Bulleted list',\n            })}\n          >\n            <BulletList />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('NumberList', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.blocks.numberList',\n              defaultMessage: 'Numbered list',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.blocks.numberList',\n              defaultMessage: 'Numbered list',\n            })}\n          >\n            <NumberList />\n          </IconButton>\n        </IconButtonGroup>\n      ),\n      menu: (\n        <>\n          <Menu.Separator />\n          <Menu.Item\n            startIcon={<BulletList fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('BulletList', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.blocks.unorderedList',\n                defaultMessage: 'Bulleted list',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<NumberList fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('NumberList', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.blocks.orderedList',\n                defaultMessage: 'Numbered list',\n              })}\n            </Flex>\n          </Menu.Item>\n        </>\n      ),\n      key: 'formatting-group-2',\n    },\n    {\n      toolbar: (\n        <IconButtonGroup>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Code', editorRef)}\n            label={formatMessage({\n              id: 'components.Wysiwyg.blocks.code',\n              defaultMessage: 'Code',\n            })}\n            name={formatMessage({\n              id: 'components.Wysiwyg.blocks.code',\n              defaultMessage: 'Code',\n            })}\n          >\n            <Code />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => {\n              onToggleMediaLib();\n            }}\n            label={formatMessage({\n              id: 'components.Blocks.blocks.image',\n              defaultMessage: 'Image',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.blocks.image',\n              defaultMessage: 'Image',\n            })}\n          >\n            <Image />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Link', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.popover.link',\n              defaultMessage: 'Link',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.popover.link',\n              defaultMessage: 'Link',\n            })}\n          >\n            <Link />\n          </IconButton>\n          <IconButton\n            disabled={isDisabled}\n            onClick={() => handleActionClick('Quote', editorRef)}\n            label={formatMessage({\n              id: 'components.Blocks.blocks.quote',\n              defaultMessage: 'Quote',\n            })}\n            name={formatMessage({\n              id: 'components.Blocks.blocks.quote',\n              defaultMessage: 'Quote',\n            })}\n          >\n            <Quotes />\n          </IconButton>\n        </IconButtonGroup>\n      ),\n      menu: (\n        <>\n          <Menu.Separator />\n          <Menu.Item\n            startIcon={<Code fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('Code', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Wysiwyg.blocks.code',\n                defaultMessage: 'Code',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<Image fill=\"neutral500\" />}\n            onSelect={() => {\n              onToggleMediaLib();\n            }}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.blocks.image',\n                defaultMessage: 'Image',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<Link fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('Link', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.popover.link',\n                defaultMessage: 'Link',\n              })}\n            </Flex>\n          </Menu.Item>\n          <Menu.Item\n            startIcon={<Quotes fill=\"neutral500\" />}\n            onSelect={() => handleActionClick('Quote', editorRef)}\n            disabled={isDisabled}\n          >\n            <Flex tag=\"span\" gap={2}>\n              {formatMessage({\n                id: 'components.Blocks.blocks.quote',\n                defaultMessage: 'Quote',\n              })}\n            </Flex>\n          </Menu.Item>\n        </>\n      ),\n      key: 'formatting-group-3',\n    },\n  ];\n\n  return (\n    <Flex\n      padding={2}\n      background=\"neutral100\"\n      justifyContent=\"space-between\"\n      borderRadius=\"0.4rem 0.4rem 0 0\"\n      width=\"100%\"\n      gap={{ initial: 3, medium: 4 }}\n    >\n      <Field.Root>\n        <SingleSelect\n          disabled={isDisabled}\n          placeholder={formatMessage({\n            id: 'components.Wysiwyg.selectOptions.title',\n            defaultMessage: 'Headings',\n          })}\n          aria-label={formatMessage({\n            id: 'components.Wysiwyg.selectOptions.title',\n            defaultMessage: 'Headings',\n          })}\n          // @ts-expect-error â€“ DS v2 will only allow strings.\n          onChange={(value) => handleActionClick(value, editorRef)}\n          size=\"S\"\n        >\n          <SingleSelectOption value=\"h1\" startIcon={<HeadingOne fill=\"neutral500\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H1',\n              defaultMessage: 'Heading 1',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h2\" startIcon={<HeadingTwo fill=\"neutral500\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H2',\n              defaultMessage: 'Heading 2',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h3\" startIcon={<HeadingThree fill=\"neutral500\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H3',\n              defaultMessage: 'Heading 3',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h4\" startIcon={<HeadingFour fill=\"neutral500\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H4',\n              defaultMessage: 'Heading 4',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h5\" startIcon={<HeadingFive fill=\"neutral500\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H5',\n              defaultMessage: 'Heading 5',\n            })}\n          </SingleSelectOption>\n          <SingleSelectOption value=\"h6\" startIcon={<HeadingSix fill=\"neutral500\" />}>\n            {formatMessage({\n              id: 'components.Wysiwyg.selectOptions.H6',\n              defaultMessage: 'Heading 6',\n            })}\n          </SingleSelectOption>\n        </SingleSelect>\n      </Field.Root>\n      <Flex width=\"100%\" justifyContent=\"space-between\" overflow=\"hidden\">\n        <Flex\n          gap={{ initial: 3, medium: 2 }}\n          overflow=\"hidden\"\n          width=\"100%\"\n          data-hide-toolbar-separator=\"true\"\n        >\n          <EditorToolbarObserver\n            menuTriggerVariant=\"tertiary\"\n            observedComponents={observedComponents}\n          />\n        </Flex>\n\n        {onTogglePreviewMode && !isMobile && (\n          <WysiwygPreviewToggleButton\n            isPreviewMode={isPreviewMode}\n            onTogglePreviewMode={onTogglePreviewMode}\n          />\n        )}\n      </Flex>\n    </Flex>\n  );\n};\n\nexport { WysiwygNav, WysiwygPreviewToggleButton };\nexport type { WysiwygNavProps, WysiwygPreviewToggleButtonProps };\n"],"names":["WysiwygPreviewToggleButton","isPreviewMode","onTogglePreviewMode","formatMessage","useIntl","_jsx","Button","onClick","variant","minWidth","id","defaultMessage","WysiwygNav","disabled","editorRef","onToggleMediaLib","isMobile","useIsMobile","isDisabled","handleActionClick","value","currentEditorRef","markdownHandler","quoteAndCodeHandler","listHandler","titleHandler","observedComponents","toolbar","_jsxs","IconButtonGroup","IconButton","label","name","Bold","Italic","Underline","StrikeThrough","menu","_Fragment","Menu","Separator","Item","startIcon","fill","onSelect","Flex","tag","gap","key","BulletList","NumberList","Code","Image","Link","Quotes","padding","background","justifyContent","borderRadius","width","initial","medium","Field","Root","SingleSelect","placeholder","aria-label","onChange","size","SingleSelectOption","HeadingOne","HeadingTwo","HeadingThree","HeadingFour","HeadingFive","HeadingSix","overflow","data-hide-toolbar-separator","EditorToolbarObserver","menuTriggerVariant"],"mappings":"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"}