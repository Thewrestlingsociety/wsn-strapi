{"version":3,"file":"index.js","sources":["../../../admin/src/preview/index.ts"],"sourcesContent":["/* eslint-disable check-file/no-index */\n\nimport { PreviewSidePanel } from './components/PreviewSidePanel';\n\nimport type { ContentManagerPlugin, PanelComponent } from '../content-manager';\nimport type { PluginDefinition } from '@strapi/admin/strapi-admin';\n\nconst previewAdmin: Partial<PluginDefinition> = {\n  bootstrap(app) {\n    const contentManagerPluginApis = app.getPlugin('content-manager')\n      .apis as ContentManagerPlugin['config']['apis'];\n\n    contentManagerPluginApis.addEditViewSidePanel((panels) => {\n      // Insert PreviewSidePanel after the actions panel\n      const actionsPanelIndex = panels.findIndex(\n        (panel) => (panel as PanelComponent).type === 'actions'\n      );\n      return [\n        ...panels.slice(0, actionsPanelIndex + 1),\n        PreviewSidePanel,\n        ...panels.slice(actionsPanelIndex + 1),\n      ];\n    });\n  },\n};\n\nexport { previewAdmin };\n"],"names":["previewAdmin","bootstrap","app","contentManagerPluginApis","getPlugin","apis","addEditViewSidePanel","panels","actionsPanelIndex","findIndex","panel","type","slice","PreviewSidePanel"],"mappings":";;;;AAOA,MAAMA,YAA0C,GAAA;AAC9CC,IAAAA,SAAAA,CAAAA,CAAUC,GAAG,EAAA;AACX,QAAA,MAAMC,wBAA2BD,GAAAA,GAAAA,CAAIE,SAAS,CAAC,mBAC5CC,IAAI;QAEPF,wBAAyBG,CAAAA,oBAAoB,CAAC,CAACC,MAAAA,GAAAA;;YAE7C,MAAMC,iBAAAA,GAAoBD,OAAOE,SAAS,CACxC,CAACC,KAAU,GAACA,KAAyBC,CAAAA,IAAI,KAAK,SAAA,CAAA;YAEhD,OAAO;mBACFJ,MAAOK,CAAAA,KAAK,CAAC,CAAA,EAAGJ,iBAAoB,GAAA,CAAA,CAAA;AACvCK,gBAAAA,iCAAAA;mBACGN,MAAOK,CAAAA,KAAK,CAACJ,iBAAoB,GAAA,CAAA;AACrC,aAAA;AACH,SAAA,CAAA;AACF;AACF;;;;"}