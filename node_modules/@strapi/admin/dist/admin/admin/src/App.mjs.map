{"version":3,"file":"App.mjs","sources":["../../../../admin/src/App.tsx"],"sourcesContent":["/**\n *\n * App.js\n *\n */\nimport { Suspense, useEffect } from 'react';\n\nimport { Outlet } from 'react-router-dom';\n\nimport { GlobalNotifications } from '../../ee/admin/src/components/GlobalNotifications';\n\nimport { Page } from './components/PageHelpers';\nimport { Providers } from './components/Providers';\nimport { LANGUAGE_LOCAL_STORAGE_KEY } from './reducer';\n\nimport type { Store } from './core/store/configure';\nimport type { StrapiApp } from './StrapiApp';\n\ninterface AppProps {\n  strapi: StrapiApp;\n  store: Store;\n}\n\nconst App = ({ strapi, store }: AppProps) => {\n  useEffect(() => {\n    const language = localStorage.getItem(LANGUAGE_LOCAL_STORAGE_KEY) || 'en';\n\n    if (language) {\n      document.documentElement.lang = language;\n    }\n  }, []);\n\n  /**\n   * @internal\n   * @experimental\n   *\n   * The `future-global::` namespace is intended for internal use.\n   * It is experimental and could change or be removed in the future.\n   */\n  const globalComponents = Object.entries(strapi.library.components)\n    .filter(([name]) => name.startsWith('future-global::'))\n    .map(([name, Component]) => ({ name, Component }));\n\n  return (\n    <Providers strapi={strapi} store={store}>\n      <Suspense fallback={<Page.Loading />}>\n        <GlobalNotifications />\n        {window.strapi.future.isEnabled('unstableMediaLibrary') &&\n          globalComponents.map(({ name, Component }) => <Component key={name} />)}\n        <Outlet />\n      </Suspense>\n    </Providers>\n  );\n};\n\nexport { App };\nexport type { AppProps };\n"],"names":["App","strapi","store","useEffect","language","localStorage","getItem","LANGUAGE_LOCAL_STORAGE_KEY","document","documentElement","lang","globalComponents","Object","entries","library","components","filter","name","startsWith","map","Component","_jsx","Providers","_jsxs","Suspense","fallback","Page","Loading","GlobalNotifications","window","future","isEnabled","Outlet"],"mappings":";;;;;;;;AAuBA,MAAMA,MAAM,CAAC,EAAEC,MAAM,EAAEC,KAAK,EAAY,GAAA;IACtCC,SAAU,CAAA,IAAA;AACR,QAAA,MAAMC,QAAWC,GAAAA,YAAAA,CAAaC,OAAO,CAACC,0BAA+B,CAAA,IAAA,IAAA;AAErE,QAAA,IAAIH,QAAU,EAAA;YACZI,QAASC,CAAAA,eAAe,CAACC,IAAI,GAAGN,QAAAA;AAClC;AACF,KAAA,EAAG,EAAE,CAAA;AAEL;;;;;;MAOA,MAAMO,gBAAmBC,GAAAA,MAAAA,CAAOC,OAAO,CAACZ,MAAOa,CAAAA,OAAO,CAACC,UAAU,CAC9DC,CAAAA,MAAM,CAAC,CAAC,CAACC,IAAAA,CAAK,GAAKA,IAAAA,CAAKC,UAAU,CAAC,iBACnCC,CAAAA,CAAAA,CAAAA,GAAG,CAAC,CAAC,CAACF,IAAAA,EAAMG,SAAU,CAAA,IAAM;AAAEH,YAAAA,IAAAA;AAAMG,YAAAA;SAAU,CAAA,CAAA;AAEjD,IAAA,qBACEC,GAACC,CAAAA,SAAAA,EAAAA;QAAUrB,MAAQA,EAAAA,MAAAA;QAAQC,KAAOA,EAAAA,KAAAA;AAChC,QAAA,QAAA,gBAAAqB,IAACC,CAAAA,QAAAA,EAAAA;YAASC,QAAU,gBAAAJ,GAAA,CAACK,KAAKC,OAAO,EAAA,EAAA,CAAA;;8BAC/BN,GAACO,CAAAA,mBAAAA,EAAAA,EAAAA,CAAAA;AACAC,gBAAAA,MAAAA,CAAO5B,MAAM,CAAC6B,MAAM,CAACC,SAAS,CAAC,2BAC9BpB,gBAAiBQ,CAAAA,GAAG,CAAC,CAAC,EAAEF,IAAI,EAAEG,SAAS,EAAE,iBAAKC,IAACD,SAAeH,EAAAA,EAAAA,EAAAA,IAAAA,CAAAA,CAAAA;8BAChEI,GAACW,CAAAA,MAAAA,EAAAA,EAAAA;;;;AAIT;;;;"}