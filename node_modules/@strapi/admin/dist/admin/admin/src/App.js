'use strict';

var jsxRuntime = require('react/jsx-runtime');
var React = require('react');
var reactRouterDom = require('react-router-dom');
var GlobalNotifications = require('../../ee/admin/src/components/GlobalNotifications.js');
var PageHelpers = require('./components/PageHelpers.js');
var Providers = require('./components/Providers.js');
var reducer = require('./reducer.js');

const App = ({ strapi, store })=>{
    React.useEffect(()=>{
        const language = localStorage.getItem(reducer.LANGUAGE_LOCAL_STORAGE_KEY) || 'en';
        if (language) {
            document.documentElement.lang = language;
        }
    }, []);
    /**
   * @internal
   * @experimental
   *
   * The `future-global::` namespace is intended for internal use.
   * It is experimental and could change or be removed in the future.
   */ const globalComponents = Object.entries(strapi.library.components).filter(([name])=>name.startsWith('future-global::')).map(([name, Component])=>({
            name,
            Component
        }));
    return /*#__PURE__*/ jsxRuntime.jsx(Providers.Providers, {
        strapi: strapi,
        store: store,
        children: /*#__PURE__*/ jsxRuntime.jsxs(React.Suspense, {
            fallback: /*#__PURE__*/ jsxRuntime.jsx(PageHelpers.Page.Loading, {}),
            children: [
                /*#__PURE__*/ jsxRuntime.jsx(GlobalNotifications.GlobalNotifications, {}),
                window.strapi.future.isEnabled('unstableMediaLibrary') && globalComponents.map(({ name, Component })=>/*#__PURE__*/ jsxRuntime.jsx(Component, {}, name)),
                /*#__PURE__*/ jsxRuntime.jsx(reactRouterDom.Outlet, {})
            ]
        })
    });
};

exports.App = App;
//# sourceMappingURL=App.js.map
