{"version":3,"file":"utils.mjs","sources":["../../../../admin/tests/utils.tsx"],"sourcesContent":["/* eslint-disable check-file/filename-naming-convention */\n\nimport * as React from 'react';\n\nimport { ConfigureStoreOptions, configureStore } from '@reduxjs/toolkit';\nimport { fixtures } from '@strapi/admin-test-utils';\nimport { darkTheme, lightTheme } from '@strapi/design-system';\nimport {\n  fireEvent,\n  renderHook as renderHookRTL,\n  render as renderRTL,\n  waitFor,\n  RenderOptions as RTLRenderOptions,\n  RenderResult,\n  act,\n  screen,\n  RenderHookOptions,\n  RenderHookResult,\n  Queries,\n} from '@testing-library/react';\nimport { userEvent } from '@testing-library/user-event';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { QueryClient, QueryClientProvider, setLogger } from 'react-query';\nimport { Provider } from 'react-redux';\nimport { MemoryRouterProps, RouterProvider, createMemoryRouter } from 'react-router-dom';\n\nimport { GuidedTourContext } from '../src/components/GuidedTour/Context';\nimport { LanguageProvider } from '../src/components/LanguageProvider';\nimport { Theme } from '../src/components/Theme';\nimport { RBAC } from '../src/core/apis/rbac';\nimport { AppInfoProvider } from '../src/features/AppInfo';\nimport { AuthProvider, type Permission } from '../src/features/Auth';\nimport { _internalConfigurationContextProvider as ConfigurationContextProvider } from '../src/features/Configuration';\nimport { NotificationsProvider } from '../src/features/Notifications';\nimport { StrapiAppProvider } from '../src/features/StrapiApp';\nimport { reducer as appReducer } from '../src/reducer';\nimport { adminApi } from '../src/services/api';\n\nimport { server } from './server';\nimport { initialState } from './store';\n\nsetLogger({\n  log: () => {},\n  warn: () => {},\n  error: () => {},\n});\n\n/**\n * RTL's `rerender()` updates the `children` passed to our test `render()` helper.\n * However, we keep a stable `routerRef` to avoid recreating the data router (which\n * can crash React Router). That means the route element tree would otherwise keep\n * rendering the initial children forever.\n *\n * We solve this by passing `children` via React context, so consumers inside the\n * router element tree still update on rerenders without recreating the router.\n */\nconst TestChildrenContext = React.createContext<React.ReactNode>(null);\n\nconst TestChildrenOutlet = () => {\n  return <>{React.useContext(TestChildrenContext)}</>;\n};\n\ninterface ProvidersProps {\n  children: React.ReactNode;\n  initialEntries?: MemoryRouterProps['initialEntries'];\n  storeConfig?: Partial<ConfigureStoreOptions>;\n  permissions?: Permission[] | ((defaultPermissions: Permission[]) => Permission[] | undefined);\n}\n\nconst defaultTestStoreConfig = () => ({\n  preloadedState: initialState(),\n  reducer: {\n    [adminApi.reducerPath]: adminApi.reducer,\n    admin_app: appReducer,\n  },\n  // @ts-expect-error â€“ this fails.\n  middleware: (getDefaultMiddleware) => [\n    ...getDefaultMiddleware({\n      // Disable timing checks for test env\n      immutableCheck: false,\n      serializableCheck: false,\n    }),\n    adminApi.middleware,\n  ],\n});\n\nconst DEFAULT_PERMISSIONS = [\n  ...fixtures.permissions.allPermissions,\n  {\n    id: 314,\n    action: 'admin::users.read',\n    subject: null,\n    properties: {},\n    conditions: [],\n    actionParameters: {},\n  },\n];\n\nconst Providers = ({ children, initialEntries, storeConfig, permissions = [] }: ProvidersProps) => {\n  /**\n   * Keep these instances stable for the lifetime of the render.\n   * Recreating the data router on rerenders can crash React Router.\n   */\n  const queryClientRef = React.useRef<QueryClient | null>(null);\n  const storeRef = React.useRef<ReturnType<typeof configureStore> | null>(null);\n  const routerRef = React.useRef<ReturnType<typeof createMemoryRouter> | null>(null);\n\n  if (queryClientRef.current === null) {\n    queryClientRef.current = new QueryClient({\n      defaultOptions: {\n        queries: {\n          retry: false,\n        },\n      },\n    });\n  }\n\n  if (storeRef.current === null) {\n    storeRef.current = configureStore({\n      ...defaultTestStoreConfig(),\n      ...storeConfig,\n    });\n  }\n\n  let allPermissions: Permission[];\n\n  if (typeof permissions === 'function') {\n    /**\n     * The callback form can return `undefined` to mean \"use defaults\".\n     * Guard against passing `undefined` into AuthProvider.\n     */\n    allPermissions = permissions(DEFAULT_PERMISSIONS) ?? DEFAULT_PERMISSIONS;\n  } else {\n    allPermissions = [...DEFAULT_PERMISSIONS, ...permissions];\n  }\n\n  if (routerRef.current === null) {\n    routerRef.current = createMemoryRouter(\n      [\n        {\n          path: '/*',\n          element: (\n            <StrapiAppProvider\n              components={{}}\n              rbac={new RBAC()}\n              widgets={\n                {\n                  widgets: [],\n                  getAll: jest.fn(),\n                  register: jest.fn(),\n                } as unknown as React.ComponentProps<typeof StrapiAppProvider>['widgets']\n              }\n              customFields={{\n                customFields: {},\n                get: jest.fn().mockReturnValue({\n                  name: 'color',\n                  pluginId: 'mycustomfields',\n                  type: 'text',\n                  icon: jest.fn(),\n                  intlLabel: {\n                    id: 'mycustomfields.color.label',\n                    defaultMessage: 'Color',\n                  },\n                  intlDescription: {\n                    id: 'mycustomfields.color.description',\n                    defaultMessage: 'Select any color',\n                  },\n                  components: {\n                    Input: jest.fn().mockResolvedValue({ default: jest.fn() }),\n                  },\n                }),\n                getAll: jest.fn(),\n                register: jest.fn(),\n              }}\n              fields={{}}\n              menu={[]}\n              getAdminInjectedComponents={jest.fn()}\n              getPlugin={jest.fn()}\n              plugins={{}}\n              runHookParallel={jest.fn()}\n              runHookWaterfall={jest.fn().mockImplementation((_name, initialValue) => initialValue)}\n              runHookSeries={jest.fn()}\n              settings={{}}\n            >\n              <Provider store={storeRef.current!}>\n                <AuthProvider _defaultPermissions={allPermissions} _disableRenewToken={true}>\n                  <QueryClientProvider client={queryClientRef.current!}>\n                    <DndProvider backend={HTML5Backend}>\n                      <LanguageProvider messages={{}}>\n                        <Theme\n                          themes={{\n                            dark: darkTheme,\n                            light: lightTheme,\n                          }}\n                        >\n                          <NotificationsProvider>\n                            <GuidedTourContext enabled={false}>\n                              <ConfigurationContextProvider\n                                showReleaseNotification={false}\n                                logos={{\n                                  auth: { default: 'default' },\n                                  menu: { default: 'default' },\n                                }}\n                                updateProjectSettings={jest.fn()}\n                              >\n                                <AppInfoProvider\n                                  autoReload\n                                  useYarn\n                                  dependencies={{\n                                    '@strapi/plugin-documentation': '4.2.0',\n                                    '@strapi/provider-upload-cloudinary': '4.2.0',\n                                  }}\n                                  strapiVersion=\"4.1.0\"\n                                  communityEdition\n                                  shouldUpdateStrapi={false}\n                                >\n                                  <TestChildrenOutlet />\n                                </AppInfoProvider>\n                              </ConfigurationContextProvider>\n                            </GuidedTourContext>\n                          </NotificationsProvider>\n                        </Theme>\n                      </LanguageProvider>\n                    </DndProvider>\n                  </QueryClientProvider>\n                </AuthProvider>\n              </Provider>\n            </StrapiAppProvider>\n          ),\n        },\n      ],\n      {\n        initialEntries,\n      }\n    );\n  }\n\n  // en is the default locale of the admin app.\n  return (\n    <TestChildrenContext.Provider value={children}>\n      <RouterProvider router={routerRef.current!} />\n    </TestChildrenContext.Provider>\n  );\n};\n\n// eslint-disable-next-line react/jsx-no-useless-fragment\nconst fallbackWrapper = ({ children }: { children: React.ReactNode }) => <>{children}</>;\n\nexport interface RenderOptions {\n  renderOptions?: RTLRenderOptions;\n  userEventOptions?: Parameters<typeof userEvent.setup>[0];\n  initialEntries?: MemoryRouterProps['initialEntries'];\n  providerOptions?: Pick<ProvidersProps, 'storeConfig' | 'permissions'>;\n}\n\n/**\n * @alpha\n * @description A custom render function that wraps the component with the necessary providers,\n * for use of testing components within the Strapi Admin.\n */\nconst render = (\n  ui: React.ReactElement,\n  { renderOptions, userEventOptions, initialEntries, providerOptions }: RenderOptions = {}\n): RenderResult & { user: ReturnType<typeof userEvent.setup> } => {\n  const { wrapper: Wrapper = fallbackWrapper, ...restOptions } = renderOptions ?? {};\n\n  return {\n    ...renderRTL(ui, {\n      wrapper: ({ children }) => (\n        <Providers initialEntries={initialEntries} {...providerOptions}>\n          <Wrapper>{children}</Wrapper>\n        </Providers>\n      ),\n      ...restOptions,\n    }),\n    user: userEvent.setup({\n      skipHover: true,\n      ...userEventOptions,\n    }),\n  };\n};\n\n/**\n * @alpha\n * @description A custom render-hook function that wraps the component with the necessary providers,\n * for use of testing hooks within the Strapi Admin.\n */\nconst renderHook = <\n  Result,\n  Props,\n  Q extends Queries,\n  Container extends Element | DocumentFragment = HTMLElement,\n  BaseElement extends Element | DocumentFragment = Container,\n>(\n  hook: (initialProps: Props) => Result,\n  options?: RenderHookOptions<Props, Q, Container, BaseElement> &\n    Pick<RenderOptions, 'initialEntries' | 'providerOptions'>\n): RenderHookResult<Result, Props> => {\n  const {\n    wrapper: Wrapper = fallbackWrapper,\n    initialEntries,\n    providerOptions,\n    ...restOptions\n  } = options ?? {};\n\n  return renderHookRTL(hook, {\n    wrapper: ({ children }) => (\n      <Providers initialEntries={initialEntries} {...providerOptions}>\n        <Wrapper>{children}</Wrapper>\n      </Providers>\n    ),\n    ...restOptions,\n  });\n};\n\nexport { render, renderHook, waitFor, server, act, screen, fireEvent, defaultTestStoreConfig };\n"],"names":["setLogger","log","warn","error","TestChildrenContext","React","createContext","TestChildrenOutlet","_jsx","_Fragment","useContext","defaultTestStoreConfig","preloadedState","initialState","reducer","adminApi","reducerPath","admin_app","appReducer","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","DEFAULT_PERMISSIONS","fixtures","permissions","allPermissions","id","action","subject","properties","conditions","actionParameters","Providers","children","initialEntries","storeConfig","queryClientRef","useRef","storeRef","routerRef","current","QueryClient","defaultOptions","queries","retry","configureStore","createMemoryRouter","path","element","StrapiAppProvider","components","rbac","RBAC","widgets","getAll","jest","fn","register","customFields","get","mockReturnValue","name","pluginId","type","icon","intlLabel","defaultMessage","intlDescription","Input","mockResolvedValue","default","fields","menu","getAdminInjectedComponents","getPlugin","plugins","runHookParallel","runHookWaterfall","mockImplementation","_name","initialValue","runHookSeries","settings","Provider","store","AuthProvider","_defaultPermissions","_disableRenewToken","QueryClientProvider","client","DndProvider","backend","HTML5Backend","LanguageProvider","messages","Theme","themes","dark","darkTheme","light","lightTheme","NotificationsProvider","GuidedTourContext","enabled","ConfigurationContextProvider","showReleaseNotification","logos","auth","updateProjectSettings","AppInfoProvider","autoReload","useYarn","dependencies","strapiVersion","communityEdition","shouldUpdateStrapi","value","RouterProvider","router","fallbackWrapper","render","ui","renderOptions","userEventOptions","providerOptions","wrapper","Wrapper","restOptions","renderRTL","user","userEvent","setup","skipHover","renderHook","hook","options","renderHookRTL"],"mappings":"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"}