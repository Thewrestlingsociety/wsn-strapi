{
  "version": 3,
  "sources": ["../../../@strapi/content-type-builder/node_modules/lodash/cloneDeep.js", "../../../@strapi/i18n/node_modules/lodash/isArray.js", "../../../@strapi/i18n/node_modules/lodash/_freeGlobal.js", "../../../@strapi/i18n/node_modules/lodash/_root.js", "../../../@strapi/i18n/node_modules/lodash/_Symbol.js", "../../../@strapi/i18n/node_modules/lodash/_getRawTag.js", "../../../@strapi/i18n/node_modules/lodash/_objectToString.js", "../../../@strapi/i18n/node_modules/lodash/_baseGetTag.js", "../../../@strapi/i18n/node_modules/lodash/isObjectLike.js", "../../../@strapi/i18n/node_modules/lodash/isSymbol.js", "../../../@strapi/i18n/node_modules/lodash/_isKey.js", "../../../@strapi/i18n/node_modules/lodash/isObject.js", "../../../@strapi/i18n/node_modules/lodash/isFunction.js", "../../../@strapi/i18n/node_modules/lodash/_coreJsData.js", "../../../@strapi/i18n/node_modules/lodash/_isMasked.js", "../../../@strapi/i18n/node_modules/lodash/_toSource.js", "../../../@strapi/i18n/node_modules/lodash/_baseIsNative.js", "../../../@strapi/i18n/node_modules/lodash/_getValue.js", "../../../@strapi/i18n/node_modules/lodash/_getNative.js", "../../../@strapi/i18n/node_modules/lodash/_nativeCreate.js", "../../../@strapi/i18n/node_modules/lodash/_hashClear.js", "../../../@strapi/i18n/node_modules/lodash/_hashDelete.js", "../../../@strapi/i18n/node_modules/lodash/_hashGet.js", "../../../@strapi/i18n/node_modules/lodash/_hashHas.js", "../../../@strapi/i18n/node_modules/lodash/_hashSet.js", "../../../@strapi/i18n/node_modules/lodash/_Hash.js", "../../../@strapi/i18n/node_modules/lodash/_listCacheClear.js", "../../../@strapi/i18n/node_modules/lodash/eq.js", "../../../@strapi/i18n/node_modules/lodash/_assocIndexOf.js", "../../../@strapi/i18n/node_modules/lodash/_listCacheDelete.js", "../../../@strapi/i18n/node_modules/lodash/_listCacheGet.js", "../../../@strapi/i18n/node_modules/lodash/_listCacheHas.js", "../../../@strapi/i18n/node_modules/lodash/_listCacheSet.js", "../../../@strapi/i18n/node_modules/lodash/_ListCache.js", "../../../@strapi/i18n/node_modules/lodash/_Map.js", "../../../@strapi/i18n/node_modules/lodash/_mapCacheClear.js", "../../../@strapi/i18n/node_modules/lodash/_isKeyable.js", "../../../@strapi/i18n/node_modules/lodash/_getMapData.js", "../../../@strapi/i18n/node_modules/lodash/_mapCacheDelete.js", "../../../@strapi/i18n/node_modules/lodash/_mapCacheGet.js", "../../../@strapi/i18n/node_modules/lodash/_mapCacheHas.js", "../../../@strapi/i18n/node_modules/lodash/_mapCacheSet.js", "../../../@strapi/i18n/node_modules/lodash/_MapCache.js", "../../../@strapi/i18n/node_modules/lodash/memoize.js", "../../../@strapi/i18n/node_modules/lodash/_memoizeCapped.js", "../../../@strapi/i18n/node_modules/lodash/_stringToPath.js", "../../../@strapi/i18n/node_modules/lodash/_arrayMap.js", "../../../@strapi/i18n/node_modules/lodash/_baseToString.js", "../../../@strapi/i18n/node_modules/lodash/toString.js", "../../../@strapi/i18n/node_modules/lodash/_castPath.js", "../../../@strapi/i18n/node_modules/lodash/_toKey.js", "../../../@strapi/i18n/node_modules/lodash/_baseGet.js", "../../../@strapi/i18n/node_modules/lodash/get.js", "../../../@strapi/i18n/node_modules/lodash/_arrayPush.js", "../../../@strapi/i18n/node_modules/lodash/_baseIsArguments.js", "../../../@strapi/i18n/node_modules/lodash/isArguments.js", "../../../@strapi/i18n/node_modules/lodash/_isFlattenable.js", "../../../@strapi/i18n/node_modules/lodash/_baseFlatten.js", "../../../@strapi/i18n/node_modules/lodash/identity.js", "../../../@strapi/i18n/node_modules/lodash/_apply.js", "../../../@strapi/i18n/node_modules/lodash/_overRest.js", "../../../@strapi/i18n/node_modules/lodash/constant.js", "../../../@strapi/i18n/node_modules/lodash/_defineProperty.js", "../../../@strapi/i18n/node_modules/lodash/_baseSetToString.js", "../../../@strapi/i18n/node_modules/lodash/_shortOut.js", "../../../@strapi/i18n/node_modules/lodash/_setToString.js", "../../../@strapi/i18n/node_modules/lodash/_baseRest.js", "../../../@strapi/i18n/node_modules/lodash/_setCacheAdd.js", "../../../@strapi/i18n/node_modules/lodash/_setCacheHas.js", "../../../@strapi/i18n/node_modules/lodash/_SetCache.js", "../../../@strapi/i18n/node_modules/lodash/_baseFindIndex.js", "../../../@strapi/i18n/node_modules/lodash/_baseIsNaN.js", "../../../@strapi/i18n/node_modules/lodash/_strictIndexOf.js", "../../../@strapi/i18n/node_modules/lodash/_baseIndexOf.js", "../../../@strapi/i18n/node_modules/lodash/_arrayIncludes.js", "../../../@strapi/i18n/node_modules/lodash/_arrayIncludesWith.js", "../../../@strapi/i18n/node_modules/lodash/_cacheHas.js", "../../../@strapi/i18n/node_modules/lodash/_Set.js", "../../../@strapi/i18n/node_modules/lodash/noop.js", "../../../@strapi/i18n/node_modules/lodash/_setToArray.js", "../../../@strapi/i18n/node_modules/lodash/_createSet.js", "../../../@strapi/i18n/node_modules/lodash/_baseUniq.js", "../../../@strapi/i18n/node_modules/lodash/isLength.js", "../../../@strapi/i18n/node_modules/lodash/isArrayLike.js", "../../../@strapi/i18n/node_modules/lodash/isArrayLikeObject.js", "../../../@strapi/i18n/node_modules/lodash/union.js", "../../../@strapi/i18n/node_modules/lodash/_baseHas.js", "../../../@strapi/i18n/node_modules/lodash/_isIndex.js", "../../../@strapi/i18n/node_modules/lodash/_hasPath.js", "../../../@strapi/i18n/node_modules/lodash/has.js", "../../../@strapi/i18n/node_modules/lodash/_stackClear.js", "../../../@strapi/i18n/node_modules/lodash/_stackDelete.js", "../../../@strapi/i18n/node_modules/lodash/_stackGet.js", "../../../@strapi/i18n/node_modules/lodash/_stackHas.js", "../../../@strapi/i18n/node_modules/lodash/_stackSet.js", "../../../@strapi/i18n/node_modules/lodash/_Stack.js", "../../../@strapi/i18n/node_modules/lodash/_arrayEach.js", "../../../@strapi/i18n/node_modules/lodash/_baseAssignValue.js", "../../../@strapi/i18n/node_modules/lodash/_assignValue.js", "../../../@strapi/i18n/node_modules/lodash/_copyObject.js", "../../../@strapi/i18n/node_modules/lodash/_baseTimes.js", "../../../@strapi/i18n/node_modules/lodash/stubFalse.js", "../../../@strapi/i18n/node_modules/lodash/isBuffer.js", "../../../@strapi/i18n/node_modules/lodash/_baseIsTypedArray.js", "../../../@strapi/i18n/node_modules/lodash/_baseUnary.js", "../../../@strapi/i18n/node_modules/lodash/_nodeUtil.js", "../../../@strapi/i18n/node_modules/lodash/isTypedArray.js", "../../../@strapi/i18n/node_modules/lodash/_arrayLikeKeys.js", "../../../@strapi/i18n/node_modules/lodash/_isPrototype.js", "../../../@strapi/i18n/node_modules/lodash/_overArg.js", "../../../@strapi/i18n/node_modules/lodash/_nativeKeys.js", "../../../@strapi/i18n/node_modules/lodash/_baseKeys.js", "../../../@strapi/i18n/node_modules/lodash/keys.js", "../../../@strapi/i18n/node_modules/lodash/_baseAssign.js", "../../../@strapi/i18n/node_modules/lodash/_nativeKeysIn.js", "../../../@strapi/i18n/node_modules/lodash/_baseKeysIn.js", "../../../@strapi/i18n/node_modules/lodash/keysIn.js", "../../../@strapi/i18n/node_modules/lodash/_baseAssignIn.js", "../../../@strapi/i18n/node_modules/lodash/_cloneBuffer.js", "../../../@strapi/i18n/node_modules/lodash/_copyArray.js", "../../../@strapi/i18n/node_modules/lodash/_arrayFilter.js", "../../../@strapi/i18n/node_modules/lodash/stubArray.js", "../../../@strapi/i18n/node_modules/lodash/_getSymbols.js", "../../../@strapi/i18n/node_modules/lodash/_copySymbols.js", "../../../@strapi/i18n/node_modules/lodash/_getPrototype.js", "../../../@strapi/i18n/node_modules/lodash/_getSymbolsIn.js", "../../../@strapi/i18n/node_modules/lodash/_copySymbolsIn.js", "../../../@strapi/i18n/node_modules/lodash/_baseGetAllKeys.js", "../../../@strapi/i18n/node_modules/lodash/_getAllKeys.js", "../../../@strapi/i18n/node_modules/lodash/_getAllKeysIn.js", "../../../@strapi/i18n/node_modules/lodash/_DataView.js", "../../../@strapi/i18n/node_modules/lodash/_Promise.js", "../../../@strapi/i18n/node_modules/lodash/_WeakMap.js", "../../../@strapi/i18n/node_modules/lodash/_getTag.js", "../../../@strapi/i18n/node_modules/lodash/_initCloneArray.js", "../../../@strapi/i18n/node_modules/lodash/_Uint8Array.js", "../../../@strapi/i18n/node_modules/lodash/_cloneArrayBuffer.js", "../../../@strapi/i18n/node_modules/lodash/_cloneDataView.js", "../../../@strapi/i18n/node_modules/lodash/_cloneRegExp.js", "../../../@strapi/i18n/node_modules/lodash/_cloneSymbol.js", "../../../@strapi/i18n/node_modules/lodash/_cloneTypedArray.js", "../../../@strapi/i18n/node_modules/lodash/_initCloneByTag.js", "../../../@strapi/i18n/node_modules/lodash/_baseCreate.js", "../../../@strapi/i18n/node_modules/lodash/_initCloneObject.js", "../../../@strapi/i18n/node_modules/lodash/_baseIsMap.js", "../../../@strapi/i18n/node_modules/lodash/isMap.js", "../../../@strapi/i18n/node_modules/lodash/_baseIsSet.js", "../../../@strapi/i18n/node_modules/lodash/isSet.js", "../../../@strapi/i18n/node_modules/lodash/_baseClone.js", "../../../@strapi/i18n/node_modules/lodash/last.js", "../../../@strapi/i18n/node_modules/lodash/_baseSlice.js", "../../../@strapi/i18n/node_modules/lodash/_parent.js", "../../../@strapi/i18n/node_modules/lodash/_baseUnset.js", "../../../@strapi/i18n/node_modules/lodash/isPlainObject.js", "../../../@strapi/i18n/node_modules/lodash/_customOmitClone.js", "../../../@strapi/i18n/node_modules/lodash/flatten.js", "../../../@strapi/i18n/node_modules/lodash/_flatRest.js", "../../../@strapi/i18n/node_modules/lodash/omit.js", "../../../@strapi/content-type-builder/admin/src/reducers.ts", "../../../@strapi/content-type-builder/admin/src/utils/formAPI.ts", "../../../@strapi/content-type-builder/admin/src/utils/prefixPluginTranslations.ts", "../../../@strapi/content-type-builder/admin/src/index.ts", "../../../@strapi/email/admin/src/utils/prefixPluginTranslations.ts", "../../../@strapi/email/admin/src/index.ts", "../../../@strapi/upload/admin/src/hooks/useModalQueryParams.ts", "../../../@strapi/upload/admin/src/utils/toSingularTypes.ts", "../../../@strapi/upload/admin/src/utils/getAllowedFiles.ts", "../../../@strapi/upload/admin/src/utils/moveElement.ts", "../../../@strapi/upload/admin/src/utils/getBreadcrumbDataCM.ts", "../../../@strapi/upload/admin/src/components/AssetDialog/BrowseStep/Filters.tsx", "../../../@strapi/upload/admin/src/components/AssetDialog/BrowseStep/PageSize.tsx", "../../../@strapi/upload/admin/src/components/AssetDialog/BrowseStep/PaginationFooter/Pagination.tsx", "../../../@strapi/upload/admin/src/components/AssetDialog/BrowseStep/PaginationFooter/PaginationFooter.tsx", "../../../@strapi/upload/admin/src/components/AssetDialog/BrowseStep/SearchAsset/SearchAsset.tsx", "../../../@strapi/upload/admin/src/components/AssetDialog/BrowseStep/utils/isSelectable.ts", "../../../@strapi/upload/admin/src/components/AssetDialog/BrowseStep/BrowseStep.tsx", "../../../@strapi/upload/admin/src/components/AssetDialog/DialogFooter.tsx", "../../../@strapi/upload/admin/src/components/AssetDialog/SelectedStep/SelectedStep.tsx", "../../../@strapi/upload/admin/src/components/AssetDialog/AssetDialog.tsx", "../../../@strapi/upload/admin/src/components/MediaLibraryDialog/MediaLibraryDialog.tsx", "../../../@strapi/upload/admin/src/components/MediaLibraryInput/Carousel/CarouselAsset.tsx", "../../../@strapi/upload/admin/src/components/MediaLibraryInput/Carousel/CarouselAssetActions.tsx", "../../../@strapi/upload/admin/src/components/MediaLibraryInput/Carousel/EmptyStateAsset.tsx", "../../../@strapi/upload/admin/src/components/MediaLibraryInput/Carousel/CarouselAssets.tsx", "../../../@strapi/upload/admin/src/components/MediaLibraryInput/MediaLibraryInput.tsx", "../../../@strapi/upload/node_modules/@radix-ui/react-dialog/src/dialog.tsx", "../../../@strapi/upload/node_modules/@radix-ui/react-dismissable-layer/src/dismissable-layer.tsx", "../../../@strapi/upload/node_modules/@radix-ui/react-use-escape-keydown/src/use-escape-keydown.tsx", "../../../@strapi/upload/node_modules/@radix-ui/react-focus-scope/src/focus-scope.tsx", "../../../@strapi/upload/node_modules/@radix-ui/react-portal/src/portal.tsx", "../../../@strapi/upload/node_modules/@radix-ui/react-presence/src/presence.tsx", "../../../@strapi/upload/node_modules/@radix-ui/react-presence/src/use-state-machine.tsx", "../../../@strapi/upload/node_modules/@radix-ui/react-focus-guards/src/focus-guards.tsx", "../../../@strapi/upload/node_modules/react-remove-scroll/dist/es2015/Combination.js", "../../../@strapi/upload/node_modules/react-remove-scroll/dist/es2015/UI.js", "../../../@strapi/upload/node_modules/react-remove-scroll/dist/es2015/medium.js", "../../../@strapi/upload/node_modules/react-remove-scroll/dist/es2015/SideEffect.js", "../../../@strapi/upload/node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js", "../../../@strapi/upload/node_modules/react-remove-scroll/dist/es2015/handleScroll.js", "../../../@strapi/upload/node_modules/react-remove-scroll/dist/es2015/sidecar.js", "../../../@strapi/upload/admin/src/future/store/hooks.ts", "../../../@strapi/upload/admin/src/future/components/UploadProgressDialog.tsx", "../../../@strapi/upload/admin/src/utils/prefixPluginTranslations.ts", "../../../@strapi/upload/admin/src/index.ts", "../../../@strapi/i18n/admin/src/components/CheckboxConfirmation.tsx", "../../../@strapi/i18n/admin/src/services/aiLocalizationJobs.ts", "../../../@strapi/i18n/admin/src/hooks/useAILocalizationJobsPolling.ts", "../../../@strapi/i18n/admin/src/utils/fields.ts", "../../../@strapi/i18n/admin/src/utils/strings.ts", "../../../@strapi/i18n/admin/src/hooks/useI18n.ts", "../../../@strapi/i18n/admin/src/services/relations.ts", "../../../@strapi/i18n/admin/src/utils/clean.ts", "../../../@strapi/i18n/admin/src/components/BulkLocaleActionModal.tsx", "../../../@strapi/i18n/admin/src/components/CMHeaderActions.tsx", "../../../@strapi/i18n/admin/src/components/CMListViewModalsAdditionalInformation.tsx", "../../../@strapi/i18n/admin/src/components/LocalePicker.tsx", "../../../@strapi/i18n/admin/src/contentManagerHooks/editView.tsx", "../../../@strapi/i18n/admin/src/components/LocaleListCell.tsx", "../../../@strapi/i18n/admin/src/contentManagerHooks/listView.tsx", "../../../@strapi/i18n/admin/src/contentReleasesHooks/releaseDetailsView.ts", "../../../@strapi/i18n/admin/src/middlewares/extendCTBAttributeInitialData.ts", "../../../@strapi/i18n/admin/src/middlewares/extendCTBInitialData.ts", "../../../@strapi/i18n/admin/src/middlewares/rbac-middleware.ts", "../../../@strapi/i18n/admin/src/utils/prefixPluginTranslations.ts", "../../../@strapi/i18n/admin/src/utils/schemas.ts", "../../../@strapi/i18n/admin/src/index.ts", "../../../@strapi/content-releases/admin/src/components/ReleaseActionModal.tsx", "../../../@strapi/content-releases/admin/src/components/ReleaseAction.tsx", "../../../@strapi/content-releases/admin/src/components/ReleaseListCell.tsx", "../../../@strapi/content-releases/admin/src/components/ReleasesPanel.tsx", "../../../@strapi/content-releases/admin/src/utils/prefixPluginTranslations.ts", "../../../@strapi/content-releases/admin/src/index.ts", "../../../@strapi/review-workflows/admin/src/routes/content-manager/model/id/components/constants.ts", "../../../@strapi/review-workflows/admin/src/routes/content-manager/model/id/components/AssigneeSelect.tsx", "../../../@strapi/review-workflows/admin/src/routes/content-manager/model/id/components/StageSelect.tsx", "../../../@strapi/review-workflows/admin/src/routes/content-manager/model/id/components/Header.tsx", "../../../@strapi/review-workflows/admin/src/routes/content-manager/model/id/components/Panel.tsx", "../../../@strapi/review-workflows/admin/src/routes/content-manager/model/constants.tsx", "../../../@strapi/review-workflows/admin/src/utils/cm-hooks.ts", "../../../@strapi/review-workflows/admin/src/utils/translations.ts", "../../../@strapi/review-workflows/admin/src/index.ts", "../../../@strapi/strapi/src/admin.ts"],
  "sourcesContent": ["var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n", "/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n", "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n", "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n", "var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n", "var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n", "var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n", "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n", "var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n", "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n", "var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n", "var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n", "/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n", "var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n", "/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n", "var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n", "var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n", "var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n", "/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n", "var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n", "/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n", "/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n", "var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n", "var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n", "var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n", "/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n", "var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n", "var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n", "var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n", "var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n", "var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n", "/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n", "var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n", "var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n", "var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n", "var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n", "var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n", "var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n", "/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n", "var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n", "var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n", "var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n", "/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n", "/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n", "var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n", "/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n", "var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n", "var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n", "/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n", "var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n", "var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n", "/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n", "/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n", "var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n", "/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n", "/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n", "/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n", "var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n", "var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n", "/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n", "/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n", "/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n", "/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n", "var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n", "var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n", "var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n", "var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n", "var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n", "var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n", "var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n", "var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n", "/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n", "/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n", "/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n", "var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n", "var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n", "/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n", "var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n", "var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n", "var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n", "/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n", "/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n", "var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n", "var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n", "/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n", "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n", "var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n", "var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n", "/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n", "var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n", "var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n", "var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n", "var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n", "/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n", "var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n", "var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n", "var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n", "var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n", "/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n", "/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n", "/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n", "var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n", "var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n", "var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n", "var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n", "var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n", "var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n", "var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n", "var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n", "var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n", "var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n", "var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n", "/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n", "var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n", "var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n", "var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n", "var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n", "var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n", "var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n", "var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n", "var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n", "/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n", "/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n", "var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n", "var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n\n  // Prevent prototype pollution, see: https://github.com/lodash/lodash/security/advisories/GHSA-xxjr-mmjv-4gpg\n  var index = -1,\n      length = path.length;\n\n  if (!length) {\n    return true;\n  }\n\n  var isRootPrimitive = object == null || (typeof object !== 'object' && typeof object !== 'function');\n\n  while (++index < length) {\n    var key = path[index];\n\n    // skip non-string keys (e.g., Symbols, numbers)\n    if (typeof key !== 'string') {\n      continue;\n    }\n\n    // Always block \"__proto__\" anywhere in the path if it's not expected\n    if (key === '__proto__' && !hasOwnProperty.call(object, '__proto__')) {\n      return false;\n    }\n\n    // Block \"constructor.prototype\" chains\n    if (key === 'constructor' &&\n        (index + 1) < length &&\n        typeof path[index + 1] === 'string' &&\n        path[index + 1] === 'prototype') {\n\n      // Allow ONLY when the path starts at a primitive root, e.g., _.unset(0, 'constructor.prototype.a')\n      if (isRootPrimitive && index === 0) {\n        continue;\n      }\n\n      return false;\n    }\n  }\n\n  var obj = parent(object, path);\n  return obj == null || delete obj[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n", "var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n", "var isPlainObject = require('./isPlainObject');\n\n/**\n * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n * objects.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {string} key The key of the property to inspect.\n * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n */\nfunction customOmitClone(value) {\n  return isPlainObject(value) ? undefined : value;\n}\n\nmodule.exports = customOmitClone;\n", "var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n", "var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n", "var arrayMap = require('./_arrayMap'),\n    baseClone = require('./_baseClone'),\n    baseUnset = require('./_baseUnset'),\n    castPath = require('./_castPath'),\n    copyObject = require('./_copyObject'),\n    customOmitClone = require('./_customOmitClone'),\n    flatRest = require('./_flatRest'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable property paths of `object` that are not omitted.\n *\n * **Note:** This method is considerably slower than `_.pick`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = flatRest(function(object, paths) {\n  var result = {};\n  if (object == null) {\n    return result;\n  }\n  var isDeep = false;\n  paths = arrayMap(paths, function(path) {\n    path = castPath(path, object);\n    isDeep || (isDeep = path.length > 1);\n    return path;\n  });\n  copyObject(object, getAllKeysIn(object), result);\n  if (isDeep) {\n    result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n  }\n  var length = paths.length;\n  while (length--) {\n    baseUnset(result, paths[length]);\n  }\n  return result;\n});\n\nmodule.exports = omit;\n", "import { reducer as dataManagerProviderReducer } from './components/DataManager/reducer';\nimport { reducer as formModalReducer } from './components/FormModal/reducer';\n\nexport const reducers = {\n  [`content-type-builder_formModal`]: formModalReducer,\n  [`content-type-builder_dataManagerProvider`]: dataManagerProviderReducer,\n};\n", "import cloneDeep from 'lodash/cloneDeep';\nimport get from 'lodash/get';\nimport * as yup from 'yup';\n\nexport interface FormAPI {\n  components: {\n    inputs: Record<string, any>;\n    add: ({ id, component }: { id: string; component: any }) => void;\n  };\n  types: {\n    attribute: {\n      [key: string]: {\n        validators: any[];\n        form: {\n          advanced: any[];\n          base: any[];\n        };\n      };\n    };\n    contentType: {\n      validators: any[];\n      form: {\n        advanced: any[];\n        base: any[];\n      };\n    };\n    component: {\n      validators: any[];\n      form: {\n        advanced: any[];\n        base: any[];\n      };\n    };\n  };\n  contentTypeSchemaMutations: any[];\n  addContentTypeSchemaMutation: (cb: any) => void;\n  extendContentType: (data: any) => void;\n  extendFields: (fields: any[], data: any) => void;\n  getAdvancedForm: (target: any, props?: any) => any[];\n  makeCustomFieldValidator: (attributeShape: any, validator: any, ...validatorArgs: any) => any;\n  makeValidator: (target: any, initShape: any, ...args: any) => any;\n  mutateContentTypeSchema: (\n    data: Record<string, unknown>,\n    initialData: Record<string, unknown>\n  ) => any;\n}\n\nexport const formsAPI: FormAPI = {\n  components: {\n    inputs: {},\n    add({ id, component }) {\n      if (!this.inputs[id]) {\n        this.inputs[id] = component;\n      }\n    },\n  },\n  types: {\n    attribute: {\n      // test: {\n      //   validators: [],\n      //   form: {\n      //     advanced: [\n      //       /* cb */\n      //     ],\n      //     base: [\n      //       /* cb */\n      //     ],\n      //   },\n      // },\n    },\n    contentType: {\n      validators: [],\n      form: {\n        advanced: [],\n        base: [],\n      },\n    },\n    component: {\n      validators: [],\n      form: {\n        advanced: [],\n        base: [],\n      },\n    },\n  },\n  contentTypeSchemaMutations: [],\n  addContentTypeSchemaMutation(cb) {\n    this.contentTypeSchemaMutations.push(cb);\n  },\n  extendContentType({ validator, form: { advanced, base } }) {\n    const { contentType } = this.types;\n\n    if (validator) {\n      contentType.validators.push(validator);\n    }\n    contentType.form.advanced.push(advanced);\n    contentType.form.base.push(base);\n  },\n  extendFields(fields, { validator, form: { advanced, base } }) {\n    const formType = this.types.attribute;\n\n    fields.forEach((field) => {\n      if (!formType[field]) {\n        formType[field] = {\n          validators: [],\n          form: {\n            advanced: [\n              /* cb */\n            ],\n            base: [\n              /* cb */\n            ],\n          },\n        };\n      }\n\n      if (validator) {\n        formType[field].validators.push(validator);\n      }\n      formType[field].form.advanced.push(advanced);\n      formType[field].form.base.push(base);\n    });\n  },\n\n  getAdvancedForm(target, props = null) {\n    const sectionsToAdd = get(this.types, [...target, 'form', 'advanced'], []).reduce(\n      (acc: any, current: any) => {\n        const sections = current(props);\n\n        return [...acc, ...sections];\n      },\n      []\n    );\n\n    return sectionsToAdd;\n  },\n\n  makeCustomFieldValidator(attributeShape, validator, ...validatorArgs) {\n    // When no validator, return the attribute shape\n    if (!validator) return attributeShape;\n\n    // Otherwise extend the shape with the provided validator\n    return attributeShape.shape({ options: yup.object().shape(validator(validatorArgs)) });\n  },\n\n  makeValidator(target, initShape, ...args) {\n    const validators = get(this.types, [...target, 'validators'], []);\n\n    const pluginOptionsShape = validators.reduce((acc: any, current: any) => {\n      const pluginOptionShape = current(args);\n\n      return { ...acc, ...pluginOptionShape };\n    }, {});\n\n    return initShape.shape({ pluginOptions: yup.object().shape(pluginOptionsShape) });\n  },\n  mutateContentTypeSchema(data: Record<string, unknown>, initialData: Record<string, unknown>) {\n    let enhancedData = cloneDeep(data);\n\n    const refData = cloneDeep(initialData);\n\n    this.contentTypeSchemaMutations.forEach((cb: any) => {\n      enhancedData = cb(enhancedData, refData);\n    });\n\n    return enhancedData;\n  },\n};\n", "type TradOptions = Record<string, string>;\n\nconst prefixPluginTranslations = (trad: TradOptions, pluginId: string): TradOptions => {\n  if (!pluginId) {\n    throw new TypeError(\"pluginId can't be empty\");\n  }\n  return Object.keys(trad).reduce((acc, current) => {\n    acc[`${pluginId}.${current}`] = trad[current];\n    return acc;\n  }, {} as TradOptions);\n};\n\nexport { prefixPluginTranslations };\n", "import { Layout } from '@strapi/icons';\n\nimport { PERMISSIONS } from './constants';\nimport { pluginId } from './pluginId';\nimport { reducers } from './reducers';\nimport { formsAPI } from './utils/formAPI';\nimport { prefixPluginTranslations } from './utils/prefixPluginTranslations';\n\nimport type { StrapiApp } from '@strapi/admin/strapi-admin';\n\n// eslint-disable-next-line import/no-default-export\nexport default {\n  register(app: StrapiApp) {\n    app.addReducers(reducers);\n    app.addMenuLink({\n      to: `plugins/${pluginId}`,\n      icon: Layout,\n      intlLabel: {\n        id: `${pluginId}.plugin.name`,\n        defaultMessage: 'Content-Type Builder',\n      },\n      permissions: PERMISSIONS.main,\n      Component: () => import('./pages/App'),\n      position: 5,\n    });\n\n    app.registerPlugin({\n      id: pluginId,\n      name: pluginId,\n      // Internal APIs exposed by the CTB for the other plugins to use\n      apis: {\n        forms: formsAPI,\n      },\n    });\n  },\n  bootstrap() {},\n  async registerTrads({ locales }: { locales: string[] }) {\n    const importedTrads = await Promise.all(\n      locales.map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: prefixPluginTranslations(data, pluginId),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n\nexport * from './exports';\n", "type TradOptions = Record<string, string>;\n\nconst prefixPluginTranslations = (trad: TradOptions, pluginId: string): TradOptions => {\n  if (!pluginId) {\n    throw new TypeError(\"pluginId can't be empty\");\n  }\n  return Object.keys(trad).reduce((acc, current) => {\n    acc[`${pluginId}.${current}`] = trad[current];\n    return acc;\n  }, {} as TradOptions);\n};\n\nexport { prefixPluginTranslations };\n", "import { PERMISSIONS } from './constants';\nimport { prefixPluginTranslations } from './utils/prefixPluginTranslations';\n\nimport type { Plugin } from '@strapi/types';\n\nconst admin: Plugin.Config.AdminInput = {\n  // TODO typing app in strapi/types as every plugin needs it\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  register(app: any) {\n    // Create the email settings section\n    app.createSettingSection(\n      {\n        id: 'email',\n        intlLabel: { id: 'email.SettingsNav.section-label', defaultMessage: 'Email Plugin' },\n      },\n      [\n        {\n          intlLabel: {\n            id: 'email.Settings.email.plugin.title',\n            defaultMessage: 'Settings',\n          },\n          id: 'settings',\n          to: 'email',\n          Component: () =>\n            import('./pages/Settings').then((mod) => ({\n              default: mod.ProtectedSettingsPage,\n            })),\n          permissions: PERMISSIONS.settings,\n        },\n      ]\n    );\n    app.registerPlugin({\n      id: 'email',\n      name: 'email',\n    });\n  },\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\n  bootstrap() {},\n  async registerTrads({ locales }: { locales: string[] }) {\n    const importedTrads = await Promise.all(\n      locales.map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: prefixPluginTranslations(data, 'email'),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default admin;\n", "import * as React from 'react';\n\nimport { stringify } from 'qs';\n\nimport { useConfig } from './useConfig';\nimport { useTracking } from './useTracking';\n\nimport type { Query, FilterCondition } from '../../../shared/contracts/files';\n\nexport const useModalQueryParams = (initialState?: Partial<Query>) => {\n  const { trackUsage } = useTracking();\n  const {\n    config: { data: config },\n  } = useConfig();\n\n  const [queryObject, setQueryObject] = React.useState<Query>({\n    page: 1,\n    sort: 'updatedAt:DESC',\n    pageSize: 10,\n    filters: {\n      $and: [],\n    },\n    ...initialState,\n  });\n\n  React.useEffect(() => {\n    if (config && 'sort' in config && 'pageSize' in config) {\n      setQueryObject((prevQuery) => ({\n        ...prevQuery,\n        sort: config.sort,\n        pageSize: config.pageSize,\n      }));\n    }\n  }, [config]);\n\n  const handleChangeFilters = (nextFilters: FilterCondition<string>[]) => {\n    if (nextFilters) {\n      trackUsage('didFilterMediaLibraryElements', {\n        location: 'content-manager',\n        filter: Object.keys(nextFilters[nextFilters.length - 1])[0],\n      });\n      setQueryObject((prev) => ({ ...prev, page: 1, filters: { $and: nextFilters } }));\n    }\n  };\n\n  const handleChangePageSize = (pageSize: Query['pageSize']) => {\n    setQueryObject((prev) => ({\n      ...prev,\n      pageSize: typeof pageSize === 'string' ? parseInt(pageSize, 10) : pageSize,\n      page: 1,\n    }));\n  };\n\n  const handeChangePage = (page: Query['page']) => {\n    setQueryObject((prev) => ({ ...prev, page }));\n  };\n\n  const handleChangeSort = (sort: Query['sort']) => {\n    if (sort) {\n      trackUsage('didSortMediaLibraryElements', {\n        location: 'content-manager',\n        sort,\n      });\n      setQueryObject((prev) => ({ ...prev, sort }));\n    }\n  };\n\n  const handleChangeSearch = (_q: Query['_q'] | null) => {\n    if (_q) {\n      setQueryObject((prev) => ({ ...prev, _q, page: 1 }));\n    } else {\n      const newState: Query = { page: 1 };\n\n      Object.keys(queryObject).forEach((key) => {\n        if (!['page', '_q'].includes(key)) {\n          (newState as Record<string, string | number | undefined>)[key] = (\n            queryObject as Record<string, string | number | undefined>\n          )[key];\n        }\n      });\n\n      setQueryObject(newState);\n    }\n  };\n\n  const handleChangeFolder = (folder: Query['folder'], folderPath: Query['folderPath']) => {\n    setQueryObject((prev) => ({ ...prev, folder: folder ?? null, folderPath }));\n  };\n\n  return [\n    { queryObject, rawQuery: stringify(queryObject, { encode: false }) },\n    {\n      onChangeFilters: handleChangeFilters,\n      onChangeFolder: handleChangeFolder,\n      onChangePage: handeChangePage,\n      onChangePageSize: handleChangePageSize,\n      onChangeSort: handleChangeSort,\n      onChangeSearch: handleChangeSearch,\n    },\n  ];\n};\n", "export const toSingularTypes = (types?: string[]) => {\n  if (!types) {\n    return [];\n  }\n\n  return types.map((type) => type.substring(0, type.length - 1));\n};\n", "import { toSingularTypes } from './toSingularTypes';\n\nimport type { File } from '../../../shared/contracts/files';\n/**\n * Returns the files that can be added to the media field\n * @param {Object[]} pluralTypes Array of string (allowedTypes)\n * @param {Object[]} files Array of files\n * @returns Object[]\n */\n\nexport interface AllowedFiles extends File {\n  documentId: string;\n  isSelectable: boolean;\n  locale: string | null;\n  type: string;\n}\n\nexport const getAllowedFiles = (pluralTypes: string[] | null, files: AllowedFiles[]) => {\n  if (!pluralTypes) {\n    return files;\n  }\n\n  const singularTypes = toSingularTypes(pluralTypes);\n\n  const allowedFiles = files.filter((file) => {\n    const fileType = file?.mime?.split('/')[0];\n\n    if (!fileType) {\n      return false;\n    }\n\n    if (singularTypes.includes('file') && !['video', 'image', 'audio'].includes(fileType)) {\n      return true;\n    }\n\n    return singularTypes.includes(fileType);\n  });\n\n  return allowedFiles;\n};\n", "const move = <T = number>(array: T[], oldIndex: number, newIndex: number) => {\n  if (newIndex >= array.length) {\n    newIndex = array.length - 1;\n  }\n  array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n\n  return array;\n};\n\nexport const moveElement = <T = number>(array: T[], index: number, offset: number) => {\n  const newIndex = index + offset;\n\n  return move(array, index, newIndex);\n};\n", "import { getTrad } from './getTrad';\n\nimport type { Folder } from '../../../shared/contracts/folders';\nimport type { MessageDescriptor } from 'react-intl';\n\nexport interface BreadcrumbDataFolder extends Omit<Folder, 'children' | 'files' | 'parent'> {\n  parent?: BreadcrumbDataFolder;\n  children?: {\n    count: number;\n  };\n  files?: {\n    count: number;\n  };\n}\n\ninterface BreadcrumbItem {\n  id?: number | null;\n  label?: MessageDescriptor | string;\n  path?: string;\n}\n\ntype BreadcrumbData = BreadcrumbItem | [];\n\nexport const getBreadcrumbDataCM = (folder: BreadcrumbDataFolder | null) => {\n  const data: BreadcrumbData[] = [\n    {\n      id: null,\n      label: { id: getTrad('plugin.name'), defaultMessage: 'Media Library' },\n    },\n  ];\n\n  if (folder?.parent?.parent) {\n    data.push([]);\n  }\n\n  if (folder?.parent) {\n    data.push({\n      id: folder.parent.id,\n      label: folder.parent.name,\n      path: folder.parent.path,\n    });\n  }\n\n  if (folder) {\n    data.push({\n      id: folder.id,\n      label: folder.name,\n      path: folder.path,\n    });\n  }\n\n  return data;\n};\n", "import * as React from 'react';\n\nimport { Button, Popover } from '@strapi/design-system';\nimport { Filter } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nimport { displayedFilters } from '../../../utils';\nimport { FilterList } from '../../FilterList/FilterList';\nimport { FilterPopover } from '../../FilterPopover/FilterPopover';\n\ntype NumberKeyedObject = Record<number, string>;\n\ntype StringFilter = {\n  [key: string]: string;\n};\n\ntype MimeFilter = {\n  [key: string]:\n    | string\n    | NumberKeyedObject\n    | Record<string, string | NumberKeyedObject>\n    | undefined;\n};\n\nexport type FilterStructure = {\n  [key: string]: MimeFilter | StringFilter | undefined;\n};\n\nexport type Filter = {\n  [key in 'mime' | 'createdAt' | 'updatedAt']?:\n    | {\n        [key in '$contains' | '$notContains' | '$eq' | '$not']?:\n          | string[]\n          | string\n          | { $contains: string[] };\n      }\n    | undefined;\n};\n\ninterface FiltersProps {\n  appliedFilters: FilterStructure[];\n  onChangeFilters: (filters: Filter[]) => void;\n}\n\nexport const Filters = ({ appliedFilters, onChangeFilters }: FiltersProps) => {\n  const [open, setOpen] = React.useState(false);\n  const { formatMessage } = useIntl();\n\n  return (\n    <Popover.Root open={open} onOpenChange={setOpen}>\n      <Popover.Trigger>\n        <Button variant=\"tertiary\" startIcon={<Filter />} size=\"S\">\n          {formatMessage({ id: 'app.utils.filters', defaultMessage: 'Filters' })}\n        </Button>\n      </Popover.Trigger>\n      <FilterPopover\n        onToggle={() => setOpen((prev) => !prev)}\n        displayedFilters={displayedFilters}\n        filters={appliedFilters}\n        onSubmit={onChangeFilters}\n      />\n\n      {appliedFilters && (\n        <FilterList\n          appliedFilters={appliedFilters}\n          filtersSchema={displayedFilters}\n          onRemoveFilter={onChangeFilters}\n        />\n      )}\n    </Popover.Root>\n  );\n};\n", "import { Box, Flex, SingleSelectOption, SingleSelect, Typography } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\n\ninterface PageSizeProps {\n  onChangePageSize: (value: number) => void;\n  pageSize: number;\n}\n\nexport const PageSize = ({ onChangePageSize, pageSize }: PageSizeProps) => {\n  const { formatMessage } = useIntl();\n\n  const handleChange = (value: string | number) => {\n    onChangePageSize(Number(value));\n  };\n\n  return (\n    <Flex>\n      <SingleSelect\n        size=\"S\"\n        aria-label={formatMessage({\n          id: 'components.PageFooter.select',\n          defaultMessage: 'Entries per page',\n        })}\n        onChange={handleChange}\n        value={pageSize.toString()}\n      >\n        <SingleSelectOption value=\"10\">10</SingleSelectOption>\n        <SingleSelectOption value=\"20\">20</SingleSelectOption>\n        <SingleSelectOption value=\"50\">50</SingleSelectOption>\n        <SingleSelectOption value=\"100\">100</SingleSelectOption>\n      </SingleSelect>\n      <Box paddingLeft={2}>\n        <Typography textColor=\"neutral600\" tag=\"label\" htmlFor=\"page-size\">\n          {formatMessage({\n            id: 'components.PageFooter.select',\n            defaultMessage: 'Entries per page',\n          })}\n        </Typography>\n      </Box>\n    </Flex>\n  );\n};\n", "import * as React from 'react';\n\nimport { Box, Flex } from '@strapi/design-system';\n\nconst PaginationContext = React.createContext({ activePage: 1, pageCount: 1 });\nexport const usePagination = () => React.useContext(PaginationContext);\n\ninterface PaginationProps {\n  activePage: number;\n  children: React.ReactNode;\n  label?: string;\n  pageCount: number;\n}\n\nexport const Pagination = ({\n  children,\n  activePage,\n  pageCount,\n  label = 'pagination',\n}: PaginationProps) => {\n  const paginationValue = React.useMemo(() => ({ activePage, pageCount }), [activePage, pageCount]);\n\n  return (\n    <PaginationContext.Provider value={paginationValue}>\n      <Box tag=\"nav\" aria-label={label}>\n        <Flex tag=\"ul\" gap={1}>\n          {children}\n        </Flex>\n      </Box>\n    </PaginationContext.Provider>\n  );\n};\n", "// TODO: find a better naming convention for the file that was an index file before\n/**\n * The component works as follows: this is a duplicate of the helper-plugin one but without the router\n * `1` , 2, 3, ... 10\n * 1, `2`, 3, ... 10\n * 1, 2, `3`, 4, ... 10\n * 1, 2, 3, `4`, 5, ... 10\n * 1, ..,4, `5`, 6, ... 10\n *\n * 1, ...., 8, 9, `10`\n * 1, ...., 8, `9`, 10\n * 1, ...., 7, `8`, 9, 10\n * 1, ... 6, `7`, 8, 9, 10\n */\nimport { Typography, VisuallyHidden } from '@strapi/design-system';\nimport { ChevronLeft, ChevronRight } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled, css } from 'styled-components';\n\nimport { Pagination, usePagination } from './Pagination';\n\nconst PaginationText = styled(Typography)`\n  line-height: revert;\n`;\n\nconst linkWrapperStyles = css<{ $active?: boolean }>`\n  padding: ${({ theme }) => theme.spaces[3]};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  box-shadow: ${({ $active, theme }) => ($active ? theme.shadows.filterShadow : undefined)};\n  text-decoration: none;\n  display: flex;\n  position: relative;\n  outline: none;\n\n  &:after {\n    transition-property: all;\n    transition-duration: 0.2s;\n    border-radius: 8px;\n    content: '';\n    position: absolute;\n    top: -4px;\n    bottom: -4px;\n    left: -4px;\n    right: -4px;\n    border: 2px solid transparent;\n  }\n\n  &:focus-visible {\n    outline: none;\n\n    &:after {\n      border-radius: 8px;\n      content: '';\n      position: absolute;\n      top: -5px;\n      bottom: -5px;\n      left: -5px;\n      right: -5px;\n      border: 2px solid ${(props) => props.theme.colors.primary600};\n    }\n  }\n`;\n\nconst LinkWrapperButton = styled.button<{ $active?: boolean }>`\n  ${linkWrapperStyles}\n`;\n\nconst LinkWrapperDiv = styled.div<{ $active?: boolean }>`\n  ${linkWrapperStyles}\n`;\n\nLinkWrapperButton.defaultProps = { type: 'button' };\n\nconst PageLinkWrapper = styled(LinkWrapperButton)`\n  color: ${({ theme, $active }) => ($active ? theme.colors.primary700 : theme.colors.neutral800)};\n  background: ${({ theme, $active }) => ($active ? theme.colors.neutral0 : undefined)};\n\n  &:hover {\n    box-shadow: ${({ theme }) => theme.shadows.filterShadow};\n  }\n`;\n\nconst ActionLinkWrapper = styled(LinkWrapperButton)`\n  font-size: 1.1rem;\n  svg path {\n    fill: ${(p) => (p['aria-disabled'] ? p.theme.colors.neutral300 : p.theme.colors.neutral600)};\n  }\n\n  &:focus,\n  &:hover {\n    svg path {\n      fill: ${(p) => (p['aria-disabled'] ? p.theme.colors.neutral300 : p.theme.colors.neutral700)};\n    }\n  }\n\n  ${(p) =>\n    p['aria-disabled']\n      ? `\n  pointer-events: none;\n    `\n      : undefined}\n`;\n\nconst DotsWrapper = styled(LinkWrapperDiv)`\n  color: ${({ theme }) => theme.colors.neutral800};\n`;\n\ninterface PaginationLinkProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  children: React.ReactNode;\n}\n\ninterface PageLinkProps extends PaginationLinkProps {\n  number: number;\n}\n\nconst PreviousLink = ({ children, ...props }: PaginationLinkProps) => {\n  const { activePage } = usePagination();\n\n  const disabled = activePage === 1;\n\n  return (\n    <li>\n      <ActionLinkWrapper aria-disabled={disabled} tabIndex={disabled ? -1 : undefined} {...props}>\n        <VisuallyHidden>{children}</VisuallyHidden>\n        <ChevronLeft aria-hidden />\n      </ActionLinkWrapper>\n    </li>\n  );\n};\n\nconst NextLink = ({ children, ...props }: PaginationLinkProps) => {\n  const { activePage, pageCount } = usePagination();\n\n  const disabled = activePage === pageCount;\n\n  return (\n    <li>\n      <ActionLinkWrapper aria-disabled={disabled} tabIndex={disabled ? -1 : undefined} {...props}>\n        <VisuallyHidden>{children}</VisuallyHidden>\n        <ChevronRight aria-hidden />\n      </ActionLinkWrapper>\n    </li>\n  );\n};\n\nconst PageLink = ({ number, children, ...props }: PageLinkProps) => {\n  const { activePage } = usePagination();\n\n  const isActive = activePage === number;\n\n  return (\n    <li>\n      <PageLinkWrapper {...props} $active={isActive}>\n        <VisuallyHidden>{children}</VisuallyHidden>\n        <PaginationText aria-hidden variant=\"pi\" fontWeight={isActive ? 'bold' : ''}>\n          {number}\n        </PaginationText>\n      </PageLinkWrapper>\n    </li>\n  );\n};\n\ninterface DotsProps extends React.HTMLAttributes<HTMLDivElement> {\n  children: React.ReactNode;\n}\n\nconst Dots = ({ children, ...props }: DotsProps) => (\n  <li>\n    <DotsWrapper {...props} as=\"div\">\n      <VisuallyHidden>{children}</VisuallyHidden>\n      <PaginationText aria-hidden small>\n        \n      </PaginationText>\n    </DotsWrapper>\n  </li>\n);\n\ninterface PaginationFooterProps {\n  activePage: number;\n  onChangePage: (page: number) => void;\n  pagination: {\n    pageCount: number;\n  };\n}\n\nexport const PaginationFooter = ({\n  activePage,\n  onChangePage,\n  pagination: { pageCount },\n}: PaginationFooterProps) => {\n  const { formatMessage } = useIntl();\n\n  const previousActivePage = activePage - 1;\n  const nextActivePage = activePage + 1;\n\n  const firstLinks = [\n    <PageLink\n      key={1}\n      number={1}\n      onClick={() => {\n        onChangePage(1);\n      }}\n    >\n      {formatMessage(\n        { id: 'components.pagination.go-to', defaultMessage: 'Go to page {page}' },\n        { page: 1 }\n      )}\n    </PageLink>,\n  ];\n\n  if (pageCount <= 4) {\n    const links = Array.from({ length: pageCount })\n      .map((_, i) => i + 1)\n      .map((number) => {\n        return (\n          <PageLink key={number} number={number} onClick={() => onChangePage(number)}>\n            {formatMessage(\n              { id: 'components.pagination.go-to', defaultMessage: 'Go to page {page}' },\n              { page: number }\n            )}\n          </PageLink>\n        );\n      });\n\n    return (\n      <Pagination activePage={activePage} pageCount={pageCount}>\n        <PreviousLink onClick={() => onChangePage(previousActivePage)}>\n          {formatMessage({\n            id: 'components.pagination.go-to-previous',\n            defaultMessage: 'Go to previous page',\n          })}\n        </PreviousLink>\n        {links}\n        <NextLink onClick={() => onChangePage(nextActivePage)}>\n          {formatMessage({\n            id: 'components.pagination.go-to-next',\n            defaultMessage: 'Go to next page',\n          })}\n        </NextLink>\n      </Pagination>\n    );\n  }\n\n  let firstLinksToCreate: number[] = [];\n  const lastLinks: JSX.Element[] = [];\n  let lastLinksToCreate: number[] = [];\n  const middleLinks: JSX.Element[] = [];\n\n  if (pageCount > 1) {\n    lastLinks.push(\n      <PageLink key={pageCount} number={pageCount} onClick={() => onChangePage(pageCount)}>\n        {formatMessage(\n          { id: 'components.pagination.go-to', defaultMessage: 'Go to page {page}' },\n          { page: pageCount }\n        )}\n      </PageLink>\n    );\n  }\n\n  if (activePage === 1 && pageCount >= 3) {\n    firstLinksToCreate = [2];\n  }\n\n  if (activePage === 2 && pageCount >= 3) {\n    if (pageCount === 5) {\n      firstLinksToCreate = [2, 3, 4];\n    } else if (pageCount === 3) {\n      firstLinksToCreate = [2];\n    } else {\n      firstLinksToCreate = [2, 3];\n    }\n  }\n\n  if (activePage === 4 && pageCount >= 3) {\n    firstLinksToCreate = [2];\n  }\n\n  if (activePage === pageCount && pageCount >= 3) {\n    lastLinksToCreate = [pageCount - 1];\n  }\n\n  if (activePage === pageCount - 2 && pageCount > 3) {\n    lastLinksToCreate = [activePage + 1, activePage, activePage - 1];\n  }\n\n  if (activePage === pageCount - 3 && pageCount > 3 && activePage > 5) {\n    lastLinksToCreate = [activePage + 2, activePage + 1, activePage, activePage - 1];\n  }\n\n  if (activePage === pageCount - 1 && pageCount > 3) {\n    lastLinksToCreate = [activePage, activePage - 1];\n  }\n\n  lastLinksToCreate.forEach((number) => {\n    lastLinks.unshift(\n      <PageLink key={number} number={number} onClick={() => onChangePage(number)}>\n        Go to page {number}\n      </PageLink>\n    );\n  });\n\n  firstLinksToCreate.forEach((number) => {\n    firstLinks.push(\n      <PageLink key={number} number={number} onClick={() => onChangePage(number)}>\n        {formatMessage(\n          { id: 'components.pagination.go-to', defaultMessage: 'Go to page {page}' },\n          { page: number }\n        )}\n      </PageLink>\n    );\n  });\n\n  if (\n    ![1, 2].includes(activePage) &&\n    activePage <= pageCount - 3 &&\n    firstLinks.length + lastLinks.length < 6\n  ) {\n    const middleLinksToCreate = [activePage - 1, activePage, activePage + 1];\n\n    middleLinksToCreate.forEach((number) => {\n      middleLinks.push(\n        <PageLink key={number} number={number} onClick={() => onChangePage(number)}>\n          {formatMessage(\n            { id: 'components.pagination.go-to', defaultMessage: 'Go to page {page}' },\n            { page: number }\n          )}\n        </PageLink>\n      );\n    });\n  }\n\n  const shouldShowDotsAfterFirstLink =\n    pageCount > 5 || (pageCount === 5 && (activePage === 1 || activePage === 5));\n  const shouldShowMiddleDots = middleLinks.length > 2 && activePage > 4 && pageCount > 5;\n\n  const beforeDotsLinksLength = shouldShowMiddleDots\n    ? pageCount - activePage - 1\n    : pageCount - firstLinks.length - lastLinks.length;\n  const afterDotsLength = shouldShowMiddleDots\n    ? pageCount - firstLinks.length - lastLinks.length\n    : pageCount - activePage - 1;\n\n  return (\n    <Pagination activePage={activePage} pageCount={pageCount}>\n      <PreviousLink onClick={() => onChangePage(previousActivePage)}>\n        {formatMessage({\n          id: 'components.pagination.go-to-previous',\n          defaultMessage: 'Go to previous page',\n        })}\n      </PreviousLink>\n      {firstLinks}\n      {shouldShowMiddleDots && (\n        <Dots>\n          {formatMessage(\n            {\n              id: 'components.pagination.remaining-links',\n              defaultMessage: 'And {number} other links',\n            },\n            { number: beforeDotsLinksLength }\n          )}\n        </Dots>\n      )}\n      {middleLinks}\n      {shouldShowDotsAfterFirstLink && (\n        <Dots>\n          {formatMessage(\n            {\n              id: 'components.pagination.remaining-links',\n              defaultMessage: 'And {number} other links',\n            },\n            { number: afterDotsLength }\n          )}\n        </Dots>\n      )}\n      {lastLinks}\n      <NextLink onClick={() => onChangePage(nextActivePage)}>\n        {formatMessage({\n          id: 'components.pagination.go-to-next',\n          defaultMessage: 'Go to next page',\n        })}\n      </NextLink>\n    </Pagination>\n  );\n};\n", "// TODO: find a better naming convention for the file that was an index file before\nimport * as React from 'react';\n\nimport { IconButton, Searchbar, SearchForm } from '@strapi/design-system';\nimport { Search } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nimport { useTracking } from '../../../../hooks/useTracking';\nimport { getTrad } from '../../../../utils';\n\nimport type { Query } from '../../../../../../shared/contracts/files';\n\ninterface SearchAssetProps {\n  onChangeSearch: (_q: Query['_q'] | null) => void;\n  queryValue?: Query['_q'] | null;\n}\n\nexport const SearchAsset = ({ onChangeSearch, queryValue = null }: SearchAssetProps) => {\n  const { formatMessage } = useIntl();\n  const { trackUsage } = useTracking();\n  const [isOpen, setIsOpen] = React.useState(!!queryValue);\n  const [value, setValue] = React.useState(queryValue || '');\n  const wrapperRef = React.useRef<HTMLDivElement>(null);\n\n  React.useLayoutEffect(() => {\n    if (isOpen) {\n      setTimeout(() => {\n        wrapperRef.current?.querySelector('input')?.focus();\n      }, 0);\n    }\n  }, [isOpen]);\n\n  const handleToggle = () => {\n    setIsOpen((prev) => !prev);\n  };\n\n  const handleClear = () => {\n    handleToggle();\n    onChangeSearch(null);\n  };\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    trackUsage('didSearchMediaLibraryElements', { location: 'content-manager' });\n    onChangeSearch(value);\n  };\n\n  if (isOpen) {\n    return (\n      <div ref={wrapperRef}>\n        <SearchForm onSubmit={handleSubmit}>\n          <Searchbar\n            name=\"search\"\n            onClear={handleClear}\n            onChange={(e) => setValue(e.target.value)}\n            clearLabel={formatMessage({\n              id: getTrad('search.clear.label'),\n              defaultMessage: 'Clear the search',\n            })}\n            aria-label=\"search\"\n            size=\"S\"\n            value={value}\n            placeholder={formatMessage({\n              id: getTrad('search.placeholder'),\n              defaultMessage: 'e.g: the first dog on the moon',\n            })}\n          >\n            {formatMessage({ id: getTrad('search.label'), defaultMessage: 'Search for an asset' })}\n          </Searchbar>\n        </SearchForm>\n      </div>\n    );\n  }\n\n  return (\n    <IconButton label=\"Search\" onClick={handleToggle}>\n      <Search />\n    </IconButton>\n  );\n};\n", "export const isSelectable = (allowedTypes: string[], mime = '') => {\n  if (!mime) return false;\n\n  const fileType = mime.split('/')[0];\n\n  return (\n    allowedTypes.includes(fileType) ||\n    (allowedTypes.includes('file') && !['video', 'image', 'audio'].includes(fileType))\n  );\n};\n", "// TODO: find a better naming convention for the file that was an index file before\nimport {\n  Checkbox,\n  Box,\n  Button,\n  Divider,\n  Flex,\n  IconButton,\n  Typography,\n  VisuallyHidden,\n  Grid,\n} from '@strapi/design-system';\nimport { GridFour as GridIcon, List, Pencil, Plus } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { localStorageKeys, viewOptions } from '../../../constants';\nimport { useFolder } from '../../../hooks/useFolder';\nimport { usePersistentState } from '../../../hooks/usePersistentState';\nimport {\n  getBreadcrumbDataCM,\n  toSingularTypes,\n  getTrad,\n  getAllowedFiles,\n  BreadcrumbDataFolder,\n  AllowedFiles,\n} from '../../../utils';\nimport { AssetGridList } from '../../AssetGridList/AssetGridList';\nimport { Breadcrumbs } from '../../Breadcrumbs/Breadcrumbs';\nimport { EmptyAssets } from '../../EmptyAssets/EmptyAssets';\nimport { FolderCard } from '../../FolderCard/FolderCard/FolderCard';\nimport { FolderCardBody } from '../../FolderCard/FolderCardBody/FolderCardBody';\nimport { FolderCardBodyAction } from '../../FolderCard/FolderCardBodyAction/FolderCardBodyAction';\nimport { FolderGridList } from '../../FolderGridList/FolderGridList';\nimport { SortPicker } from '../../SortPicker/SortPicker';\nimport { TableList, FolderRow, FileRow } from '../../TableList/TableList';\n\nimport { Filters, FilterStructure as ImportedFilterStructure } from './Filters';\nimport { PageSize } from './PageSize';\nimport { PaginationFooter } from './PaginationFooter/PaginationFooter';\nimport { SearchAsset } from './SearchAsset/SearchAsset';\nimport { isSelectable } from './utils/isSelectable';\n\nimport type { File, Query, FilterCondition } from '../../../../../shared/contracts/files';\nimport type { Folder } from '../../../../../shared/contracts/folders';\nimport type { AllowedTypes } from '../../AssetCard/AssetCard';\n\nconst TypographyMaxWidth = styled(Typography)`\n  max-width: 100%;\n`;\n\nconst ActionContainer = styled(Box)`\n  svg {\n    path {\n      fill: ${({ theme }) => theme.colors.neutral500};\n    }\n  }\n`;\n\ntype NumberKeyedObject = Record<number, string>;\n\ntype StringFilter = {\n  [key: string]: string;\n};\n\ntype MimeFilter = {\n  [key: string]:\n    | string\n    | NumberKeyedObject\n    | Record<string, string | NumberKeyedObject>\n    | undefined;\n};\n\nexport type FilterStructure = {\n  [key: string]: MimeFilter | StringFilter | undefined;\n};\n\nexport type Filter = {\n  [key in 'mime' | 'createdAt' | 'updatedAt']?:\n    | {\n        [key in '$contains' | '$notContains' | '$eq' | '$not']?:\n          | string[]\n          | string\n          | { $contains: string[] };\n      }\n    | undefined;\n};\n\nexport interface FolderWithType extends Omit<Folder, 'children' | 'files'> {\n  folderURL?: string;\n  isSelectable?: boolean;\n  type?: string;\n  children?: Folder['children'] & {\n    count: number;\n  };\n  files?: Folder['files'] & {\n    count: number;\n  };\n}\n\nexport interface FileWithType extends File {\n  folderURL?: string;\n  isSelectable?: boolean;\n  type?: string;\n}\n\nexport interface BrowseStepProps {\n  allowedTypes?: AllowedTypes[];\n  assets: File[];\n  canCreate: boolean;\n  canRead: boolean;\n  folders?: FolderWithType[];\n  multiple?: boolean;\n  onAddAsset: () => void;\n  onChangeFilters: (filters: FilterCondition<string>[] | Filter[]) => void;\n  onChangeFolder: (id: number, path?: string) => void;\n  onChangePage: (page: number) => void;\n  onChangePageSize: (value: number) => void;\n  onChangeSort: (value: Query['sort'] | string) => void;\n  onChangeSearch: (_q?: Query['_q'] | null) => void;\n  onEditAsset: ((asset: FileWithType) => void) | null;\n  onEditFolder: ((folder: FolderRow) => void) | null;\n  onSelectAsset: (element: FileRow | FolderRow) => void;\n  onSelectAllAsset?: (checked: boolean | string, rows?: FolderRow[] | FileRow[]) => void;\n  queryObject: Query;\n  pagination: { pageCount: number };\n  selectedAssets: FileWithType[] | FolderWithType[];\n}\n\nexport const BrowseStep = ({\n  allowedTypes = [],\n  assets: rawAssets,\n  canCreate,\n  canRead,\n  folders = [],\n  multiple = false,\n  onAddAsset,\n  onChangeFilters,\n  onChangePage,\n  onChangePageSize,\n  onChangeSearch,\n  onChangeSort,\n  onChangeFolder,\n  onEditAsset,\n  onEditFolder,\n  onSelectAllAsset,\n  onSelectAsset,\n  pagination,\n  queryObject,\n  selectedAssets,\n}: BrowseStepProps) => {\n  const { formatMessage } = useIntl();\n  const [view, setView] = usePersistentState(localStorageKeys.modalView, viewOptions.GRID);\n  const isGridView = view === viewOptions.GRID;\n\n  const { data: currentFolder, isLoading: isCurrentFolderLoading } = useFolder(\n    queryObject?.folder as number | null | undefined,\n    {\n      enabled: canRead && !!queryObject?.folder,\n    }\n  );\n\n  const singularTypes = toSingularTypes(allowedTypes);\n  const assets = rawAssets.map((asset) => ({\n    ...asset,\n    isSelectable: isSelectable(singularTypes, asset?.mime),\n    type: 'asset',\n  }));\n\n  const breadcrumbs = !isCurrentFolderLoading\n    ? getBreadcrumbDataCM(currentFolder as BreadcrumbDataFolder)\n    : undefined;\n\n  const allAllowedAsset = getAllowedFiles(allowedTypes, assets as AllowedFiles[]);\n  const areAllAssetSelected =\n    allAllowedAsset.length > 0 &&\n    selectedAssets.length > 0 &&\n    allAllowedAsset.every(\n      (asset) => selectedAssets.findIndex((currAsset) => currAsset.id === asset.id) !== -1\n    );\n  const hasSomeAssetSelected = allAllowedAsset.some(\n    (asset) => selectedAssets.findIndex((currAsset) => currAsset.id === asset.id) !== -1\n  );\n  const isSearching = !!queryObject?._q;\n  const isFiltering = !!queryObject?.filters?.$and?.length && queryObject.filters.$and.length > 0;\n  const isSearchingOrFiltering = isSearching || isFiltering;\n  const assetCount = assets.length;\n  const folderCount = folders.length;\n  const handleClickFolderCard = (...args: Parameters<typeof onChangeFolder>) => {\n    // Search query will always fetch the same results\n    // we remove it here to allow navigating in a folder and see the result of this navigation\n    onChangeSearch('');\n    onChangeFolder(...args);\n  };\n\n  return (\n    <Box>\n      {onSelectAllAsset && (\n        <Box paddingBottom={4}>\n          <Flex justifyContent=\"space-between\" alignItems=\"flex-start\">\n            {(assetCount > 0 || folderCount > 0 || isFiltering) && (\n              <Flex gap={2} wrap=\"wrap\">\n                {multiple && isGridView && (\n                  <Flex\n                    paddingLeft={2}\n                    paddingRight={2}\n                    background=\"neutral0\"\n                    hasRadius\n                    borderColor=\"neutral200\"\n                    height=\"3.2rem\"\n                  >\n                    <Checkbox\n                      aria-label={formatMessage({\n                        id: getTrad('bulk.select.label'),\n                        defaultMessage: 'Select all assets',\n                      })}\n                      checked={\n                        !areAllAssetSelected && hasSomeAssetSelected\n                          ? 'indeterminate'\n                          : areAllAssetSelected\n                      }\n                      onCheckedChange={onSelectAllAsset}\n                    />\n                  </Flex>\n                )}\n                {isGridView && <SortPicker onChangeSort={onChangeSort} value={queryObject?.sort} />}\n                <Filters\n                  appliedFilters={queryObject?.filters?.$and as ImportedFilterStructure[]}\n                  onChangeFilters={onChangeFilters}\n                />\n              </Flex>\n            )}\n\n            {(assetCount > 0 || folderCount > 0 || isSearching) && (\n              <Flex marginLeft=\"auto\" shrink={0} gap={2}>\n                <ActionContainer paddingTop={1} paddingBottom={1}>\n                  <IconButton\n                    label={\n                      isGridView\n                        ? formatMessage({\n                            id: 'view-switch.list',\n                            defaultMessage: 'List View',\n                          })\n                        : formatMessage({\n                            id: 'view-switch.grid',\n                            defaultMessage: 'Grid View',\n                          })\n                    }\n                    onClick={() => setView(isGridView ? viewOptions.LIST : viewOptions.GRID)}\n                  >\n                    {isGridView ? <List /> : <GridIcon />}\n                  </IconButton>\n                </ActionContainer>\n                <SearchAsset onChangeSearch={onChangeSearch} queryValue={queryObject._q || ''} />\n              </Flex>\n            )}\n          </Flex>\n        </Box>\n      )}\n\n      {canRead && breadcrumbs?.length && breadcrumbs.length > 0 && currentFolder && (\n        <Box paddingTop={3}>\n          <Breadcrumbs\n            onChangeFolder={onChangeFolder}\n            label={formatMessage({\n              id: getTrad('header.breadcrumbs.nav.label'),\n              defaultMessage: 'Folders navigation',\n            })}\n            breadcrumbs={breadcrumbs as BreadcrumbDataFolder[]}\n            currentFolderId={queryObject?.folder as number | undefined}\n          />\n        </Box>\n      )}\n\n      {assetCount === 0 && folderCount === 0 && (\n        <Box paddingBottom={6}>\n          <EmptyAssets\n            size=\"S\"\n            count={6}\n            action={\n              canCreate &&\n              !isFiltering &&\n              !isSearching && (\n                <Button variant=\"secondary\" startIcon={<Plus />} onClick={onAddAsset}>\n                  {formatMessage({\n                    id: getTrad('header.actions.add-assets'),\n                    defaultMessage: 'Add new assets',\n                  })}\n                </Button>\n              )\n            }\n            content={\n              // eslint-disable-next-line no-nested-ternary\n              isSearchingOrFiltering\n                ? formatMessage({\n                    id: getTrad('list.assets-empty.title-withSearch'),\n                    defaultMessage: 'There are no assets with the applied filters',\n                  })\n                : canCreate && !isSearching\n                  ? formatMessage({\n                      id: getTrad('list.assets.empty'),\n                      defaultMessage: 'Upload your first assets...',\n                    })\n                  : formatMessage({\n                      id: getTrad('list.assets.empty.no-permissions'),\n                      defaultMessage: 'The asset list is empty',\n                    })\n            }\n          />\n        </Box>\n      )}\n\n      {!isGridView && (folderCount > 0 || assetCount > 0) && (\n        <TableList\n          allowedTypes={allowedTypes}\n          assetCount={assetCount}\n          folderCount={folderCount}\n          indeterminate={!areAllAssetSelected && hasSomeAssetSelected}\n          isFolderSelectionAllowed={false}\n          onChangeSort={onChangeSort}\n          onChangeFolder={handleClickFolderCard}\n          onEditAsset={onEditAsset}\n          onEditFolder={onEditFolder}\n          onSelectOne={onSelectAsset}\n          onSelectAll={onSelectAllAsset!}\n          rows={\n            [...folders.map((folder) => ({ ...folder, type: 'folder' })), ...assets] as\n              | FolderRow[]\n              | FileRow[]\n          }\n          selected={selectedAssets}\n          shouldDisableBulkSelect={!multiple}\n          sortQuery={queryObject?.sort ?? ''}\n        />\n      )}\n\n      {isGridView && (\n        <>\n          {folderCount > 0 && (\n            <FolderGridList\n              title={\n                (((isSearchingOrFiltering && assetCount > 0) || !isSearchingOrFiltering) &&\n                  formatMessage(\n                    {\n                      id: getTrad('list.folders.title'),\n                      defaultMessage: 'Folders ({count})',\n                    },\n                    { count: folderCount }\n                  )) ||\n                ''\n              }\n            >\n              {folders.map((folder) => {\n                return (\n                  <Grid.Item\n                    col={3}\n                    m={4}\n                    s={6}\n                    xs={12}\n                    key={`folder-${folder.id}`}\n                    direction=\"column\"\n                    alignItems=\"stretch\"\n                  >\n                    <FolderCard\n                      ariaLabel={folder.name}\n                      id={`folder-${folder.id}`}\n                      onClick={() => handleClickFolderCard(folder.id, folder.path)}\n                      cardActions={\n                        onEditFolder && (\n                          <IconButton\n                            withTooltip={false}\n                            label={formatMessage({\n                              id: getTrad('list.folder.edit'),\n                              defaultMessage: 'Edit folder',\n                            })}\n                            onClick={() => onEditFolder(folder)}\n                          >\n                            <Pencil />\n                          </IconButton>\n                        )\n                      }\n                    >\n                      <FolderCardBody>\n                        <FolderCardBodyAction\n                          onClick={() => handleClickFolderCard(folder.id, folder.path)}\n                        >\n                          <Flex tag=\"h2\" direction=\"column\" alignItems=\"start\" maxWidth=\"100%\">\n                            <TypographyMaxWidth\n                              fontWeight=\"semiBold\"\n                              ellipsis\n                              textColor=\"neutral800\"\n                            >\n                              {folder.name}\n                              {/* VisuallyHidden dash here allows to separate folder title and count informations\n                              for voice reading structure purpose */}\n                              <VisuallyHidden>-</VisuallyHidden>\n                            </TypographyMaxWidth>\n                            <TypographyMaxWidth\n                              tag=\"span\"\n                              textColor=\"neutral600\"\n                              variant=\"pi\"\n                              ellipsis\n                            >\n                              {formatMessage(\n                                {\n                                  id: getTrad('list.folder.subtitle'),\n                                  defaultMessage:\n                                    '{folderCount, plural, =0 {# folder} one {# folder} other {# folders}}, {filesCount, plural, =0 {# asset} one {# asset} other {# assets}}',\n                                },\n                                {\n                                  folderCount: folder.children?.count,\n                                  filesCount: folder.files?.count,\n                                }\n                              )}\n                            </TypographyMaxWidth>\n                          </Flex>\n                        </FolderCardBodyAction>\n                      </FolderCardBody>\n                    </FolderCard>\n                  </Grid.Item>\n                );\n              })}\n            </FolderGridList>\n          )}\n\n          {assetCount > 0 && folderCount > 0 && (\n            <Box paddingTop={6}>\n              <Divider />\n            </Box>\n          )}\n\n          {assetCount > 0 && (\n            <Box paddingTop={6}>\n              <AssetGridList\n                allowedTypes={allowedTypes}\n                size=\"S\"\n                assets={assets}\n                onSelectAsset={onSelectAsset}\n                selectedAssets={selectedAssets as FileWithType[]}\n                onEditAsset={onEditAsset!}\n                title={\n                  ((!isSearchingOrFiltering || (isSearchingOrFiltering && folderCount > 0)) &&\n                    queryObject.page === 1 &&\n                    formatMessage(\n                      {\n                        id: getTrad('list.assets.title'),\n                        defaultMessage: 'Assets ({count})',\n                      },\n                      { count: assetCount }\n                    )) ||\n                  ''\n                }\n              />\n            </Box>\n          )}\n        </>\n      )}\n\n      {pagination.pageCount > 0 && (\n        <Flex\n          justifyContent=\"space-between\"\n          paddingTop={4}\n          position=\"relative\"\n          zIndex={1}\n          overflow=\"hidden\"\n        >\n          <PageSize\n            pageSize={queryObject.pageSize! as number}\n            onChangePageSize={onChangePageSize}\n          />\n          <PaginationFooter\n            activePage={queryObject.page as number}\n            onChangePage={onChangePage}\n            pagination={pagination}\n          />\n        </Flex>\n      )}\n    </Box>\n  );\n};\n", "import { Button, Modal } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\n\ninterface DialogFooterProps {\n  onClose: () => void;\n  onValidate?: () => void;\n}\n\nexport const DialogFooter = ({ onClose, onValidate }: DialogFooterProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Modal.Footer>\n      <Button onClick={onClose} variant=\"tertiary\">\n        {formatMessage({ id: 'app.components.Button.cancel', defaultMessage: 'Cancel' })}\n      </Button>\n      {onValidate && (\n        <Button onClick={onValidate}>\n          {formatMessage({ id: 'global.finish', defaultMessage: 'Finish' })}\n        </Button>\n      )}\n    </Modal.Footer>\n  );\n};\n", "// TODO: find a better naming convention for the file that was an index file before\nimport { Flex, Typography } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { getTrad } from '../../../utils';\nimport { AssetGridList } from '../../AssetGridList/AssetGridList';\n\nimport type { File } from '../../../../../shared/contracts/files';\n\ninterface SelectedStepProps {\n  onSelectAsset: (asset: File) => void;\n  selectedAssets: File[];\n  onReorderAsset?: (fromIndex: number, toIndex: number) => void;\n}\n\nexport const SelectedStep = ({\n  selectedAssets,\n  onSelectAsset,\n  onReorderAsset,\n}: SelectedStepProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Flex direction=\"column\" alignItems=\"stretch\" gap={4}>\n      <Flex gap={0} direction=\"column\" alignItems=\"start\">\n        <Typography variant=\"pi\" fontWeight=\"bold\" textColor=\"neutral800\">\n          {formatMessage(\n            {\n              id: getTrad('list.assets.to-upload'),\n              defaultMessage:\n                '{number, plural, =0 {No asset} one {1 asset} other {# assets}} ready to upload',\n            },\n            { number: selectedAssets.length }\n          )}\n        </Typography>\n        <Typography variant=\"pi\" textColor=\"neutral600\">\n          {formatMessage({\n            id: getTrad('modal.upload-list.sub-header-subtitle'),\n            defaultMessage: 'Manage the assets before adding them to the Media Library',\n          })}\n        </Typography>\n      </Flex>\n\n      <AssetGridList\n        size=\"S\"\n        assets={selectedAssets}\n        onSelectAsset={onSelectAsset}\n        selectedAssets={selectedAssets}\n        onReorderAsset={onReorderAsset}\n      />\n    </Flex>\n  );\n};\n", "// TODO: find a better naming convention for the file that was an index file before\nimport * as React from 'react';\n\nimport { Page } from '@strapi/admin/strapi-admin';\nimport {\n  Badge,\n  Button,\n  Divider,\n  Flex,\n  Loader,\n  Modal,\n  ScrollArea,\n  Tabs,\n} from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { useAssets } from '../../hooks/useAssets';\nimport { useFolders } from '../../hooks/useFolders';\nimport { useMediaLibraryPermissions } from '../../hooks/useMediaLibraryPermissions';\nimport { useModalQueryParams } from '../../hooks/useModalQueryParams';\nimport { useSelectionState } from '../../hooks/useSelectionState';\nimport {\n  containsAssetFilter,\n  getTrad,\n  getAllowedFiles,\n  moveElement,\n  AllowedFiles,\n} from '../../utils';\nimport { EditAssetContent, Asset as EditAsset } from '../EditAssetDialog/EditAssetContent';\nimport { EditFolderContent } from '../EditFolderDialog/EditFolderDialog';\n\nimport {\n  BrowseStep,\n  FolderWithType,\n  FileWithType,\n  Filter as BrowseFilter,\n} from './BrowseStep/BrowseStep';\nimport { DialogFooter } from './DialogFooter';\nimport { SelectedStep } from './SelectedStep/SelectedStep';\n\nimport type { File as Asset, FilterCondition, Query } from '../../../../shared/contracts/files';\nimport type { Folder, FolderDefinition } from '../../../../shared/contracts/folders';\nimport type { AllowedTypes } from '../AssetCard/AssetCard';\n\nconst LoadingBody = styled(Flex)`\n  /* 80px are coming from the Tabs component that is not included in the ModalBody */\n  min-height: ${() => `calc(60dvh + 8rem)`};\n`;\n\nexport interface FileRow extends Asset {\n  folderURL?: string;\n  isSelectable?: boolean;\n  type?: string;\n}\n\nexport interface FolderRow extends Folder {\n  folderURL?: string;\n  isSelectable?: boolean;\n  type?: string;\n}\n\ninterface AssetContentProps {\n  allowedTypes?: AllowedTypes[];\n  folderId?: number | null;\n  onClose: () => void;\n  onAddAsset: (arg?: { folderId: number | { id: number } | null | undefined }) => void;\n  onAddFolder: ({ folderId }: { folderId: number | { id: number } | null | undefined }) => void;\n  onChangeFolder: (folderId: number | null) => void;\n  onValidate: (selectedAssets: Asset[]) => void;\n  multiple?: boolean;\n  trackedLocation?: string;\n  initiallySelectedAssets?: Asset[];\n}\n\nexport const AssetContent = ({\n  allowedTypes = [],\n  folderId = null,\n  onClose,\n  onAddAsset,\n  onAddFolder,\n  onChangeFolder,\n  onValidate,\n  multiple = false,\n  initiallySelectedAssets = [],\n  trackedLocation,\n}: AssetContentProps) => {\n  const [assetToEdit, setAssetToEdit] = React.useState<FileWithType | undefined>(undefined);\n  const [folderToEdit, setFolderToEdit] = React.useState<FolderRow | undefined>(undefined);\n  const { formatMessage } = useIntl();\n  const {\n    canRead,\n    canCreate,\n    isLoading: isLoadingPermissions,\n    canUpdate,\n    canCopyLink,\n    canDownload,\n  } = useMediaLibraryPermissions();\n\n  const [\n    { queryObject },\n    {\n      onChangeFilters,\n      onChangePage,\n      onChangePageSize,\n      onChangeSort,\n      onChangeSearch,\n      onChangeFolder: onChangeFolderParam,\n    },\n  ] = useModalQueryParams({ folder: folderId });\n\n  const {\n    data: { pagination, results: assets } = {},\n    isLoading: isLoadingAssets,\n    error: errorAssets,\n  } = useAssets({ skipWhen: !canRead, query: queryObject });\n\n  const {\n    data: folders,\n    isLoading: isLoadingFolders,\n    error: errorFolders,\n  } = useFolders({\n    enabled: canRead && !containsAssetFilter(queryObject!) && pagination?.page === 1,\n    query: queryObject,\n  });\n\n  const [\n    selectedAssets,\n    { selectOne, selectOnly, setSelections, selectMultiple, deselectMultiple },\n  ] = useSelectionState(['id'], initiallySelectedAssets);\n\n  const handleSelectAllAssets = () => {\n    const allowedAssets = getAllowedFiles(allowedTypes, assets as AllowedFiles[]);\n\n    if (!multiple) {\n      return undefined;\n    }\n\n    // selected files in current folder\n    const alreadySelected = allowedAssets.filter(\n      (asset) => selectedAssets.findIndex((selectedAsset) => selectedAsset.id === asset.id) !== -1\n    );\n\n    if (alreadySelected.length > 0) {\n      deselectMultiple(alreadySelected);\n    } else {\n      selectMultiple(allowedAssets);\n    }\n  };\n\n  const handleSelectAsset = (asset: Asset | FileRow | FolderRow) => {\n    return multiple ? selectOne(asset as Asset) : selectOnly(asset as Asset);\n  };\n\n  const isLoading = isLoadingPermissions || isLoadingAssets || isLoadingFolders;\n  const hasError = errorAssets || errorFolders;\n\n  const [activeTab, setActiveTab] = React.useState(\n    selectedAssets.length > 0 ? 'selected' : 'browse'\n  );\n\n  if (isLoading) {\n    return (\n      <>\n        <Modal.Header>\n          <Modal.Title>\n            {formatMessage({\n              id: getTrad('header.actions.add-assets'),\n              defaultMessage: 'Add new assets',\n            })}\n          </Modal.Title>\n        </Modal.Header>\n        <LoadingBody justifyContent=\"center\" paddingTop={4} paddingBottom={4}>\n          <Loader>\n            {formatMessage({\n              id: getTrad('content.isLoading'),\n              defaultMessage: 'Content is loading.',\n            })}\n          </Loader>\n        </LoadingBody>\n        <DialogFooter onClose={onClose} />\n      </>\n    );\n  }\n\n  if (hasError) {\n    return (\n      <>\n        <Modal.Header>\n          <Modal.Title>\n            {formatMessage({\n              id: getTrad('header.actions.add-assets'),\n              defaultMessage: 'Add new assets',\n            })}\n          </Modal.Title>\n        </Modal.Header>\n        <Page.Error />\n        <DialogFooter onClose={onClose} />\n      </>\n    );\n  }\n\n  if (!canRead) {\n    return (\n      <>\n        <Modal.Header>\n          <Modal.Title>\n            {formatMessage({\n              id: getTrad('header.actions.add-assets'),\n              defaultMessage: 'Add new assets',\n            })}\n          </Modal.Title>\n        </Modal.Header>\n        <Page.NoPermissions />\n        <DialogFooter onClose={onClose} />\n      </>\n    );\n  }\n\n  if (assetToEdit) {\n    return (\n      <EditAssetContent\n        onClose={() => setAssetToEdit(undefined)}\n        asset={assetToEdit as EditAsset}\n        canUpdate={canUpdate}\n        canCopyLink={canCopyLink}\n        canDownload={canDownload}\n        trackedLocation={trackedLocation}\n      />\n    );\n  }\n\n  if (folderToEdit) {\n    return (\n      <EditFolderContent\n        folder={folderToEdit as FolderDefinition}\n        onClose={() => setFolderToEdit(undefined)}\n        location=\"content-manager\"\n        parentFolderId={queryObject?.folder as string | number | null | undefined}\n      />\n    );\n  }\n\n  const handleMoveItem = (hoverIndex: number, destIndex: number) => {\n    const offset = destIndex - hoverIndex;\n    const orderedAssetsClone = selectedAssets.slice();\n    const nextAssets = moveElement<Asset>(orderedAssetsClone, hoverIndex, offset);\n    setSelections(nextAssets);\n  };\n\n  const handleFolderChange = (folderId: number, folderPath?: string) => {\n    onChangeFolder(folderId);\n    if (onChangeFolderParam) {\n      onChangeFolderParam(folderId, folderPath);\n    }\n  };\n\n  return (\n    <>\n      <Modal.Header>\n        <Modal.Title>\n          {formatMessage({\n            id: getTrad('header.actions.add-assets'),\n            defaultMessage: 'Add new assets',\n          })}\n        </Modal.Title>\n      </Modal.Header>\n\n      <TabsRoot variant=\"simple\" value={activeTab} onValueChange={setActiveTab}>\n        <Flex paddingLeft={8} paddingRight={8} paddingTop={6} justifyContent=\"space-between\">\n          <Tabs.List>\n            <Tabs.Trigger value=\"browse\">\n              {formatMessage({\n                id: getTrad('modal.nav.browse'),\n                defaultMessage: 'Browse',\n              })}\n            </Tabs.Trigger>\n            <Tabs.Trigger value=\"selected\">\n              {formatMessage({\n                id: getTrad('modal.header.select-files'),\n                defaultMessage: 'Selected files',\n              })}\n              <Badge marginLeft={2}>{selectedAssets.length}</Badge>\n            </Tabs.Trigger>\n          </Tabs.List>\n          <Flex gap={2}>\n            <Button\n              variant=\"secondary\"\n              onClick={() => onAddFolder({ folderId: queryObject?.folder })}\n            >\n              {formatMessage({\n                id: getTrad('modal.upload-list.sub-header.add-folder'),\n                defaultMessage: 'Add folder',\n              })}\n            </Button>\n            <Button onClick={() => onAddAsset({ folderId: queryObject?.folder })}>\n              {formatMessage({\n                id: getTrad('modal.upload-list.sub-header.button'),\n                defaultMessage: 'Add more assets',\n              })}\n            </Button>\n          </Flex>\n        </Flex>\n        <Divider />\n        <ScrollArea>\n          <Modal.Body>\n            <Tabs.Content value=\"browse\">\n              <BrowseStep\n                allowedTypes={allowedTypes}\n                assets={assets!}\n                canCreate={canCreate}\n                canRead={canRead}\n                folders={folders as FolderWithType[]}\n                onSelectAsset={handleSelectAsset}\n                selectedAssets={selectedAssets}\n                multiple={multiple}\n                onSelectAllAsset={handleSelectAllAssets}\n                onEditAsset={setAssetToEdit}\n                onEditFolder={setFolderToEdit}\n                pagination={pagination!}\n                queryObject={queryObject!}\n                onAddAsset={onAddAsset}\n                onChangeFilters={(filters: FilterCondition<string>[] | BrowseFilter[]) =>\n                  onChangeFilters!(filters as FilterCondition<string>[])\n                }\n                onChangeFolder={handleFolderChange}\n                onChangePage={onChangePage!}\n                onChangePageSize={onChangePageSize!}\n                onChangeSort={(sort: string | undefined) => onChangeSort!(sort as Query['sort'])}\n                onChangeSearch={onChangeSearch!}\n              />\n            </Tabs.Content>\n            <Tabs.Content value=\"selected\">\n              <SelectedStep\n                selectedAssets={selectedAssets}\n                onSelectAsset={handleSelectAsset}\n                onReorderAsset={handleMoveItem}\n              />\n            </Tabs.Content>\n          </Modal.Body>\n        </ScrollArea>\n      </TabsRoot>\n      <DialogFooter onClose={onClose} onValidate={() => onValidate(selectedAssets)} />\n    </>\n  );\n};\n\ninterface AssetDialogProps extends AssetContentProps {\n  open?: boolean;\n}\n\nexport const AssetDialog = ({ open = false, onClose, ...restProps }: AssetDialogProps) => {\n  return (\n    <Modal.Root open={open} onOpenChange={onClose}>\n      <Modal.Content>\n        <AssetContent onClose={onClose} {...restProps} />\n      </Modal.Content>\n    </Modal.Root>\n  );\n};\n\nconst TabsRoot = styled(Tabs.Root)`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\n", "// TODO: find a better naming convention for the file that was an index file before\nimport * as React from 'react';\n\nimport { AssetDialog } from '../AssetDialog/AssetDialog';\nimport { EditFolderDialog } from '../EditFolderDialog/EditFolderDialog';\nimport { UploadAssetDialog } from '../UploadAssetDialog/UploadAssetDialog';\n\nconst STEPS = {\n  AssetSelect: 'SelectAsset',\n  AssetUpload: 'UploadAsset',\n  FolderCreate: 'FolderCreate',\n};\n\nimport type { File } from '../../../../shared/contracts/files';\nimport type { AllowedTypes } from '../AssetCard/AssetCard';\nexport interface MediaLibraryDialogProps {\n  allowedTypes?: AllowedTypes[];\n  multiple?: boolean;\n  onClose: () => void;\n  onSelectAssets: (selectedAssets: File[]) => void;\n}\n\nexport const MediaLibraryDialog = ({\n  onClose,\n  onSelectAssets,\n  allowedTypes = ['files', 'images', 'videos', 'audios'],\n  multiple = true,\n}: MediaLibraryDialogProps) => {\n  const [step, setStep] = React.useState(STEPS.AssetSelect);\n  const [folderId, setFolderId] = React.useState<number | null>(null);\n\n  switch (step) {\n    case STEPS.AssetSelect:\n      return (\n        <AssetDialog\n          allowedTypes={allowedTypes}\n          folderId={folderId}\n          open\n          onClose={onClose}\n          onValidate={onSelectAssets}\n          onAddAsset={() => setStep(STEPS.AssetUpload)}\n          onAddFolder={() => setStep(STEPS.FolderCreate)}\n          onChangeFolder={(folderId) => setFolderId(folderId)}\n          multiple={multiple}\n        />\n      );\n\n    case STEPS.FolderCreate:\n      return (\n        <EditFolderDialog\n          open\n          onClose={() => setStep(STEPS.AssetSelect)}\n          parentFolderId={folderId}\n        />\n      );\n\n    default:\n      return (\n        <UploadAssetDialog open onClose={() => setStep(STEPS.AssetSelect)} folderId={folderId} />\n      );\n  }\n};\n", "import { Box, Flex } from '@strapi/design-system';\nimport { styled } from 'styled-components';\n\nimport { AssetType } from '../../../enums';\nimport { createAssetUrl } from '../../../utils';\nimport { getFileIconComponent } from '../../../utils/icons';\nimport { AudioPreview } from '../../AssetCard/AudioPreview';\nimport { VideoPreview } from '../../AssetCard/VideoPreview';\n\nimport type { File as FileAsset } from '../../../../../shared/contracts/files';\n\nconst DocAsset = styled(Flex)`\n  background: linear-gradient(180deg, #ffffff 0%, #f6f6f9 121.48%);\n`;\n\nconst VideoPreviewWrapper = styled(Box)`\n  canvas,\n  video {\n    max-width: 100%;\n    height: 124px;\n  }\n`;\n\nconst AudioPreviewWrapper = styled(Box)`\n  canvas,\n  audio {\n    max-width: 100%;\n  }\n`;\n\nexport const CarouselAsset = ({ asset }: { asset: FileAsset }) => {\n  if (asset.mime?.includes(AssetType.Video)) {\n    return (\n      <VideoPreviewWrapper height=\"100%\">\n        <VideoPreview\n          url={createAssetUrl(asset, true)!}\n          mime={asset.mime}\n          alt={asset.alternativeText || asset.name}\n        />\n      </VideoPreviewWrapper>\n    );\n  }\n\n  if (asset.mime?.includes(AssetType.Audio)) {\n    return (\n      <AudioPreviewWrapper>\n        <AudioPreview\n          url={createAssetUrl(asset, true)!}\n          alt={asset.alternativeText || asset.name}\n        />\n      </AudioPreviewWrapper>\n    );\n  }\n\n  if (asset.mime?.includes(AssetType.Image)) {\n    const assetUrl = createAssetUrl(asset, true);\n    if (!assetUrl) return null;\n\n    // Adding a param to the url to bust the cache and force the refresh of the image when replaced\n    // Only add updatedAt parameter if the URL is not signed to prevent signature invalidation\n    const cacheBustedUrl = asset.isUrlSigned\n      ? assetUrl\n      : `${assetUrl}${assetUrl.includes('?') ? '&' : '?'}updatedAt=${asset.updatedAt}`;\n\n    return (\n      <Box\n        tag=\"img\"\n        maxHeight=\"100%\"\n        maxWidth=\"100%\"\n        src={cacheBustedUrl}\n        alt={asset.alternativeText || asset.name}\n      />\n    );\n  }\n\n  const IconComponent = getFileIconComponent(asset.ext);\n\n  return (\n    <DocAsset width=\"100%\" height=\"100%\" justifyContent=\"center\" hasRadius>\n      <IconComponent aria-label={asset.alternativeText || asset.name} width=\"24px\" height=\"32px\" />\n    </DocAsset>\n  );\n};\n", "import { CarouselActions, IconButton } from '@strapi/design-system';\nimport { Pencil, Plus, Trash } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nimport { getTrad, prefixFileUrlWithBackendUrl } from '../../../utils';\nimport { CopyLinkButton } from '../../CopyLinkButton/CopyLinkButton';\n\nimport type { File } from '../../../../../shared/contracts/files';\n\ninterface CarouselAssetActionsProps {\n  asset: File;\n  onDeleteAsset?: (asset: File) => void;\n  onAddAsset?: (asset: File) => void;\n  onEditAsset?: () => void;\n}\n\nexport const CarouselAssetActions = ({\n  asset,\n  onDeleteAsset,\n  onAddAsset,\n  onEditAsset,\n}: CarouselAssetActionsProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <CarouselActions>\n      {onAddAsset && (\n        <IconButton\n          label={formatMessage({\n            id: getTrad('control-card.add'),\n            defaultMessage: 'Add',\n          })}\n          onClick={() => onAddAsset(asset)}\n        >\n          <Plus />\n        </IconButton>\n      )}\n\n      <CopyLinkButton url={prefixFileUrlWithBackendUrl(asset.url)!} />\n\n      {onDeleteAsset && (\n        <IconButton\n          label={formatMessage({\n            id: 'global.delete',\n            defaultMessage: 'Delete',\n          })}\n          onClick={() => onDeleteAsset(asset)}\n        >\n          <Trash />\n        </IconButton>\n      )}\n\n      {onEditAsset && (\n        <IconButton\n          label={formatMessage({\n            id: getTrad('control-card.edit'),\n            defaultMessage: 'edit',\n          })}\n          onClick={onEditAsset}\n        >\n          <Pencil />\n        </IconButton>\n      )}\n    </CarouselActions>\n  );\n};\n", "import * as React from 'react';\n\nimport { Flex, Typography } from '@strapi/design-system';\nimport { PlusCircle as PicturePlus } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { AssetSource } from '../../../constants';\nimport { getTrad, rawFileToAsset } from '../../../utils';\n\nimport type { File } from '../../../../../shared/contracts/files';\n\nconst TextAlignTypography = styled(Typography)`\n  align-items: center;\n`;\n\ntype FileWithoutIdHash = Omit<File, 'id' | 'hash'>;\n\ninterface EmptyStateAssetProps {\n  disabled?: boolean;\n  onClick: (asset?: File, event?: React.MouseEventHandler<HTMLButtonElement>) => void;\n  onDropAsset: (assets: FileWithoutIdHash[]) => void;\n}\n\nexport const EmptyStateAsset = ({\n  disabled = false,\n  onClick,\n  onDropAsset,\n}: EmptyStateAssetProps) => {\n  const { formatMessage } = useIntl();\n  const [dragOver, setDragOver] = React.useState(false);\n\n  const handleDragEnter = (e: React.DragEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n    setDragOver(true);\n  };\n\n  const handleDragLeave = (e: React.DragEvent<HTMLButtonElement>) => {\n    if (!e.currentTarget.contains(e.relatedTarget as Node)) {\n      setDragOver(false);\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n  };\n\n  const handleDrop = (e: React.DragEvent<HTMLButtonElement>) => {\n    e.preventDefault();\n\n    if (e?.dataTransfer?.files) {\n      const files = e.dataTransfer.files;\n      const assets: FileWithoutIdHash[] = [];\n\n      for (let i = 0; i < files.length; i++) {\n        const file = files.item(i);\n        if (file) {\n          const asset = rawFileToAsset(file, AssetSource.Computer);\n\n          assets.push(asset);\n        }\n      }\n\n      onDropAsset(assets);\n    }\n\n    setDragOver(false);\n  };\n\n  return (\n    <Flex\n      borderStyle={dragOver ? 'dashed' : undefined}\n      borderWidth={dragOver ? '1px' : undefined}\n      borderColor={dragOver ? 'primary600' : undefined}\n      direction=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      height=\"100%\"\n      width=\"100%\"\n      tag=\"button\"\n      type=\"button\"\n      disabled={disabled}\n      onClick={onClick as unknown as React.MouseEventHandler<HTMLButtonElement>}\n      onDragEnter={handleDragEnter}\n      onDragLeave={handleDragLeave}\n      onDragOver={handleDragOver}\n      onDrop={handleDrop}\n      gap={3}\n      style={{ cursor: disabled ? 'not-allowed' : 'pointer' }}\n    >\n      <PicturePlus\n        aria-hidden\n        width=\"3.2rem\"\n        height=\"3.2rem\"\n        fill={disabled ? 'neutral400' : 'primary600'}\n      />\n      <TextAlignTypography\n        variant=\"pi\"\n        fontWeight=\"bold\"\n        textColor=\"neutral600\"\n        style={{ textAlign: 'center' }}\n        tag=\"span\"\n      >\n        {formatMessage({\n          id: getTrad('mediaLibraryInput.placeholder'),\n          defaultMessage: 'Click to add an asset or drag and drop one in this area',\n        })}\n      </TextAlignTypography>\n    </Flex>\n  );\n};\n", "import * as React from 'react';\n\nimport { CarouselInput, CarouselSlide } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { getTrad } from '../../../utils/getTrad';\nimport { EditAssetDialog } from '../../EditAssetDialog/EditAssetContent';\n\nimport { CarouselAsset } from './CarouselAsset';\nimport { CarouselAssetActions } from './CarouselAssetActions';\nimport { EmptyStateAsset } from './EmptyStateAsset';\n\nimport type { File as FileAsset, RawFile } from '../../../../../shared/contracts/files';\n\nexport type FileWithoutIdHash = Omit<FileAsset, 'id' | 'hash'>;\n\ninterface Asset extends Omit<FileAsset, 'folder'> {\n  isLocal?: boolean;\n  rawFile?: RawFile;\n  folder?: FileAsset['folder'] & { id: number };\n}\n\nexport interface CarouselAssetsProps {\n  assets: FileAsset[];\n  disabled?: boolean;\n  error?: string;\n  hint?: string;\n  label: string;\n  labelAction?: React.ReactNode;\n  onAddAsset: (asset?: FileAsset, event?: React.MouseEventHandler<HTMLButtonElement>) => void;\n  onDeleteAsset: (asset: FileAsset) => void;\n  onDeleteAssetFromMediaLibrary: () => void;\n  onDropAsset?: (assets: FileWithoutIdHash[]) => void;\n  onEditAsset?: (asset: FileAsset) => void;\n  onNext: () => void;\n  onPrevious: () => void;\n  onDoubleClickAsset: (asset: FileAsset, event?: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n  required?: boolean;\n  selectedAssetIndex: number;\n  trackedLocation?: string;\n}\n\nexport const CarouselAssets = React.forwardRef(\n  (\n    {\n      assets,\n      disabled = false,\n      error,\n      hint,\n      label,\n      labelAction,\n      onAddAsset,\n      onDeleteAsset,\n      onDeleteAssetFromMediaLibrary,\n      onDropAsset,\n      onEditAsset,\n      onNext,\n      onPrevious,\n      onDoubleClickAsset,\n      required = false,\n      selectedAssetIndex,\n      trackedLocation,\n    }: CarouselAssetsProps,\n    forwardedRef\n  ) => {\n    const { formatMessage } = useIntl();\n    const [isEditingAsset, setIsEditingAsset] = React.useState(false);\n\n    const currentAsset = assets[selectedAssetIndex];\n    const canEditMedia = !disabled && onEditAsset;\n\n    return (\n      <>\n        <CarouselInput\n          ref={forwardedRef as React.Ref<HTMLDivElement>}\n          label={label}\n          labelAction={labelAction}\n          secondaryLabel={currentAsset?.name}\n          selectedSlide={selectedAssetIndex}\n          previousLabel={formatMessage({\n            id: getTrad('mediaLibraryInput.actions.previousSlide'),\n            defaultMessage: 'Previous slide',\n          })}\n          nextLabel={formatMessage({\n            id: getTrad('mediaLibraryInput.actions.nextSlide'),\n            defaultMessage: 'Next slide',\n          })}\n          onNext={onNext}\n          onPrevious={onPrevious}\n          hint={hint}\n          error={error}\n          required={required}\n          actions={\n            currentAsset ? (\n              <CarouselAssetActions\n                asset={currentAsset}\n                onDeleteAsset={disabled ? undefined : onDeleteAsset}\n                onAddAsset={disabled ? undefined : onAddAsset}\n                onEditAsset={canEditMedia ? () => setIsEditingAsset(true) : undefined}\n              />\n            ) : undefined\n          }\n        >\n          {assets.length === 0 ? (\n            <CarouselSlide\n              label={formatMessage(\n                {\n                  id: getTrad('mediaLibraryInput.slideCount'),\n                  defaultMessage: '{n} of {m} slides',\n                },\n                { n: 1, m: 1 }\n              )}\n            >\n              <EmptyStateAsset\n                disabled={disabled}\n                onClick={onAddAsset}\n                onDropAsset={onDropAsset!}\n              />\n            </CarouselSlide>\n          ) : (\n            assets.map((asset, index) => (\n              <CarouselSlide\n                key={asset.id}\n                label={formatMessage(\n                  {\n                    id: getTrad('mediaLibraryInput.slideCount'),\n                    defaultMessage: '{n} of {m} slides',\n                  },\n                  { n: index + 1, m: assets.length }\n                )}\n                onDoubleClick={(event) => {\n                  setIsEditingAsset(true);\n                  onDoubleClickAsset(asset, event);\n                }}\n                aria-selected={currentAsset.id === asset.id}\n              >\n                <CarouselAsset asset={asset} />\n              </CarouselSlide>\n            ))\n          )}\n        </CarouselInput>\n        <EditAssetDialog\n          open={isEditingAsset}\n          onClose={(editedAsset) => {\n            setIsEditingAsset(false);\n\n            // The asset has been deleted\n            if (editedAsset === null) {\n              onDeleteAssetFromMediaLibrary();\n            }\n            if (editedAsset && typeof editedAsset !== 'boolean') {\n              onEditAsset?.(editedAsset);\n            }\n          }}\n          asset={currentAsset as Asset}\n          canUpdate\n          canCopyLink\n          canDownload\n          trackedLocation={trackedLocation}\n        />\n      </>\n    );\n  }\n);\n", "// TODO: find a better naming convention for the file that was an index file before\nimport * as React from 'react';\n\nimport { useField, useNotification } from '@strapi/admin/strapi-admin';\nimport { useIntl } from 'react-intl';\n\nimport { AllowedFiles, getAllowedFiles, getTrad } from '../../utils';\nimport { AssetDialog } from '../AssetDialog/AssetDialog';\nimport { EditFolderDialog } from '../EditFolderDialog/EditFolderDialog';\nimport { Asset, UploadAssetDialog } from '../UploadAssetDialog/UploadAssetDialog';\n\nimport { CarouselAssets, CarouselAssetsProps, FileWithoutIdHash } from './Carousel/CarouselAssets';\n\nimport type { File } from '../../../../shared/contracts/files';\n\ntype AllowedTypes = 'files' | 'images' | 'videos' | 'audios';\n\nconst STEPS = {\n  AssetSelect: 'SelectAsset',\n  AssetUpload: 'UploadAsset',\n  FolderCreate: 'FolderCreate',\n};\n\nexport interface MediaLibraryInputProps {\n  required?: boolean;\n  name: string;\n  labelAction?: React.ReactNode;\n  label?: string;\n  hint?: string;\n  disabled?: boolean;\n  attribute?: {\n    allowedTypes?: AllowedTypes[];\n    multiple?: boolean;\n  };\n}\n\nexport const MediaLibraryInput = React.forwardRef<CarouselAssetsProps, MediaLibraryInputProps>(\n  (\n    {\n      attribute: { allowedTypes = null, multiple = false } = {},\n      label,\n      hint,\n      disabled = false,\n      labelAction = undefined,\n      name,\n      required = false,\n    },\n    forwardedRef\n  ) => {\n    const { formatMessage } = useIntl();\n    const { onChange, value, error } = useField(name);\n    const [uploadedFiles, setUploadedFiles] = React.useState<Asset[] | File[]>([]);\n    const [step, setStep] = React.useState<string | undefined>(undefined);\n    const [selectedIndex, setSelectedIndex] = React.useState(0);\n    const [droppedAssets, setDroppedAssets] = React.useState<AllowedFiles[]>();\n    const [folderId, setFolderId] = React.useState<number | null>(null);\n    const { toggleNotification } = useNotification();\n\n    React.useEffect(() => {\n      // Clear the uploaded files on close\n      if (step === undefined) {\n        setUploadedFiles([]);\n      }\n    }, [step]);\n\n    let selectedAssets: File[] = [];\n\n    if (Array.isArray(value)) {\n      selectedAssets = value;\n    } else if (value) {\n      selectedAssets = [value];\n    }\n\n    const handleValidation = (nextSelectedAssets: File[]) => {\n      const value = multiple ? nextSelectedAssets : nextSelectedAssets[0];\n      onChange(name, value);\n      setStep(undefined);\n    };\n\n    const handleDeleteAssetFromMediaLibrary = () => {\n      let nextValue;\n\n      if (multiple) {\n        const nextSelectedAssets = selectedAssets.filter(\n          (_, assetIndex) => assetIndex !== selectedIndex\n        );\n        nextValue = nextSelectedAssets.length > 0 ? nextSelectedAssets : null;\n      } else {\n        nextValue = null;\n      }\n\n      const value = nextValue;\n      onChange(name, value);\n\n      setSelectedIndex(0);\n    };\n\n    const handleDeleteAsset = (asset: File) => {\n      let nextValue;\n\n      if (multiple) {\n        const nextSelectedAssets = selectedAssets.filter((prevAsset) => prevAsset.id !== asset.id);\n\n        nextValue = nextSelectedAssets.length > 0 ? nextSelectedAssets : null;\n      } else {\n        nextValue = null;\n      }\n\n      onChange(name, nextValue);\n\n      setSelectedIndex(0);\n    };\n\n    const handleAssetEdit = (asset: File) => {\n      const nextSelectedAssets = selectedAssets.map((prevAsset) =>\n        prevAsset.id === asset.id ? asset : prevAsset\n      );\n\n      onChange(name, multiple ? nextSelectedAssets : nextSelectedAssets[0]);\n    };\n\n    const validateAssetsTypes = (\n      assets: FileWithoutIdHash[] | Asset[],\n      callback: (assets?: AllowedFiles[], error?: string) => void\n    ) => {\n      const allowedAssets = getAllowedFiles(allowedTypes, assets as AllowedFiles[]);\n\n      if (allowedAssets.length > 0) {\n        callback(allowedAssets);\n      } else {\n        toggleNotification({\n          type: 'danger',\n          timeout: 4000,\n          message: formatMessage(\n            {\n              id: getTrad('input.notification.not-supported'),\n              defaultMessage: `You can't upload this type of file.`,\n            },\n            {\n              fileTypes: (allowedTypes ?? []).join(','),\n            }\n          ),\n        });\n      }\n    };\n\n    const handleAssetDrop = (assets: FileWithoutIdHash[]) => {\n      validateAssetsTypes(assets, (allowedAssets?: AllowedFiles[]) => {\n        setDroppedAssets(allowedAssets);\n        setStep(STEPS.AssetUpload);\n      });\n    };\n\n    if (multiple && selectedAssets.length > 0) {\n      label = `${label} (${selectedIndex + 1} / ${selectedAssets.length})`;\n    }\n\n    const handleNext = () => {\n      setSelectedIndex((current) => (current < selectedAssets.length - 1 ? current + 1 : 0));\n    };\n\n    const handlePrevious = () => {\n      setSelectedIndex((current) => (current > 0 ? current - 1 : selectedAssets.length - 1));\n    };\n\n    const handleFilesUploadSucceeded = (uploadedFiles: Asset[] | File[]) => {\n      setUploadedFiles((prev) => [...prev, ...uploadedFiles]);\n    };\n\n    let initiallySelectedAssets = selectedAssets;\n\n    if (uploadedFiles.length > 0) {\n      const allowedUploadedFiles = getAllowedFiles(allowedTypes, uploadedFiles as AllowedFiles[]);\n\n      initiallySelectedAssets = multiple\n        ? [...allowedUploadedFiles, ...selectedAssets]\n        : [allowedUploadedFiles[0]];\n    }\n\n    const handleDoubleClickAsset = (asset: File) => {\n      handleAssetEdit(asset);\n    };\n\n    return (\n      <>\n        <CarouselAssets\n          ref={forwardedRef}\n          assets={selectedAssets}\n          disabled={disabled}\n          label={label!}\n          labelAction={labelAction}\n          onDeleteAsset={handleDeleteAsset}\n          onDeleteAssetFromMediaLibrary={handleDeleteAssetFromMediaLibrary}\n          onAddAsset={() => setStep(STEPS.AssetSelect)}\n          onDropAsset={handleAssetDrop}\n          onEditAsset={handleAssetEdit}\n          onNext={handleNext}\n          onPrevious={handlePrevious}\n          onDoubleClickAsset={handleDoubleClickAsset}\n          error={error}\n          hint={hint}\n          required={required}\n          selectedAssetIndex={selectedIndex}\n          trackedLocation=\"content-manager\"\n        />\n\n        {step === STEPS.AssetSelect && (\n          <AssetDialog\n            allowedTypes={allowedTypes as AllowedTypes[]}\n            initiallySelectedAssets={initiallySelectedAssets}\n            folderId={folderId}\n            onClose={() => {\n              setStep(undefined);\n              setFolderId(null);\n            }}\n            open={step === STEPS.AssetSelect}\n            onValidate={handleValidation}\n            multiple={multiple}\n            onAddAsset={() => setStep(STEPS.AssetUpload)}\n            onAddFolder={() => setStep(STEPS.FolderCreate)}\n            onChangeFolder={(folder) => setFolderId(folder)}\n            trackedLocation=\"content-manager\"\n          />\n        )}\n\n        {step === STEPS.AssetUpload && (\n          <UploadAssetDialog\n            open={step === STEPS.AssetUpload}\n            onClose={() => setStep(STEPS.AssetSelect)}\n            initialAssetsToAdd={droppedAssets as Asset[]}\n            addUploadedFiles={handleFilesUploadSucceeded}\n            trackedLocation=\"content-manager\"\n            folderId={folderId}\n            validateAssetsTypes={validateAssetsTypes}\n          />\n        )}\n\n        {step === STEPS.FolderCreate && (\n          <EditFolderDialog\n            open={step === STEPS.FolderCreate}\n            onClose={() => setStep(STEPS.AssetSelect)}\n            parentFolderId={folderId}\n          />\n        )}\n      </>\n    );\n  }\n);\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContext, createContextScope } from '@radix-ui/react-context';\nimport { useId } from '@radix-ui/react-id';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Presence } from '@radix-ui/react-presence';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { RemoveScroll } from 'react-remove-scroll';\nimport { hideOthers } from 'aria-hidden';\nimport { createSlot } from '@radix-ui/react-slot';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Dialog\n * -----------------------------------------------------------------------------------------------*/\n\nconst DIALOG_NAME = 'Dialog';\n\ntype ScopedProps<P> = P & { __scopeDialog?: Scope };\nconst [createDialogContext, createDialogScope] = createContextScope(DIALOG_NAME);\n\ntype DialogContextValue = {\n  triggerRef: React.RefObject<HTMLButtonElement | null>;\n  contentRef: React.RefObject<DialogContentElement | null>;\n  contentId: string;\n  titleId: string;\n  descriptionId: string;\n  open: boolean;\n  onOpenChange(open: boolean): void;\n  onOpenToggle(): void;\n  modal: boolean;\n};\n\nconst [DialogProvider, useDialogContext] = createDialogContext<DialogContextValue>(DIALOG_NAME);\n\ninterface DialogProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  modal?: boolean;\n}\n\nconst Dialog: React.FC<DialogProps> = (props: ScopedProps<DialogProps>) => {\n  const {\n    __scopeDialog,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true,\n  } = props;\n  const triggerRef = React.useRef<HTMLButtonElement>(null);\n  const contentRef = React.useRef<DialogContentElement>(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DIALOG_NAME,\n  });\n\n  return (\n    <DialogProvider\n      scope={__scopeDialog}\n      triggerRef={triggerRef}\n      contentRef={contentRef}\n      contentId={useId()}\n      titleId={useId()}\n      descriptionId={useId()}\n      open={open}\n      onOpenChange={setOpen}\n      onOpenToggle={React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen])}\n      modal={modal}\n    >\n      {children}\n    </DialogProvider>\n  );\n};\n\nDialog.displayName = DIALOG_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DialogTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'DialogTrigger';\n\ntype DialogTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface DialogTriggerProps extends PrimitiveButtonProps {}\n\nconst DialogTrigger = React.forwardRef<DialogTriggerElement, DialogTriggerProps>(\n  (props: ScopedProps<DialogTriggerProps>, forwardedRef) => {\n    const { __scopeDialog, ...triggerProps } = props;\n    const context = useDialogContext(TRIGGER_NAME, __scopeDialog);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    return (\n      <Primitive.button\n        type=\"button\"\n        aria-haspopup=\"dialog\"\n        aria-expanded={context.open}\n        aria-controls={context.contentId}\n        data-state={getState(context.open)}\n        {...triggerProps}\n        ref={composedTriggerRef}\n        onClick={composeEventHandlers(props.onClick, context.onOpenToggle)}\n      />\n    );\n  }\n);\n\nDialogTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DialogPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'DialogPortal';\n\ntype PortalContextValue = { forceMount?: true };\nconst [PortalProvider, usePortalContext] = createDialogContext<PortalContextValue>(PORTAL_NAME, {\n  forceMount: undefined,\n});\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface DialogPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst DialogPortal: React.FC<DialogPortalProps> = (props: ScopedProps<DialogPortalProps>) => {\n  const { __scopeDialog, forceMount, children, container } = props;\n  const context = useDialogContext(PORTAL_NAME, __scopeDialog);\n  return (\n    <PortalProvider scope={__scopeDialog} forceMount={forceMount}>\n      {React.Children.map(children, (child) => (\n        <Presence present={forceMount || context.open}>\n          <PortalPrimitive asChild container={container}>\n            {child}\n          </PortalPrimitive>\n        </Presence>\n      ))}\n    </PortalProvider>\n  );\n};\n\nDialogPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DialogOverlay\n * -----------------------------------------------------------------------------------------------*/\n\nconst OVERLAY_NAME = 'DialogOverlay';\n\ntype DialogOverlayElement = DialogOverlayImplElement;\ninterface DialogOverlayProps extends DialogOverlayImplProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst DialogOverlay = React.forwardRef<DialogOverlayElement, DialogOverlayProps>(\n  (props: ScopedProps<DialogOverlayProps>, forwardedRef) => {\n    const portalContext = usePortalContext(OVERLAY_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, props.__scopeDialog);\n    return context.modal ? (\n      <Presence present={forceMount || context.open}>\n        <DialogOverlayImpl {...overlayProps} ref={forwardedRef} />\n      </Presence>\n    ) : null;\n  }\n);\n\nDialogOverlay.displayName = OVERLAY_NAME;\n\ntype DialogOverlayImplElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface DialogOverlayImplProps extends PrimitiveDivProps {}\n\nconst Slot = createSlot('DialogOverlay.RemoveScroll');\n\nconst DialogOverlayImpl = React.forwardRef<DialogOverlayImplElement, DialogOverlayImplProps>(\n  (props: ScopedProps<DialogOverlayImplProps>, forwardedRef) => {\n    const { __scopeDialog, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, __scopeDialog);\n    return (\n      // Make sure `Content` is scrollable even when it doesn't live inside `RemoveScroll`\n      // ie. when `Overlay` and `Content` are siblings\n      <RemoveScroll as={Slot} allowPinchZoom shards={[context.contentRef]}>\n        <Primitive.div\n          data-state={getState(context.open)}\n          {...overlayProps}\n          ref={forwardedRef}\n          // We re-enable pointer-events prevented by `Dialog.Content` to allow scrolling the overlay.\n          style={{ pointerEvents: 'auto', ...overlayProps.style }}\n        />\n      </RemoveScroll>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * DialogContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'DialogContent';\n\ntype DialogContentElement = DialogContentTypeElement;\ninterface DialogContentProps extends DialogContentTypeProps {\n  /**\n   * Used to force mounting when more control is needed. Useful when\n   * controlling animation with React animation libraries.\n   */\n  forceMount?: true;\n}\n\nconst DialogContent = React.forwardRef<DialogContentElement, DialogContentProps>(\n  (props: ScopedProps<DialogContentProps>, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    return (\n      <Presence present={forceMount || context.open}>\n        {context.modal ? (\n          <DialogContentModal {...contentProps} ref={forwardedRef} />\n        ) : (\n          <DialogContentNonModal {...contentProps} ref={forwardedRef} />\n        )}\n      </Presence>\n    );\n  }\n);\n\nDialogContent.displayName = CONTENT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype DialogContentTypeElement = DialogContentImplElement;\ninterface DialogContentTypeProps\n  extends Omit<DialogContentImplProps, 'trapFocus' | 'disableOutsidePointerEvents'> {}\n\nconst DialogContentModal = React.forwardRef<DialogContentTypeElement, DialogContentTypeProps>(\n  (props: ScopedProps<DialogContentTypeProps>, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const contentRef = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, context.contentRef, contentRef);\n\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    React.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n\n    return (\n      <DialogContentImpl\n        {...props}\n        ref={composedRefs}\n        // we make sure focus isn't trapped once `DialogContent` has been closed\n        // (closed !== unmounted when animating out)\n        trapFocus={context.open}\n        disableOutsidePointerEvents\n        onCloseAutoFocus={composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          context.triggerRef.current?.focus();\n        })}\n        onPointerDownOutside={composeEventHandlers(props.onPointerDownOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n\n          // If the event is a right-click, we shouldn't close because\n          // it is effectively as if we right-clicked the `Overlay`.\n          if (isRightClick) event.preventDefault();\n        })}\n        // When focus is trapped, a `focusout` event may still happen.\n        // We make sure we don't trigger our `onDismiss` in such case.\n        onFocusOutside={composeEventHandlers(props.onFocusOutside, (event) =>\n          event.preventDefault()\n        )}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst DialogContentNonModal = React.forwardRef<DialogContentTypeElement, DialogContentTypeProps>(\n  (props: ScopedProps<DialogContentTypeProps>, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const hasInteractedOutsideRef = React.useRef(false);\n    const hasPointerDownOutsideRef = React.useRef(false);\n\n    return (\n      <DialogContentImpl\n        {...props}\n        ref={forwardedRef}\n        trapFocus={false}\n        disableOutsidePointerEvents={false}\n        onCloseAutoFocus={(event) => {\n          props.onCloseAutoFocus?.(event);\n\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            // Always prevent auto focus because we either focus manually or want user agent focus\n            event.preventDefault();\n          }\n\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        }}\n        onInteractOutside={(event) => {\n          props.onInteractOutside?.(event);\n\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === 'pointerdown') {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n\n          // Prevent dismissing when clicking the trigger.\n          // As the trigger is already setup to close, without doing so would\n          // cause it to close and immediately open.\n          const target = event.target as HTMLElement;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n\n          // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n          // we will get the pointer down outside event on the trigger, but then a subsequent\n          // focus outside event on the container, we ignore any focus outside event when we've\n          // already had a pointer down outside event.\n          if (event.detail.originalEvent.type === 'focusin' && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype DialogContentImplElement = React.ComponentRef<typeof DismissableLayer>;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\ninterface DialogContentImplProps extends Omit<DismissableLayerProps, 'onDismiss'> {\n  /**\n   * When `true`, focus cannot escape the `Content` via keyboard,\n   * pointer, or a programmatic focus.\n   * @defaultValue false\n   */\n  trapFocus?: FocusScopeProps['trapped'];\n\n  /**\n   * Event handler called when auto-focusing on open.\n   * Can be prevented.\n   */\n  onOpenAutoFocus?: FocusScopeProps['onMountAutoFocus'];\n\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n}\n\nconst DialogContentImpl = React.forwardRef<DialogContentImplElement, DialogContentImplProps>(\n  (props: ScopedProps<DialogContentImplProps>, forwardedRef) => {\n    const { __scopeDialog, trapFocus, onOpenAutoFocus, onCloseAutoFocus, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, __scopeDialog);\n    const contentRef = React.useRef<HTMLDivElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n\n    // Make sure the whole tree has focus guards as our `Dialog` will be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    return (\n      <>\n        <FocusScope\n          asChild\n          loop\n          trapped={trapFocus}\n          onMountAutoFocus={onOpenAutoFocus}\n          onUnmountAutoFocus={onCloseAutoFocus}\n        >\n          <DismissableLayer\n            role=\"dialog\"\n            id={context.contentId}\n            aria-describedby={context.descriptionId}\n            aria-labelledby={context.titleId}\n            data-state={getState(context.open)}\n            {...contentProps}\n            ref={composedRefs}\n            onDismiss={() => context.onOpenChange(false)}\n          />\n        </FocusScope>\n        {process.env.NODE_ENV !== 'production' && (\n          <>\n            <TitleWarning titleId={context.titleId} />\n            <DescriptionWarning contentRef={contentRef} descriptionId={context.descriptionId} />\n          </>\n        )}\n      </>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * DialogTitle\n * -----------------------------------------------------------------------------------------------*/\n\nconst TITLE_NAME = 'DialogTitle';\n\ntype DialogTitleElement = React.ComponentRef<typeof Primitive.h2>;\ntype PrimitiveHeading2Props = React.ComponentPropsWithoutRef<typeof Primitive.h2>;\ninterface DialogTitleProps extends PrimitiveHeading2Props {}\n\nconst DialogTitle = React.forwardRef<DialogTitleElement, DialogTitleProps>(\n  (props: ScopedProps<DialogTitleProps>, forwardedRef) => {\n    const { __scopeDialog, ...titleProps } = props;\n    const context = useDialogContext(TITLE_NAME, __scopeDialog);\n    return <Primitive.h2 id={context.titleId} {...titleProps} ref={forwardedRef} />;\n  }\n);\n\nDialogTitle.displayName = TITLE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DialogDescription\n * -----------------------------------------------------------------------------------------------*/\n\nconst DESCRIPTION_NAME = 'DialogDescription';\n\ntype DialogDescriptionElement = React.ComponentRef<typeof Primitive.p>;\ntype PrimitiveParagraphProps = React.ComponentPropsWithoutRef<typeof Primitive.p>;\ninterface DialogDescriptionProps extends PrimitiveParagraphProps {}\n\nconst DialogDescription = React.forwardRef<DialogDescriptionElement, DialogDescriptionProps>(\n  (props: ScopedProps<DialogDescriptionProps>, forwardedRef) => {\n    const { __scopeDialog, ...descriptionProps } = props;\n    const context = useDialogContext(DESCRIPTION_NAME, __scopeDialog);\n    return <Primitive.p id={context.descriptionId} {...descriptionProps} ref={forwardedRef} />;\n  }\n);\n\nDialogDescription.displayName = DESCRIPTION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DialogClose\n * -----------------------------------------------------------------------------------------------*/\n\nconst CLOSE_NAME = 'DialogClose';\n\ntype DialogCloseElement = React.ComponentRef<typeof Primitive.button>;\ninterface DialogCloseProps extends PrimitiveButtonProps {}\n\nconst DialogClose = React.forwardRef<DialogCloseElement, DialogCloseProps>(\n  (props: ScopedProps<DialogCloseProps>, forwardedRef) => {\n    const { __scopeDialog, ...closeProps } = props;\n    const context = useDialogContext(CLOSE_NAME, __scopeDialog);\n    return (\n      <Primitive.button\n        type=\"button\"\n        {...closeProps}\n        ref={forwardedRef}\n        onClick={composeEventHandlers(props.onClick, () => context.onOpenChange(false))}\n      />\n    );\n  }\n);\n\nDialogClose.displayName = CLOSE_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getState(open: boolean) {\n  return open ? 'open' : 'closed';\n}\n\nconst TITLE_WARNING_NAME = 'DialogTitleWarning';\n\nconst [WarningProvider, useWarningContext] = createContext(TITLE_WARNING_NAME, {\n  contentName: CONTENT_NAME,\n  titleName: TITLE_NAME,\n  docsSlug: 'dialog',\n});\n\ntype TitleWarningProps = { titleId?: string };\n\nconst TitleWarning: React.FC<TitleWarningProps> = ({ titleId }) => {\n  const titleWarningContext = useWarningContext(TITLE_WARNING_NAME);\n\n  const MESSAGE = `\\`${titleWarningContext.contentName}\\` requires a \\`${titleWarningContext.titleName}\\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \\`${titleWarningContext.titleName}\\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${titleWarningContext.docsSlug}`;\n\n  React.useEffect(() => {\n    if (titleId) {\n      const hasTitle = document.getElementById(titleId);\n      if (!hasTitle) console.error(MESSAGE);\n    }\n  }, [MESSAGE, titleId]);\n\n  return null;\n};\n\nconst DESCRIPTION_WARNING_NAME = 'DialogDescriptionWarning';\n\ntype DescriptionWarningProps = {\n  contentRef: React.RefObject<DialogContentElement | null>;\n  descriptionId?: string;\n};\n\nconst DescriptionWarning: React.FC<DescriptionWarningProps> = ({ contentRef, descriptionId }) => {\n  const descriptionWarningContext = useWarningContext(DESCRIPTION_WARNING_NAME);\n  const MESSAGE = `Warning: Missing \\`Description\\` or \\`aria-describedby={undefined}\\` for {${descriptionWarningContext.contentName}}.`;\n\n  React.useEffect(() => {\n    const describedById = contentRef.current?.getAttribute('aria-describedby');\n    // if we have an id and the user hasn't set aria-describedby={undefined}\n    if (descriptionId && describedById) {\n      const hasDescription = document.getElementById(descriptionId);\n      if (!hasDescription) console.warn(MESSAGE);\n    }\n  }, [MESSAGE, contentRef, descriptionId]);\n\n  return null;\n};\n\nconst Root = Dialog;\nconst Trigger = DialogTrigger;\nconst Portal = DialogPortal;\nconst Overlay = DialogOverlay;\nconst Content = DialogContent;\nconst Title = DialogTitle;\nconst Description = DialogDescription;\nconst Close = DialogClose;\n\nexport {\n  createDialogScope,\n  //\n  Dialog,\n  DialogTrigger,\n  DialogPortal,\n  DialogOverlay,\n  DialogContent,\n  DialogTitle,\n  DialogDescription,\n  DialogClose,\n  //\n  Root,\n  Trigger,\n  Portal,\n  Overlay,\n  Content,\n  Title,\n  Description,\n  Close,\n  //\n  WarningProvider,\n};\nexport type {\n  DialogProps,\n  DialogTriggerProps,\n  DialogPortalProps,\n  DialogOverlayProps,\n  DialogContentProps,\n  DialogTitleProps,\n  DialogDescriptionProps,\n  DialogCloseProps,\n};\n", "import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { Primitive, dispatchDiscreteCustomEvent } from '@radix-ui/react-primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useEscapeKeydown } from '@radix-ui/react-use-escape-keydown';\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayer\n * -----------------------------------------------------------------------------------------------*/\n\nconst DISMISSABLE_LAYER_NAME = 'DismissableLayer';\nconst CONTEXT_UPDATE = 'dismissableLayer.update';\nconst POINTER_DOWN_OUTSIDE = 'dismissableLayer.pointerDownOutside';\nconst FOCUS_OUTSIDE = 'dismissableLayer.focusOutside';\n\nlet originalBodyPointerEvents: string;\n\nconst DismissableLayerContext = React.createContext({\n  layers: new Set<DismissableLayerElement>(),\n  layersWithOutsidePointerEventsDisabled: new Set<DismissableLayerElement>(),\n  branches: new Set<DismissableLayerBranchElement>(),\n});\n\ntype DismissableLayerElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface DismissableLayerProps extends PrimitiveDivProps {\n  /**\n   * When `true`, hover/focus/click interactions will be disabled on elements outside\n   * the `DismissableLayer`. Users will need to click twice on outside elements to\n   * interact with them: once to close the `DismissableLayer`, and again to trigger the element.\n   */\n  disableOutsidePointerEvents?: boolean;\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n  /**\n   * Event handler called when the focus moves outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n  /**\n   * Event handler called when an interaction happens outside the `DismissableLayer`.\n   * Specifically, when a `pointerdown` event happens outside or focus moves outside of it.\n   * Can be prevented.\n   */\n  onInteractOutside?: (event: PointerDownOutsideEvent | FocusOutsideEvent) => void;\n  /**\n   * Handler called when the `DismissableLayer` should be dismissed\n   */\n  onDismiss?: () => void;\n}\n\nconst DismissableLayer = React.forwardRef<DismissableLayerElement, DismissableLayerProps>(\n  (props, forwardedRef) => {\n    const {\n      disableOutsidePointerEvents = false,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      ...layerProps\n    } = props;\n    const context = React.useContext(DismissableLayerContext);\n    const [node, setNode] = React.useState<DismissableLayerElement | null>(null);\n    const ownerDocument = node?.ownerDocument ?? globalThis?.document;\n    const [, force] = React.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setNode(node));\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [...context.layersWithOutsidePointerEventsDisabled].slice(-1); // prettier-ignore\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled!); // prettier-ignore\n    const index = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n\n    const pointerDownOutside = usePointerDownOutside((event) => {\n      const target = event.target as HTMLElement;\n      const isPointerDownOnBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n      onPointerDownOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n\n    const focusOutside = useFocusOutside((event) => {\n      const target = event.target as HTMLElement;\n      const isFocusInBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (isFocusInBranch) return;\n      onFocusOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    }, ownerDocument);\n\n    useEscapeKeydown((event) => {\n      const isHighestLayer = index === context.layers.size - 1;\n      if (!isHighestLayer) return;\n      onEscapeKeyDown?.(event);\n      if (!event.defaultPrevented && onDismiss) {\n        event.preventDefault();\n        onDismiss();\n      }\n    }, ownerDocument);\n\n    React.useEffect(() => {\n      if (!node) return;\n      if (disableOutsidePointerEvents) {\n        if (context.layersWithOutsidePointerEventsDisabled.size === 0) {\n          originalBodyPointerEvents = ownerDocument.body.style.pointerEvents;\n          ownerDocument.body.style.pointerEvents = 'none';\n        }\n        context.layersWithOutsidePointerEventsDisabled.add(node);\n      }\n      context.layers.add(node);\n      dispatchUpdate();\n      return () => {\n        if (\n          disableOutsidePointerEvents &&\n          context.layersWithOutsidePointerEventsDisabled.size === 1\n        ) {\n          ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n        }\n      };\n    }, [node, ownerDocument, disableOutsidePointerEvents, context]);\n\n    /**\n     * We purposefully prevent combining this effect with the `disableOutsidePointerEvents` effect\n     * because a change to `disableOutsidePointerEvents` would remove this layer from the stack\n     * and add it to the end again so the layering order wouldn't be _creation order_.\n     * We only want them to be removed from context stacks when unmounted.\n     */\n    React.useEffect(() => {\n      return () => {\n        if (!node) return;\n        context.layers.delete(node);\n        context.layersWithOutsidePointerEventsDisabled.delete(node);\n        dispatchUpdate();\n      };\n    }, [node, context]);\n\n    React.useEffect(() => {\n      const handleUpdate = () => force({});\n      document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n      return () => document.removeEventListener(CONTEXT_UPDATE, handleUpdate);\n    }, []);\n\n    return (\n      <Primitive.div\n        {...layerProps}\n        ref={composedRefs}\n        style={{\n          pointerEvents: isBodyPointerEventsDisabled\n            ? isPointerEventsEnabled\n              ? 'auto'\n              : 'none'\n            : undefined,\n          ...props.style,\n        }}\n        onFocusCapture={composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture)}\n        onBlurCapture={composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture)}\n        onPointerDownCapture={composeEventHandlers(\n          props.onPointerDownCapture,\n          pointerDownOutside.onPointerDownCapture\n        )}\n      />\n    );\n  }\n);\n\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayerBranch\n * -----------------------------------------------------------------------------------------------*/\n\nconst BRANCH_NAME = 'DismissableLayerBranch';\n\ntype DismissableLayerBranchElement = React.ComponentRef<typeof Primitive.div>;\ninterface DismissableLayerBranchProps extends PrimitiveDivProps {}\n\nconst DismissableLayerBranch = React.forwardRef<\n  DismissableLayerBranchElement,\n  DismissableLayerBranchProps\n>((props, forwardedRef) => {\n  const context = React.useContext(DismissableLayerContext);\n  const ref = React.useRef<DismissableLayerBranchElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      context.branches.add(node);\n      return () => {\n        context.branches.delete(node);\n      };\n    }\n  }, [context.branches]);\n\n  return <Primitive.div {...props} ref={composedRefs} />;\n});\n\nDismissableLayerBranch.displayName = BRANCH_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype PointerDownOutsideEvent = CustomEvent<{ originalEvent: PointerEvent }>;\ntype FocusOutsideEvent = CustomEvent<{ originalEvent: FocusEvent }>;\n\n/**\n * Listens for `pointerdown` outside a react subtree. We use `pointerdown` rather than `pointerup`\n * to mimic layer dismissing behaviour present in OS.\n * Returns props to pass to the node we want to check for outside events.\n */\nfunction usePointerDownOutside(\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void,\n  ownerDocument: Document = globalThis?.document\n) {\n  const handlePointerDownOutside = useCallbackRef(onPointerDownOutside) as EventListener;\n  const isPointerInsideReactTreeRef = React.useRef(false);\n  const handleClickRef = React.useRef(() => {});\n\n  React.useEffect(() => {\n    const handlePointerDown = (event: PointerEvent) => {\n      if (event.target && !isPointerInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n\n        function handleAndDispatchPointerDownOutsideEvent() {\n          handleAndDispatchCustomEvent(\n            POINTER_DOWN_OUTSIDE,\n            handlePointerDownOutside,\n            eventDetail,\n            { discrete: true }\n          );\n        }\n\n        /**\n         * On touch devices, we need to wait for a click event because browsers implement\n         * a ~350ms delay between the time the user stops touching the display and when the\n         * browser executres events. We need to ensure we don't reactivate pointer-events within\n         * this timeframe otherwise the browser may execute events that should have been prevented.\n         *\n         * Additionally, this also lets us deal automatically with cancellations when a click event\n         * isn't raised because the page was considered scrolled/drag-scrolled, long-pressed, etc.\n         *\n         * This is why we also continuously remove the previous listener, because we cannot be\n         * certain that it was raised, and therefore cleaned-up.\n         */\n        if (event.pointerType === 'touch') {\n          ownerDocument.removeEventListener('click', handleClickRef.current);\n          handleClickRef.current = handleAndDispatchPointerDownOutsideEvent;\n          ownerDocument.addEventListener('click', handleClickRef.current, { once: true });\n        } else {\n          handleAndDispatchPointerDownOutsideEvent();\n        }\n      } else {\n        // We need to remove the event listener in case the outside click has been canceled.\n        // See: https://github.com/radix-ui/primitives/issues/2171\n        ownerDocument.removeEventListener('click', handleClickRef.current);\n      }\n      isPointerInsideReactTreeRef.current = false;\n    };\n    /**\n     * if this hook executes in a component that mounts via a `pointerdown` event, the event\n     * would bubble up to the document and trigger a `pointerDownOutside` event. We avoid\n     * this by delaying the event listener registration on the document.\n     * This is not React specific, but rather how the DOM works, ie:\n     * ```\n     * button.addEventListener('pointerdown', () => {\n     *   console.log('I will log');\n     *   document.addEventListener('pointerdown', () => {\n     *     console.log('I will also log');\n     *   })\n     * });\n     */\n    const timerId = window.setTimeout(() => {\n      ownerDocument.addEventListener('pointerdown', handlePointerDown);\n    }, 0);\n    return () => {\n      window.clearTimeout(timerId);\n      ownerDocument.removeEventListener('pointerdown', handlePointerDown);\n      ownerDocument.removeEventListener('click', handleClickRef.current);\n    };\n  }, [ownerDocument, handlePointerDownOutside]);\n\n  return {\n    // ensures we check React component tree (not just DOM tree)\n    onPointerDownCapture: () => (isPointerInsideReactTreeRef.current = true),\n  };\n}\n\n/**\n * Listens for when focus happens outside a react subtree.\n * Returns props to pass to the root (node) of the subtree we want to check.\n */\nfunction useFocusOutside(\n  onFocusOutside?: (event: FocusOutsideEvent) => void,\n  ownerDocument: Document = globalThis?.document\n) {\n  const handleFocusOutside = useCallbackRef(onFocusOutside) as EventListener;\n  const isFocusInsideReactTreeRef = React.useRef(false);\n\n  React.useEffect(() => {\n    const handleFocus = (event: FocusEvent) => {\n      if (event.target && !isFocusInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        handleAndDispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail, {\n          discrete: false,\n        });\n      }\n    };\n    ownerDocument.addEventListener('focusin', handleFocus);\n    return () => ownerDocument.removeEventListener('focusin', handleFocus);\n  }, [ownerDocument, handleFocusOutside]);\n\n  return {\n    onFocusCapture: () => (isFocusInsideReactTreeRef.current = true),\n    onBlurCapture: () => (isFocusInsideReactTreeRef.current = false),\n  };\n}\n\nfunction dispatchUpdate() {\n  const event = new CustomEvent(CONTEXT_UPDATE);\n  document.dispatchEvent(event);\n}\n\nfunction handleAndDispatchCustomEvent<E extends CustomEvent, OriginalEvent extends Event>(\n  name: string,\n  handler: ((event: E) => void) | undefined,\n  detail: { originalEvent: OriginalEvent } & (E extends CustomEvent<infer D> ? D : never),\n  { discrete }: { discrete: boolean }\n) {\n  const target = detail.originalEvent.target;\n  const event = new CustomEvent(name, { bubbles: false, cancelable: true, detail });\n  if (handler) target.addEventListener(name, handler as EventListener, { once: true });\n\n  if (discrete) {\n    dispatchDiscreteCustomEvent(target, event);\n  } else {\n    target.dispatchEvent(event);\n  }\n}\n\nconst Root = DismissableLayer;\nconst Branch = DismissableLayerBranch;\n\nexport {\n  DismissableLayer,\n  DismissableLayerBranch,\n  //\n  Root,\n  Branch,\n};\nexport type { DismissableLayerProps };\n", "import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\n/**\n * Listens for when the escape key is down\n */\nfunction useEscapeKeydown(\n  onEscapeKeyDownProp?: (event: KeyboardEvent) => void,\n  ownerDocument: Document = globalThis?.document\n) {\n  const onEscapeKeyDown = useCallbackRef(onEscapeKeyDownProp);\n\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        onEscapeKeyDown(event);\n      }\n    };\n    ownerDocument.addEventListener('keydown', handleKeyDown, { capture: true });\n    return () => ownerDocument.removeEventListener('keydown', handleKeyDown, { capture: true });\n  }, [onEscapeKeyDown, ownerDocument]);\n}\n\nexport { useEscapeKeydown };\n", "import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\nconst AUTOFOCUS_ON_MOUNT = 'focusScope.autoFocusOnMount';\nconst AUTOFOCUS_ON_UNMOUNT = 'focusScope.autoFocusOnUnmount';\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\ntype FocusableTarget = HTMLElement | { focus(): void };\n\n/* -------------------------------------------------------------------------------------------------\n * FocusScope\n * -----------------------------------------------------------------------------------------------*/\n\nconst FOCUS_SCOPE_NAME = 'FocusScope';\n\ntype FocusScopeElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface FocusScopeProps extends PrimitiveDivProps {\n  /**\n   * When `true`, tabbing from last item will focus first tabbable\n   * and shift+tab from first item will focus last tababble.\n   * @defaultValue false\n   */\n  loop?: boolean;\n\n  /**\n   * When `true`, focus cannot escape the focus scope via keyboard,\n   * pointer, or a programmatic focus.\n   * @defaultValue false\n   */\n  trapped?: boolean;\n\n  /**\n   * Event handler called when auto-focusing on mount.\n   * Can be prevented.\n   */\n  onMountAutoFocus?: (event: Event) => void;\n\n  /**\n   * Event handler called when auto-focusing on unmount.\n   * Can be prevented.\n   */\n  onUnmountAutoFocus?: (event: Event) => void;\n}\n\nconst FocusScope = React.forwardRef<FocusScopeElement, FocusScopeProps>((props, forwardedRef) => {\n  const {\n    loop = false,\n    trapped = false,\n    onMountAutoFocus: onMountAutoFocusProp,\n    onUnmountAutoFocus: onUnmountAutoFocusProp,\n    ...scopeProps\n  } = props;\n  const [container, setContainer] = React.useState<HTMLElement | null>(null);\n  const onMountAutoFocus = useCallbackRef(onMountAutoFocusProp);\n  const onUnmountAutoFocus = useCallbackRef(onUnmountAutoFocusProp);\n  const lastFocusedElementRef = React.useRef<HTMLElement | null>(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContainer(node));\n\n  const focusScope = React.useRef({\n    paused: false,\n    pause() {\n      this.paused = true;\n    },\n    resume() {\n      this.paused = false;\n    },\n  }).current;\n\n  // Takes care of trapping focus if focus is moved outside programmatically for example\n  React.useEffect(() => {\n    if (trapped) {\n      function handleFocusIn(event: FocusEvent) {\n        if (focusScope.paused || !container) return;\n        const target = event.target as HTMLElement | null;\n        if (container.contains(target)) {\n          lastFocusedElementRef.current = target;\n        } else {\n          focus(lastFocusedElementRef.current, { select: true });\n        }\n      }\n\n      function handleFocusOut(event: FocusEvent) {\n        if (focusScope.paused || !container) return;\n        const relatedTarget = event.relatedTarget as HTMLElement | null;\n\n        // A `focusout` event with a `null` `relatedTarget` will happen in at least two cases:\n        //\n        // 1. When the user switches app/tabs/windows/the browser itself loses focus.\n        // 2. In Google Chrome, when the focused element is removed from the DOM.\n        //\n        // We let the browser do its thing here because:\n        //\n        // 1. The browser already keeps a memory of what's focused for when the page gets refocused.\n        // 2. In Google Chrome, if we try to focus the deleted focused element (as per below), it\n        //    throws the CPU to 100%, so we avoid doing anything for this reason here too.\n        if (relatedTarget === null) return;\n\n        // If the focus has moved to an actual legitimate element (`relatedTarget !== null`)\n        // that is outside the container, we move focus to the last valid focused element inside.\n        if (!container.contains(relatedTarget)) {\n          focus(lastFocusedElementRef.current, { select: true });\n        }\n      }\n\n      // When the focused element gets removed from the DOM, browsers move focus\n      // back to the document.body. In this case, we move focus to the container\n      // to keep focus trapped correctly.\n      function handleMutations(mutations: MutationRecord[]) {\n        const focusedElement = document.activeElement as HTMLElement | null;\n        if (focusedElement !== document.body) return;\n        for (const mutation of mutations) {\n          if (mutation.removedNodes.length > 0) focus(container);\n        }\n      }\n\n      document.addEventListener('focusin', handleFocusIn);\n      document.addEventListener('focusout', handleFocusOut);\n      const mutationObserver = new MutationObserver(handleMutations);\n      if (container) mutationObserver.observe(container, { childList: true, subtree: true });\n\n      return () => {\n        document.removeEventListener('focusin', handleFocusIn);\n        document.removeEventListener('focusout', handleFocusOut);\n        mutationObserver.disconnect();\n      };\n    }\n  }, [trapped, container, focusScope.paused]);\n\n  React.useEffect(() => {\n    if (container) {\n      focusScopesStack.add(focusScope);\n      const previouslyFocusedElement = document.activeElement as HTMLElement | null;\n      const hasFocusedCandidate = container.contains(previouslyFocusedElement);\n\n      if (!hasFocusedCandidate) {\n        const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT, EVENT_OPTIONS);\n        container.addEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n        container.dispatchEvent(mountEvent);\n        if (!mountEvent.defaultPrevented) {\n          focusFirst(removeLinks(getTabbableCandidates(container)), { select: true });\n          if (document.activeElement === previouslyFocusedElement) {\n            focus(container);\n          }\n        }\n      }\n\n      return () => {\n        container.removeEventListener(AUTOFOCUS_ON_MOUNT, onMountAutoFocus);\n\n        // We hit a react bug (fixed in v17) with focusing in unmount.\n        // We need to delay the focus a little to get around it for now.\n        // See: https://github.com/facebook/react/issues/17894\n        setTimeout(() => {\n          const unmountEvent = new CustomEvent(AUTOFOCUS_ON_UNMOUNT, EVENT_OPTIONS);\n          container.addEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n          container.dispatchEvent(unmountEvent);\n          if (!unmountEvent.defaultPrevented) {\n            focus(previouslyFocusedElement ?? document.body, { select: true });\n          }\n          // we need to remove the listener after we `dispatchEvent`\n          container.removeEventListener(AUTOFOCUS_ON_UNMOUNT, onUnmountAutoFocus);\n\n          focusScopesStack.remove(focusScope);\n        }, 0);\n      };\n    }\n  }, [container, onMountAutoFocus, onUnmountAutoFocus, focusScope]);\n\n  // Takes care of looping focus (when tabbing whilst at the edges)\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      if (!loop && !trapped) return;\n      if (focusScope.paused) return;\n\n      const isTabKey = event.key === 'Tab' && !event.altKey && !event.ctrlKey && !event.metaKey;\n      const focusedElement = document.activeElement as HTMLElement | null;\n\n      if (isTabKey && focusedElement) {\n        const container = event.currentTarget as HTMLElement;\n        const [first, last] = getTabbableEdges(container);\n        const hasTabbableElementsInside = first && last;\n\n        // we can only wrap focus if we have tabbable edges\n        if (!hasTabbableElementsInside) {\n          if (focusedElement === container) event.preventDefault();\n        } else {\n          if (!event.shiftKey && focusedElement === last) {\n            event.preventDefault();\n            if (loop) focus(first, { select: true });\n          } else if (event.shiftKey && focusedElement === first) {\n            event.preventDefault();\n            if (loop) focus(last, { select: true });\n          }\n        }\n      }\n    },\n    [loop, trapped, focusScope.paused]\n  );\n\n  return (\n    <Primitive.div tabIndex={-1} {...scopeProps} ref={composedRefs} onKeyDown={handleKeyDown} />\n  );\n});\n\nFocusScope.displayName = FOCUS_SCOPE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Attempts focusing the first element in a list of candidates.\n * Stops when focus has actually moved.\n */\nfunction focusFirst(candidates: HTMLElement[], { select = false } = {}) {\n  const previouslyFocusedElement = document.activeElement;\n  for (const candidate of candidates) {\n    focus(candidate, { select });\n    if (document.activeElement !== previouslyFocusedElement) return;\n  }\n}\n\n/**\n * Returns the first and last tabbable elements inside a container.\n */\nfunction getTabbableEdges(container: HTMLElement) {\n  const candidates = getTabbableCandidates(container);\n  const first = findVisible(candidates, container);\n  const last = findVisible(candidates.reverse(), container);\n  return [first, last] as const;\n}\n\n/**\n * Returns a list of potential tabbable candidates.\n *\n * NOTE: This is only a close approximation. For example it doesn't take into account cases like when\n * elements are not visible. This cannot be worked out easily by just reading a property, but rather\n * necessitate runtime knowledge (computed styles, etc). We deal with these cases separately.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n * Credit: https://github.com/discord/focus-layers/blob/master/src/util/wrapFocus.tsx#L1\n */\nfunction getTabbableCandidates(container: HTMLElement) {\n  const nodes: HTMLElement[] = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: (node: any) => {\n      const isHiddenInput = node.tagName === 'INPUT' && node.type === 'hidden';\n      if (node.disabled || node.hidden || isHiddenInput) return NodeFilter.FILTER_SKIP;\n      // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n      // runtime's understanding of tabbability, so this automatically accounts\n      // for any kind of element that could be tabbed to.\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    },\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode as HTMLElement);\n  // we do not take into account the order of nodes with positive `tabIndex` as it\n  // hinders accessibility to have tab order different from visual order.\n  return nodes;\n}\n\n/**\n * Returns the first visible element in a list.\n * NOTE: Only checks visibility up to the `container`.\n */\nfunction findVisible(elements: HTMLElement[], container: HTMLElement) {\n  for (const element of elements) {\n    // we stop checking if it's hidden at the `container` level (excluding)\n    if (!isHidden(element, { upTo: container })) return element;\n  }\n}\n\nfunction isHidden(node: HTMLElement, { upTo }: { upTo?: HTMLElement }) {\n  if (getComputedStyle(node).visibility === 'hidden') return true;\n  while (node) {\n    // we stop at `upTo` (excluding it)\n    if (upTo !== undefined && node === upTo) return false;\n    if (getComputedStyle(node).display === 'none') return true;\n    node = node.parentElement as HTMLElement;\n  }\n  return false;\n}\n\nfunction isSelectableInput(element: any): element is FocusableTarget & { select: () => void } {\n  return element instanceof HTMLInputElement && 'select' in element;\n}\n\nfunction focus(element?: FocusableTarget | null, { select = false } = {}) {\n  // only focus if that element is focusable\n  if (element && element.focus) {\n    const previouslyFocusedElement = document.activeElement;\n    // NOTE: we prevent scrolling on focus, to minimize jarring transitions for users\n    element.focus({ preventScroll: true });\n    // only select if its not the same element, it supports selection and we need to select\n    if (element !== previouslyFocusedElement && isSelectableInput(element) && select)\n      element.select();\n  }\n}\n\n/* -------------------------------------------------------------------------------------------------\n * FocusScope stack\n * -----------------------------------------------------------------------------------------------*/\n\ntype FocusScopeAPI = { paused: boolean; pause(): void; resume(): void };\nconst focusScopesStack = createFocusScopesStack();\n\nfunction createFocusScopesStack() {\n  /** A stack of focus scopes, with the active one at the top */\n  let stack: FocusScopeAPI[] = [];\n\n  return {\n    add(focusScope: FocusScopeAPI) {\n      // pause the currently active focus scope (at the top of the stack)\n      const activeFocusScope = stack[0];\n      if (focusScope !== activeFocusScope) {\n        activeFocusScope?.pause();\n      }\n      // remove in case it already exists (because we'll re-add it at the top of the stack)\n      stack = arrayRemove(stack, focusScope);\n      stack.unshift(focusScope);\n    },\n\n    remove(focusScope: FocusScopeAPI) {\n      stack = arrayRemove(stack, focusScope);\n      stack[0]?.resume();\n    },\n  };\n}\n\nfunction arrayRemove<T>(array: T[], item: T) {\n  const updatedArray = [...array];\n  const index = updatedArray.indexOf(item);\n  if (index !== -1) {\n    updatedArray.splice(index, 1);\n  }\n  return updatedArray;\n}\n\nfunction removeLinks(items: HTMLElement[]) {\n  return items.filter((item) => item.tagName !== 'A');\n}\n\nconst Root = FocusScope;\n\nexport {\n  FocusScope,\n  //\n  Root,\n};\nexport type { FocusScopeProps };\n", "import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'Portal';\n\ntype PortalElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PortalProps extends PrimitiveDivProps {\n  /**\n   * An optional container where the portaled content should be appended.\n   */\n  container?: Element | DocumentFragment | null;\n}\n\nconst Portal = React.forwardRef<PortalElement, PortalProps>((props, forwardedRef) => {\n  const { container: containerProp, ...portalProps } = props;\n  const [mounted, setMounted] = React.useState(false);\n  useLayoutEffect(() => setMounted(true), []);\n  const container = containerProp || (mounted && globalThis?.document?.body);\n  return container\n    ? ReactDOM.createPortal(<Primitive.div {...portalProps} ref={forwardedRef} />, container)\n    : null;\n});\n\nPortal.displayName = PORTAL_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Portal;\n\nexport {\n  Portal,\n  //\n  Root,\n};\nexport type { PortalProps };\n", "import * as React from 'react';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { useStateMachine } from './use-state-machine';\n\ninterface PresenceProps {\n  children: React.ReactElement | ((props: { present: boolean }) => React.ReactElement);\n  present: boolean;\n}\n\nconst Presence: React.FC<PresenceProps> = (props) => {\n  const { present, children } = props;\n  const presence = usePresence(present);\n\n  const child = (\n    typeof children === 'function'\n      ? children({ present: presence.isPresent })\n      : React.Children.only(children)\n  ) as React.ReactElement<{ ref?: React.Ref<HTMLElement> }>;\n\n  const ref = useComposedRefs(presence.ref, getElementRef(child));\n  const forceMount = typeof children === 'function';\n  return forceMount || presence.isPresent ? React.cloneElement(child, { ref }) : null;\n};\n\nPresence.displayName = 'Presence';\n\n/* -------------------------------------------------------------------------------------------------\n * usePresence\n * -----------------------------------------------------------------------------------------------*/\n\nfunction usePresence(present: boolean) {\n  const [node, setNode] = React.useState<HTMLElement>();\n  const stylesRef = React.useRef<CSSStyleDeclaration | null>(null);\n  const prevPresentRef = React.useRef(present);\n  const prevAnimationNameRef = React.useRef<string>('none');\n  const initialState = present ? 'mounted' : 'unmounted';\n  const [state, send] = useStateMachine(initialState, {\n    mounted: {\n      UNMOUNT: 'unmounted',\n      ANIMATION_OUT: 'unmountSuspended',\n    },\n    unmountSuspended: {\n      MOUNT: 'mounted',\n      ANIMATION_END: 'unmounted',\n    },\n    unmounted: {\n      MOUNT: 'mounted',\n    },\n  });\n\n  React.useEffect(() => {\n    const currentAnimationName = getAnimationName(stylesRef.current);\n    prevAnimationNameRef.current = state === 'mounted' ? currentAnimationName : 'none';\n  }, [state]);\n\n  useLayoutEffect(() => {\n    const styles = stylesRef.current;\n    const wasPresent = prevPresentRef.current;\n    const hasPresentChanged = wasPresent !== present;\n\n    if (hasPresentChanged) {\n      const prevAnimationName = prevAnimationNameRef.current;\n      const currentAnimationName = getAnimationName(styles);\n\n      if (present) {\n        send('MOUNT');\n      } else if (currentAnimationName === 'none' || styles?.display === 'none') {\n        // If there is no exit animation or the element is hidden, animations won't run\n        // so we unmount instantly\n        send('UNMOUNT');\n      } else {\n        /**\n         * When `present` changes to `false`, we check changes to animation-name to\n         * determine whether an animation has started. We chose this approach (reading\n         * computed styles) because there is no `animationrun` event and `animationstart`\n         * fires after `animation-delay` has expired which would be too late.\n         */\n        const isAnimating = prevAnimationName !== currentAnimationName;\n\n        if (wasPresent && isAnimating) {\n          send('ANIMATION_OUT');\n        } else {\n          send('UNMOUNT');\n        }\n      }\n\n      prevPresentRef.current = present;\n    }\n  }, [present, send]);\n\n  useLayoutEffect(() => {\n    if (node) {\n      let timeoutId: number;\n      const ownerWindow = node.ownerDocument.defaultView ?? window;\n      /**\n       * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n       * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n       * make sure we only trigger ANIMATION_END for the currently active animation.\n       */\n      const handleAnimationEnd = (event: AnimationEvent) => {\n        const currentAnimationName = getAnimationName(stylesRef.current);\n        // The event.animationName is unescaped for CSS syntax,\n        // so we need to escape it to compare with the animationName computed from the style.\n        const isCurrentAnimation = currentAnimationName.includes(CSS.escape(event.animationName));\n        if (event.target === node && isCurrentAnimation) {\n          // With React 18 concurrency this update is applied a frame after the\n          // animation ends, creating a flash of visible content. By setting the\n          // animation fill mode to \"forwards\", we force the node to keep the\n          // styles of the last keyframe, removing the flash.\n          //\n          // Previously we flushed the update via ReactDom.flushSync, but with\n          // exit animations this resulted in the node being removed from the\n          // DOM before the synthetic animationEnd event was dispatched, meaning\n          // user-provided event handlers would not be called.\n          // https://github.com/radix-ui/primitives/pull/1849\n          send('ANIMATION_END');\n          if (!prevPresentRef.current) {\n            const currentFillMode = node.style.animationFillMode;\n            node.style.animationFillMode = 'forwards';\n            // Reset the style after the node had time to unmount (for cases\n            // where the component chooses not to unmount). Doing this any\n            // sooner than `setTimeout` (e.g. with `requestAnimationFrame`)\n            // still causes a flash.\n            timeoutId = ownerWindow.setTimeout(() => {\n              if (node.style.animationFillMode === 'forwards') {\n                node.style.animationFillMode = currentFillMode;\n              }\n            });\n          }\n        }\n      };\n      const handleAnimationStart = (event: AnimationEvent) => {\n        if (event.target === node) {\n          // if animation occurred, store its name as the previous animation.\n          prevAnimationNameRef.current = getAnimationName(stylesRef.current);\n        }\n      };\n      node.addEventListener('animationstart', handleAnimationStart);\n      node.addEventListener('animationcancel', handleAnimationEnd);\n      node.addEventListener('animationend', handleAnimationEnd);\n      return () => {\n        ownerWindow.clearTimeout(timeoutId);\n        node.removeEventListener('animationstart', handleAnimationStart);\n        node.removeEventListener('animationcancel', handleAnimationEnd);\n        node.removeEventListener('animationend', handleAnimationEnd);\n      };\n    } else {\n      // Transition to the unmounted state if the node is removed prematurely.\n      // We avoid doing so during cleanup as the node may change but still exist.\n      send('ANIMATION_END');\n    }\n  }, [node, send]);\n\n  return {\n    isPresent: ['mounted', 'unmountSuspended'].includes(state),\n    ref: React.useCallback((node: HTMLElement) => {\n      stylesRef.current = node ? getComputedStyle(node) : null;\n      setNode(node);\n    }, []),\n  };\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction getAnimationName(styles: CSSStyleDeclaration | null) {\n  return styles?.animationName || 'none';\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement<{ ref?: React.Ref<unknown> }>) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n\n  // Not DEV\n  return element.props.ref || (element as any).ref;\n}\n\nconst Root = Presence;\n\nexport {\n  Presence,\n  //\n  Root,\n};\nexport type { PresenceProps };\n", "import * as React from 'react';\n\ntype Machine<S> = { [k: string]: { [k: string]: S } };\ntype MachineState<T> = keyof T;\ntype MachineEvent<T> = keyof UnionToIntersection<T[keyof T]>;\n\n// \uD83E\uDD2F https://fettblog.eu/typescript-union-to-intersection/\ntype UnionToIntersection<T> = (T extends any ? (x: T) => any : never) extends (x: infer R) => any\n  ? R\n  : never;\n\nexport function useStateMachine<M>(\n  initialState: MachineState<M>,\n  machine: M & Machine<MachineState<M>>\n) {\n  return React.useReducer((state: MachineState<M>, event: MachineEvent<M>): MachineState<M> => {\n    const nextState = (machine[state] as any)[event];\n    return nextState ?? state;\n  }, initialState);\n}\n", "import * as React from 'react';\n\n/** Number of components which have requested interest to have focus guards */\nlet count = 0;\n\ninterface FocusGuardsProps {\n  children?: React.ReactNode;\n}\n\nfunction FocusGuards(props: FocusGuardsProps) {\n  useFocusGuards();\n  return props.children;\n}\n\n/**\n * Injects a pair of focus guards at the edges of the whole DOM tree\n * to ensure `focusin` & `focusout` events can be caught consistently.\n */\nfunction useFocusGuards() {\n  /* eslint-disable no-restricted-globals */\n  React.useEffect(() => {\n    const edgeGuards = document.querySelectorAll('[data-radix-focus-guard]');\n    document.body.insertAdjacentElement('afterbegin', edgeGuards[0] ?? createFocusGuard());\n    document.body.insertAdjacentElement('beforeend', edgeGuards[1] ?? createFocusGuard());\n    count++;\n\n    return () => {\n      if (count === 1) {\n        document.querySelectorAll('[data-radix-focus-guard]').forEach((node) => node.remove());\n      }\n      count--;\n    };\n  }, []);\n  /* eslint-enable no-restricted-globals */\n}\n\nfunction createFocusGuard() {\n  // eslint-disable-next-line no-restricted-globals\n  const element = document.createElement('span');\n  element.setAttribute('data-radix-focus-guard', '');\n  element.tabIndex = 0;\n  element.style.outline = 'none';\n  element.style.opacity = '0';\n  element.style.position = 'fixed';\n  element.style.pointerEvents = 'none';\n  return element;\n}\n\nexport {\n  FocusGuards,\n  //\n  FocusGuards as Root,\n  //\n  useFocusGuards,\n};\n", "import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScroll } from './UI';\nimport SideCar from './sidecar';\nvar ReactRemoveScroll = React.forwardRef(function (props, ref) { return (React.createElement(RemoveScroll, __assign({}, props, { ref: ref, sideCar: SideCar }))); });\nReactRemoveScroll.classNames = RemoveScroll.classNames;\nexport default ReactRemoveScroll;\n", "import { __assign, __rest } from \"tslib\";\nimport * as React from 'react';\nimport { fullWidthClassName, zeroRightClassName } from 'react-remove-scroll-bar/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { effectCar } from './medium';\nvar nothing = function () {\n    return;\n};\n/**\n * Removes scrollbar from the page and contain the scroll within the Lock\n */\nvar RemoveScroll = React.forwardRef(function (props, parentRef) {\n    var ref = React.useRef(null);\n    var _a = React.useState({\n        onScrollCapture: nothing,\n        onWheelCapture: nothing,\n        onTouchMoveCapture: nothing,\n    }), callbacks = _a[0], setCallbacks = _a[1];\n    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noRelative = props.noRelative, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, gapMode = props.gapMode, rest = __rest(props, [\"forwardProps\", \"children\", \"className\", \"removeScrollBar\", \"enabled\", \"shards\", \"sideCar\", \"noRelative\", \"noIsolation\", \"inert\", \"allowPinchZoom\", \"as\", \"gapMode\"]);\n    var SideCar = sideCar;\n    var containerRef = useMergeRefs([ref, parentRef]);\n    var containerProps = __assign(__assign({}, rest), callbacks);\n    return (React.createElement(React.Fragment, null,\n        enabled && (React.createElement(SideCar, { sideCar: effectCar, removeScrollBar: removeScrollBar, shards: shards, noRelative: noRelative, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref, gapMode: gapMode })),\n        forwardProps ? (React.cloneElement(React.Children.only(children), __assign(__assign({}, containerProps), { ref: containerRef }))) : (React.createElement(Container, __assign({}, containerProps, { className: className, ref: containerRef }), children))));\n});\nRemoveScroll.defaultProps = {\n    enabled: true,\n    removeScrollBar: true,\n    inert: false,\n};\nRemoveScroll.classNames = {\n    fullWidth: fullWidthClassName,\n    zeroRight: zeroRightClassName,\n};\nexport { RemoveScroll };\n", "import { createSidecarMedium } from 'use-sidecar';\nexport var effectCar = createSidecarMedium();\n", "import { __spreadArray } from \"tslib\";\nimport * as React from 'react';\nimport { RemoveScrollBar } from 'react-remove-scroll-bar';\nimport { styleSingleton } from 'react-style-singleton';\nimport { nonPassive } from './aggresiveCapture';\nimport { handleScroll, locationCouldBeScrolled } from './handleScroll';\nexport var getTouchXY = function (event) {\n    return 'changedTouches' in event ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY] : [0, 0];\n};\nexport var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };\nvar extractRef = function (ref) {\n    return ref && 'current' in ref ? ref.current : ref;\n};\nvar deltaCompare = function (x, y) { return x[0] === y[0] && x[1] === y[1]; };\nvar generateStyle = function (id) { return \"\\n  .block-interactivity-\".concat(id, \" {pointer-events: none;}\\n  .allow-interactivity-\").concat(id, \" {pointer-events: all;}\\n\"); };\nvar idCounter = 0;\nvar lockStack = [];\nexport function RemoveScrollSideCar(props) {\n    var shouldPreventQueue = React.useRef([]);\n    var touchStartRef = React.useRef([0, 0]);\n    var activeAxis = React.useRef();\n    var id = React.useState(idCounter++)[0];\n    var Style = React.useState(styleSingleton)[0];\n    var lastProps = React.useRef(props);\n    React.useEffect(function () {\n        lastProps.current = props;\n    }, [props]);\n    React.useEffect(function () {\n        if (props.inert) {\n            document.body.classList.add(\"block-interactivity-\".concat(id));\n            var allow_1 = __spreadArray([props.lockRef.current], (props.shards || []).map(extractRef), true).filter(Boolean);\n            allow_1.forEach(function (el) { return el.classList.add(\"allow-interactivity-\".concat(id)); });\n            return function () {\n                document.body.classList.remove(\"block-interactivity-\".concat(id));\n                allow_1.forEach(function (el) { return el.classList.remove(\"allow-interactivity-\".concat(id)); });\n            };\n        }\n        return;\n    }, [props.inert, props.lockRef.current, props.shards]);\n    var shouldCancelEvent = React.useCallback(function (event, parent) {\n        if (('touches' in event && event.touches.length === 2) || (event.type === 'wheel' && event.ctrlKey)) {\n            return !lastProps.current.allowPinchZoom;\n        }\n        var touch = getTouchXY(event);\n        var touchStart = touchStartRef.current;\n        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];\n        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];\n        var currentAxis;\n        var target = event.target;\n        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';\n        // allow horizontal touch move on Range inputs. They will not cause any scroll\n        if ('touches' in event && moveDirection === 'h' && target.type === 'range') {\n            return false;\n        }\n        // allow drag selection (iOS); check if selection's anchorNode is the same as target or contains target\n        var selection = window.getSelection();\n        var anchorNode = selection && selection.anchorNode;\n        var isTouchingSelection = anchorNode ? anchorNode === target || anchorNode.contains(target) : false;\n        if (isTouchingSelection) {\n            return false;\n        }\n        var canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n        if (!canBeScrolledInMainDirection) {\n            return true;\n        }\n        if (canBeScrolledInMainDirection) {\n            currentAxis = moveDirection;\n        }\n        else {\n            currentAxis = moveDirection === 'v' ? 'h' : 'v';\n            canBeScrolledInMainDirection = locationCouldBeScrolled(moveDirection, target);\n            // other axis might be not scrollable\n        }\n        if (!canBeScrolledInMainDirection) {\n            return false;\n        }\n        if (!activeAxis.current && 'changedTouches' in event && (deltaX || deltaY)) {\n            activeAxis.current = currentAxis;\n        }\n        if (!currentAxis) {\n            return true;\n        }\n        var cancelingAxis = activeAxis.current || currentAxis;\n        return handleScroll(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);\n    }, []);\n    var shouldPrevent = React.useCallback(function (_event) {\n        var event = _event;\n        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {\n            // not the last active\n            return;\n        }\n        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);\n        var sourceEvent = shouldPreventQueue.current.filter(function (e) { return e.name === event.type && (e.target === event.target || event.target === e.shadowParent) && deltaCompare(e.delta, delta); })[0];\n        // self event, and should be canceled\n        if (sourceEvent && sourceEvent.should) {\n            if (event.cancelable) {\n                event.preventDefault();\n            }\n            return;\n        }\n        // outside or shard event\n        if (!sourceEvent) {\n            var shardNodes = (lastProps.current.shards || [])\n                .map(extractRef)\n                .filter(Boolean)\n                .filter(function (node) { return node.contains(event.target); });\n            var shouldStop = shardNodes.length > 0 ? shouldCancelEvent(event, shardNodes[0]) : !lastProps.current.noIsolation;\n            if (shouldStop) {\n                if (event.cancelable) {\n                    event.preventDefault();\n                }\n            }\n        }\n    }, []);\n    var shouldCancel = React.useCallback(function (name, delta, target, should) {\n        var event = { name: name, delta: delta, target: target, should: should, shadowParent: getOutermostShadowParent(target) };\n        shouldPreventQueue.current.push(event);\n        setTimeout(function () {\n            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });\n        }, 1);\n    }, []);\n    var scrollTouchStart = React.useCallback(function (event) {\n        touchStartRef.current = getTouchXY(event);\n        activeAxis.current = undefined;\n    }, []);\n    var scrollWheel = React.useCallback(function (event) {\n        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    var scrollTouchMove = React.useCallback(function (event) {\n        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));\n    }, []);\n    React.useEffect(function () {\n        lockStack.push(Style);\n        props.setCallbacks({\n            onScrollCapture: scrollWheel,\n            onWheelCapture: scrollWheel,\n            onTouchMoveCapture: scrollTouchMove,\n        });\n        document.addEventListener('wheel', shouldPrevent, nonPassive);\n        document.addEventListener('touchmove', shouldPrevent, nonPassive);\n        document.addEventListener('touchstart', scrollTouchStart, nonPassive);\n        return function () {\n            lockStack = lockStack.filter(function (inst) { return inst !== Style; });\n            document.removeEventListener('wheel', shouldPrevent, nonPassive);\n            document.removeEventListener('touchmove', shouldPrevent, nonPassive);\n            document.removeEventListener('touchstart', scrollTouchStart, nonPassive);\n        };\n    }, []);\n    var removeScrollBar = props.removeScrollBar, inert = props.inert;\n    return (React.createElement(React.Fragment, null,\n        inert ? React.createElement(Style, { styles: generateStyle(id) }) : null,\n        removeScrollBar ? React.createElement(RemoveScrollBar, { noRelative: props.noRelative, gapMode: props.gapMode }) : null));\n}\nfunction getOutermostShadowParent(node) {\n    var shadowParent = null;\n    while (node !== null) {\n        if (node instanceof ShadowRoot) {\n            shadowParent = node.host;\n            node = node.host;\n        }\n        node = node.parentNode;\n    }\n    return shadowParent;\n}\n", "var passiveSupported = false;\nif (typeof window !== 'undefined') {\n    try {\n        var options = Object.defineProperty({}, 'passive', {\n            get: function () {\n                passiveSupported = true;\n                return true;\n            },\n        });\n        // @ts-ignore\n        window.addEventListener('test', options, options);\n        // @ts-ignore\n        window.removeEventListener('test', options, options);\n    }\n    catch (err) {\n        passiveSupported = false;\n    }\n}\nexport var nonPassive = passiveSupported ? { passive: false } : false;\n", "var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    if (!(node instanceof Element)) {\n        return false;\n    }\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var ownerDocument = node.ownerDocument;\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), scrollHeight = _a[1], clientHeight = _a[2];\n            if (scrollHeight > clientHeight) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== ownerDocument.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        if (!target) {\n            break;\n        }\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        var parent_1 = target.parentNode;\n        // we will \"bubble\" from ShadowDom in case we are, or just to the parent in normal case\n        // this is the same logic used in focus-lock\n        target = (parent_1 && parent_1.nodeType === Node.DOCUMENT_FRAGMENT_NODE ? parent_1.host : parent_1);\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    // handle epsilon around 0 (non standard zoom levels)\n    if (isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScroll) < 1) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScrollTop) < 1) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n", "import { exportSidecar } from 'use-sidecar';\nimport { RemoveScrollSideCar } from './SideEffect';\nimport { effectCar } from './medium';\nexport default exportSidecar(effectCar, RemoveScrollSideCar);\n", "import { Dispatch } from '@reduxjs/toolkit';\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\n\nimport type { RootState } from './uploadProgress';\n\nconst useTypedDispatch: () => Dispatch = useDispatch;\nconst useTypedSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nexport { useTypedSelector, useTypedDispatch };\n", "import * as React from 'react';\n\nimport * as Dialog from '@radix-ui/react-dialog';\nimport { Box, Flex, IconButton, TextButton, Typography } from '@strapi/design-system';\nimport {\n  ArrowsCounterClockwise,\n  Check,\n  CheckCircle,\n  ChevronDown,\n  Cross,\n  CrossCircle,\n  MinusCircle,\n  Upload,\n} from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { styled, keyframes } from 'styled-components';\n\nimport { abortUpload, useRetryCancelledFilesStreamMutation } from '../services/api';\nimport { useTypedDispatch, useTypedSelector } from '../store/hooks';\nimport { closeUploadProgress, toggleMinimize, cancelUpload } from '../store/uploadProgress';\nimport { getTranslationKey } from '../utils/translations';\n\nimport type { FileProgress, FileProgressStatus } from '../store/uploadProgress';\n\n/* -------------------------------------------------------------------------------------------------\n * DialogHeader\n * -----------------------------------------------------------------------------------------------*/\n\nconst HeaderStatusMessage = ({ title, subtitle }: { title: string; subtitle?: string }) => {\n  return (\n    <Flex direction=\"column\" alignItems=\"flex-start\" paddingLeft={2}>\n      <Dialog.Title>\n        <Typography variant=\"omega\">{title}</Typography>\n      </Dialog.Title>\n      <Dialog.Description>\n        <Typography variant=\"pi\" textColor=\"neutral600\">\n          {subtitle}\n        </Typography>\n      </Dialog.Description>\n    </Flex>\n  );\n};\n\nconst HeaderStatusIcon = styled(Flex)`\n  padding: ${({ theme }) => theme.spaces[3]};\n  border-radius: ${({ theme }) => `${theme.borderRadius} 0 0 ${theme.borderRadius}`};\n\n  > svg {\n    height: 24px;\n    width: 24px;\n  }\n`;\n\nconst HeaderStatusWrapper = styled(Dialog.Title)`\n  display: flex;\n  align-items: center;\n`;\n\ntype HeaderStatusProps = {\n  status: 'uploading' | 'success' | 'error' | 'canceled';\n  progress?: number;\n  totalFiles: number;\n};\n\nconst HeaderStatus = ({ status, progress, totalFiles }: HeaderStatusProps) => {\n  const { formatMessage } = useIntl();\n\n  if (status === 'error') {\n    return (\n      <HeaderStatusWrapper>\n        <HeaderStatusIcon background=\"danger200\">\n          <Cross fill=\"danger700\" />\n        </HeaderStatusIcon>\n        <HeaderStatusMessage\n          title={formatMessage({\n            id: getTranslationKey('upload.progress.failed'),\n            defaultMessage: 'Upload failed',\n          })}\n          subtitle={formatMessage({\n            id: getTranslationKey('upload.progress.failed.subtitle'),\n            defaultMessage: 'Please try to upload files again',\n          })}\n        />\n      </HeaderStatusWrapper>\n    );\n  }\n\n  if (status === 'success') {\n    return (\n      <HeaderStatusWrapper>\n        <HeaderStatusIcon background=\"success200\">\n          <Check fill=\"success700\" />\n        </HeaderStatusIcon>\n        <HeaderStatusMessage\n          title={formatMessage({\n            id: getTranslationKey('upload.progress.success'),\n            defaultMessage: 'Upload successful!',\n          })}\n          subtitle={formatMessage(\n            {\n              id: getTranslationKey('upload.progress.success.subtitle'),\n              defaultMessage: '{count} files uploaded successfully',\n            },\n            { count: totalFiles }\n          )}\n        />\n      </HeaderStatusWrapper>\n    );\n  }\n\n  if (status === 'canceled') {\n    return (\n      <HeaderStatusWrapper>\n        <HeaderStatusIcon background=\"neutral200\">\n          <MinusCircle fill=\"neutral700\" />\n        </HeaderStatusIcon>\n        <HeaderStatusMessage\n          title={formatMessage({\n            id: getTranslationKey('upload.progress.canceled'),\n            defaultMessage: 'Upload canceled',\n          })}\n          subtitle={formatMessage({\n            id: getTranslationKey('upload.progress.canceled.subtitle'),\n            defaultMessage: 'Some files were not uploaded',\n          })}\n        />\n      </HeaderStatusWrapper>\n    );\n  }\n\n  if (status === 'uploading') {\n    const progressPercentage = progress ? Math.round(progress) : 0;\n\n    return (\n      <HeaderStatusWrapper>\n        <HeaderStatusIcon background=\"primary200\">\n          <Upload fill=\"primary700\" />\n        </HeaderStatusIcon>\n        <HeaderStatusMessage\n          title={formatMessage(\n            {\n              id: getTranslationKey('upload.progress.uploading.withCount'),\n              defaultMessage: 'Uploading {total} items ({percentage}%)',\n            },\n            {\n              total: totalFiles,\n              percentage: progressPercentage,\n            }\n          )}\n        />\n      </HeaderStatusWrapper>\n    );\n  }\n\n  return null;\n};\n\nconst HeaderIconButton = styled(IconButton)`\n  &:hover {\n    background: transparent;\n  }\n`;\n\nconst ChevronWrapper = styled.span<{ $isMinimized: boolean }>`\n  display: flex;\n  transition: transform 0.5s ease-in-out;\n  transform: ${({ $isMinimized }) => ($isMinimized ? 'rotate(180deg)' : 'rotate(0deg)')};\n`;\n\nconst HEADER_COLOR_MAP = {\n  uploading: { background: 'primary100' },\n  canceled: { background: 'neutral100' },\n  success: { background: 'success100' },\n  error: { background: 'danger100' },\n} as const;\n\nconst DialogHeader = ({ handleClose }: { handleClose: () => void }) => {\n  const { formatMessage } = useIntl();\n\n  const { isMinimized, progress, files, uploadId, totalFiles } = useTypedSelector(\n    (state) => state.uploadProgress\n  );\n  const dispatch = useTypedDispatch();\n  const [retryCancelledFiles] = useRetryCancelledFilesStreamMutation();\n\n  const isComplete = progress === 100;\n  const isAllUploaded = isComplete && files.every((f) => f.status !== 'uploading');\n  const isAllErrored = isComplete && files.length > 0 && files.every((f) => f.status === 'error');\n  const hasCancelledFiles = files.some((f) => f.status === 'cancelled');\n  const isSuccess = isComplete && isAllUploaded && !isAllErrored && !hasCancelledFiles;\n  const status = ((): HeaderStatusProps['status'] => {\n    if (isAllErrored) return 'error';\n    if (isSuccess) return 'success';\n    if (hasCancelledFiles) return 'canceled';\n\n    return 'uploading';\n  })();\n\n  const handleCancel = () => {\n    abortUpload(uploadId);\n    dispatch(cancelUpload());\n  };\n\n  const handleRetry = async () => {\n    try {\n      await retryCancelledFiles().unwrap();\n    } catch {\n      // Error is already dispatched to store from the API queryFn\n    }\n  };\n\n  const handleToggleMinimize = () => {\n    dispatch(toggleMinimize());\n  };\n\n  return (\n    <Flex\n      background={HEADER_COLOR_MAP[status].background}\n      justifyContent=\"space-between\"\n      margin={1}\n      hasRadius\n    >\n      <HeaderStatus status={status} progress={progress} totalFiles={totalFiles} />\n      <Flex gap={1}>\n        {!isAllUploaded && (\n          <TextButton onClick={handleCancel} fontWeight=\"bold\">\n            {formatMessage({\n              id: getTranslationKey('upload.progress.cancel'),\n              defaultMessage: 'Cancel',\n            })}\n          </TextButton>\n        )}\n        {hasCancelledFiles && (\n          <TextButton onClick={handleRetry} fontWeight=\"bold\">\n            {formatMessage({\n              id: getTranslationKey('upload.progress.retry'),\n              defaultMessage: 'Retry',\n            })}\n          </TextButton>\n        )}\n        <HeaderIconButton\n          onClick={handleToggleMinimize}\n          label={formatMessage({\n            id: getTranslationKey(\n              isMinimized ? 'upload.progress.maximize' : 'upload.progress.minimize'\n            ),\n            defaultMessage: isMinimized ? 'Maximize' : 'Minimize',\n          })}\n          variant=\"ghost\"\n        >\n          <ChevronWrapper $isMinimized={isMinimized}>\n            <ChevronDown />\n          </ChevronWrapper>\n        </HeaderIconButton>\n        {isComplete && (\n          <HeaderIconButton\n            onClick={handleClose}\n            label={formatMessage({\n              id: getTranslationKey('upload.progress.close'),\n              defaultMessage: 'Close',\n            })}\n            variant=\"ghost\"\n          >\n            <Cross />\n          </HeaderIconButton>\n        )}\n      </Flex>\n    </Flex>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * UploadProgressDialog\n * -----------------------------------------------------------------------------------------------*/\n\nconst indeterminate = keyframes`\n  0% {\n    transform: translateX(-100%);\n  }\n  100% {\n    transform: translateX(400%);\n  }\n`;\n\nconst IndeterminateBar = styled.div`\n  width: 100%;\n  height: ${({ theme }) => theme.spaces[1]};\n  background-color: ${({ theme }) => theme.colors.neutral200};\n  border-radius: 4px;\n  overflow: hidden;\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 25%;\n    background-color: ${({ theme }) => theme.colors.primary700};\n    border-radius: 4px;\n    animation: ${indeterminate} 1.5s ease-in-out infinite;\n  }\n`;\n\nconst FileRow = ({\n  icon,\n  fileName,\n  children,\n}: {\n  icon: React.ReactNode;\n  fileName: string;\n  children: React.ReactNode;\n}) => {\n  return (\n    <Flex direction=\"column\" alignItems=\"stretch\" justifyContent=\"center\" gap={1} width=\"100%\">\n      <Flex gap={2}>\n        {icon}\n        <Typography variant=\"omega\" fontWeight=\"semiBold\" ellipsis>\n          {fileName}\n        </Typography>\n      </Flex>\n      {children}\n    </Flex>\n  );\n};\n\nconst FileRowRenderer = ({ file }: { file: FileProgress }) => {\n  const { formatMessage } = useIntl();\n  const isError = file.status === 'error';\n  const isCurrentFile = file.status === 'uploading';\n  const isCompleted = file.status === 'complete';\n  const isCancelled = file.status === 'cancelled';\n\n  if (isCurrentFile) {\n    return (\n      <FileRow icon={<ArrowsCounterClockwise fill=\"secondary600\" />} fileName={file.name}>\n        <Typography variant=\"pi\" textColor=\"neutral600\">\n          {formatMessage({\n            id: getTranslationKey('upload.progress.file.uploading'),\n            defaultMessage: 'Uploading...',\n          })}\n        </Typography>\n        <IndeterminateBar />\n      </FileRow>\n    );\n  }\n\n  if (isError) {\n    return (\n      <FileRow icon={<CrossCircle fill=\"danger500\" />} fileName={file.name}>\n        <Typography variant=\"pi\" textColor=\"neutral600\">\n          {file.error}\n        </Typography>\n      </FileRow>\n    );\n  }\n\n  if (isCancelled) {\n    return (\n      <FileRow icon={<MinusCircle fill=\"neutral600\" />} fileName={file.name}>\n        <Typography variant=\"pi\" textColor=\"neutral600\">\n          {formatMessage({\n            id: getTranslationKey('upload.progress.file.canceled'),\n            defaultMessage: 'Canceled',\n          })}\n        </Typography>\n      </FileRow>\n    );\n  }\n\n  if (isCompleted) {\n    return (\n      <FileRow icon={<CheckCircle fill=\"success500\" />} fileName={file.name}>\n        <Typography variant=\"pi\" textColor=\"neutral600\">\n          {formatMessage({\n            id: getTranslationKey('upload.progress.file.uploaded'),\n            defaultMessage: 'Uploaded',\n          })}\n        </Typography>\n      </FileRow>\n    );\n  }\n\n  return null;\n};\n\nconst DialogContent = styled(Dialog.Content)`\n  position: fixed;\n  bottom: ${({ theme }) => theme.spaces[4]};\n  right: ${({ theme }) => theme.spaces[4]};\n  width: 400px;\n  background-color: ${({ theme }) => theme.colors.neutral0};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  box-shadow: ${({ theme }) => theme.shadows.popupShadow};\n  z-index: 1000;\n  overflow: hidden;\n  border: 1px solid ${({ theme }) => theme.colors.neutral150};\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst CompletedFilesList = styled(Flex)`\n  max-height: 200px;\n  overflow-y: auto;\n  flex-direction: column;\n  gap: ${({ theme }) => theme.spaces[2]};\n  width: 100%;\n`;\n\nconst AnimatedContent = styled.div<{ $isVisible: boolean }>`\n  display: grid;\n  grid-template-rows: ${({ $isVisible }) => ($isVisible ? '1fr' : '0fr')};\n  transition: grid-template-rows 0.3s ease-in-out;\n\n  > div {\n    overflow: hidden;\n  }\n`;\n\nexport const UploadProgressDialog = () => {\n  const dispatch = useTypedDispatch();\n  const { isVisible, isMinimized, files } = useTypedSelector((state) => state.uploadProgress);\n\n  const currentFile = files.find((f) => f.status === 'uploading');\n  const completedFiles = files\n    .filter((f) => f.status === 'complete' || f.status === 'error' || f.status === 'cancelled')\n    .sort((a, b) => {\n      // Sort priority: error > cancelled > complete\n      const priority: Record<FileProgressStatus, number> = {\n        error: 0,\n        cancelled: 1,\n        complete: 2,\n        uploading: 3,\n        pending: 4,\n      };\n      return priority[a.status] - priority[b.status];\n    });\n\n  const handleClose = () => {\n    dispatch(closeUploadProgress());\n  };\n\n  return (\n    <Dialog.Root open={isVisible} modal={false}>\n      <Dialog.Portal>\n        <DialogContent\n          // The accessible name is set by Dialog.Title and is dynamic,\n          // use a data-testid to ensure a stable target for e2e tests\n          data-testid=\"upload-progress-dialog\"\n        >\n          <DialogHeader handleClose={handleClose} />\n\n          <AnimatedContent $isVisible={!isMinimized}>\n            <Box>\n              <Flex\n                direction=\"column\"\n                alignItems=\"stretch\"\n                gap={4}\n                paddingTop={4}\n                paddingBottom={4}\n                paddingLeft={4}\n                paddingRight={4}\n              >\n                {currentFile && <FileRowRenderer file={currentFile} />}\n\n                {completedFiles.length > 0 && (\n                  <CompletedFilesList>\n                    {completedFiles.map((file) => (\n                      <FileRowRenderer key={file.index} file={file} />\n                    ))}\n                  </CompletedFilesList>\n                )}\n              </Flex>\n            </Box>\n          </AnimatedContent>\n        </DialogContent>\n      </Dialog.Portal>\n    </Dialog.Root>\n  );\n};\n", "type Translations = {\n  [key: string]: string;\n};\n\nexport const prefixPluginTranslations = (trad: Translations, pluginId?: string) => {\n  if (!pluginId) {\n    throw new TypeError(\"pluginId can't be empty\");\n  }\n\n  return Object.keys(trad).reduce((acc: Translations, current: string) => {\n    acc[`${pluginId}.${current}`] = trad[current];\n\n    return acc;\n  }, {});\n};\n", "import { Images, WarningCircle } from '@strapi/icons';\n\nimport pluginPkg from '../../package.json';\n\nimport { MediaLibraryDialog } from './components/MediaLibraryDialog/MediaLibraryDialog';\nimport { MediaLibraryInput } from './components/MediaLibraryInput/MediaLibraryInput';\nimport { PERMISSIONS } from './constants';\nimport { UploadProgressDialog } from './future/components/UploadProgressDialog';\nimport { uploadProgressReducer } from './future/store/uploadProgress';\nimport { pluginId } from './pluginId';\nimport { getTrad, prefixPluginTranslations } from './utils';\n\nimport type { MediaLibraryDialogProps } from './components/MediaLibraryDialog/MediaLibraryDialog';\nimport type { MediaLibraryInputProps } from './components/MediaLibraryInput/MediaLibraryInput';\nimport type { StrapiApp } from '@strapi/admin/strapi-admin';\nimport type { Plugin } from '@strapi/types';\n\nconst name = pluginPkg.strapi.name;\n\nconst admin: Plugin.Config.AdminInput = {\n  register(app: StrapiApp) {\n    app.addMenuLink({\n      to: `plugins/${pluginId}`,\n      icon: Images,\n      intlLabel: {\n        id: `${pluginId}.plugin.name`,\n        defaultMessage: 'Media Library',\n      },\n      permissions: PERMISSIONS.main,\n      Component: () => {\n        return import('./pages/App/App').then((mod) => ({ default: mod.Upload }));\n      },\n      position: 4,\n    });\n\n    if (window.strapi.future.isEnabled('unstableMediaLibrary')) {\n      app.addReducers({ uploadProgress: uploadProgressReducer });\n\n      app.addComponents([\n        {\n          name: 'future-global::upload-progress',\n          Component: UploadProgressDialog,\n        },\n      ]);\n\n      app.addMenuLink({\n        to: `plugins/unstable-${pluginId}`,\n        icon: WarningCircle,\n        intlLabel: {\n          id: `${pluginId}.plugin.name`,\n          defaultMessage: 'Media Library',\n        },\n        permissions: PERMISSIONS.main,\n        Component: () => {\n          return import('./future/App').then((mod) => ({\n            default: mod.UnstableMediaLibrary,\n          }));\n        },\n        position: 5,\n      });\n    }\n\n    app.addSettingsLink('global', {\n      id: 'media-library-settings',\n      to: 'media-library',\n      intlLabel: {\n        id: getTrad('plugin.name'),\n        defaultMessage: 'Media Library',\n      },\n      async Component() {\n        const { ProtectedSettingsPage } = await import('./pages/SettingsPage/SettingsPage');\n        return { default: ProtectedSettingsPage };\n      },\n      permissions: PERMISSIONS.settings,\n    });\n\n    app.addFields({\n      type: 'media',\n      Component: MediaLibraryInput as React.FC<Partial<MediaLibraryInputProps>>,\n    });\n    app.addComponents([\n      {\n        name: 'media-library',\n        Component: MediaLibraryDialog as React.FC<Partial<MediaLibraryDialogProps>>,\n      },\n    ]);\n\n    app.registerPlugin({\n      id: pluginId,\n      name,\n    });\n  },\n  async registerTrads({ locales }: { locales: string[] }) {\n    const importedTrads = await Promise.all(\n      locales.map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: prefixPluginTranslations(data, pluginId),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default admin;\n", "import * as React from 'react';\n\nimport { Button, Checkbox, Dialog, Field, Flex, Typography } from '@strapi/design-system';\nimport { WarningCircle } from '@strapi/icons';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { getTranslation } from '../utils/getTranslation';\n\nconst TextAlignTypography = styled(Typography)`\n  text-align: center;\n`;\n\ninterface IntlMessage extends MessageDescriptor {\n  values: object;\n}\n\ninterface CheckboxConfirmationProps {\n  description: IntlMessage;\n  intlLabel: IntlMessage;\n  isCreating?: boolean;\n  name: string;\n  onChange: (event: { target: { name: string; value: boolean; type: string } }) => void;\n  value: boolean;\n}\n\nconst CheckboxConfirmation = ({\n  description,\n  isCreating = false,\n  intlLabel,\n  name,\n  onChange,\n  value,\n}: CheckboxConfirmationProps) => {\n  const { formatMessage } = useIntl();\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  const handleChange = (value: boolean) => {\n    if (isCreating || value) {\n      return onChange({ target: { name, value, type: 'checkbox' } });\n    }\n\n    if (!value) {\n      return setIsOpen(true);\n    }\n\n    return null;\n  };\n\n  const handleConfirm = () => {\n    onChange({ target: { name, value: false, type: 'checkbox' } });\n  };\n\n  const label = intlLabel.id\n    ? formatMessage(\n        { id: intlLabel.id, defaultMessage: intlLabel.defaultMessage },\n        { ...intlLabel.values }\n      )\n    : name;\n\n  const hint = description\n    ? formatMessage(\n        { id: description.id, defaultMessage: description.defaultMessage },\n        { ...description.values }\n      )\n    : '';\n\n  return (\n    <Dialog.Root open={isOpen} onOpenChange={setIsOpen}>\n      <Field.Root hint={hint} name={name}>\n        <Checkbox onCheckedChange={handleChange} checked={value}>\n          {label}\n        </Checkbox>\n        <Field.Hint />\n      </Field.Root>\n      <Dialog.Content>\n        <Dialog.Header>\n          {formatMessage({\n            id: getTranslation('CheckboxConfirmation.Modal.title'),\n            defaultMessage: 'Disable localization',\n          })}\n        </Dialog.Header>\n        <Dialog.Body icon={<WarningCircle />}>\n          <Flex direction=\"column\" alignItems=\"stretch\" gap={2}>\n            <Flex justifyContent=\"center\">\n              <TextAlignTypography>\n                {formatMessage({\n                  id: getTranslation('CheckboxConfirmation.Modal.content'),\n                  defaultMessage:\n                    'Disabling localization will engender the deletion of all your content but the one associated to your default locale (if existing).',\n                })}\n              </TextAlignTypography>\n            </Flex>\n            <Flex justifyContent=\"center\">\n              <Typography fontWeight=\"semiBold\">\n                {formatMessage({\n                  id: getTranslation('CheckboxConfirmation.Modal.body'),\n                  defaultMessage: 'Do you want to disable it?',\n                })}\n              </Typography>\n            </Flex>\n          </Flex>\n        </Dialog.Body>\n        <Dialog.Footer>\n          <Dialog.Cancel>\n            <Button variant=\"tertiary\">\n              {formatMessage({\n                id: 'components.popUpWarning.button.cancel',\n                defaultMessage: 'No, cancel',\n              })}\n            </Button>\n          </Dialog.Cancel>\n          <Dialog.Action>\n            <Button variant=\"danger-light\" onClick={handleConfirm}>\n              {formatMessage({\n                id: getTranslation('CheckboxConfirmation.Modal.button-confirm'),\n                defaultMessage: 'Yes, disable',\n              })}\n            </Button>\n          </Dialog.Action>\n        </Dialog.Footer>\n      </Dialog.Content>\n    </Dialog.Root>\n  );\n};\n\nexport { CheckboxConfirmation };\n", "import { i18nApi } from './api';\n\nimport type { GetAILocalizationJobsByDocument } from '../../../shared/contracts/ai-localization-jobs';\n\n// Import the same constant used by the documents service for consistency\nconst SINGLE_TYPES = 'single-types';\n\nconst aiLocalizationJobsApi = i18nApi.injectEndpoints({\n  endpoints: (builder) => ({\n    getAILocalizationJobsByDocument: builder.query<\n      GetAILocalizationJobsByDocument.Response,\n      {\n        documentId: string;\n        model: string;\n        collectionType: string;\n      }\n    >({\n      query: ({ documentId, collectionType, model }) => ({\n        url:\n          collectionType === SINGLE_TYPES\n            ? `/i18n/ai-localization-jobs/single-types/${model}`\n            : `/i18n/ai-localization-jobs/collection-types/${model}/${documentId}`,\n        method: 'GET',\n      }),\n      providesTags: (result, error, { documentId, model, collectionType }) => [\n        {\n          type: 'AILocalizationJobs',\n          id: collectionType !== SINGLE_TYPES ? `${model}_${documentId}` : model,\n        },\n      ],\n    }),\n  }),\n});\n\nexport const { useGetAILocalizationJobsByDocumentQuery } = aiLocalizationJobsApi;\n", "import * as React from 'react';\n\nimport { useNotification, adminApi } from '@strapi/admin/strapi-admin';\nimport { useIntl } from 'react-intl';\nimport { useDispatch } from 'react-redux';\n\nimport { AILocalizationJobs } from '../../../shared/contracts/ai-localization-jobs';\nimport { useGetAILocalizationJobsByDocumentQuery } from '../services/aiLocalizationJobs';\nimport { getTranslation } from '../utils/getTranslation';\n\ninterface UseAILocalizationJobsPollingOptions {\n  documentId?: string;\n  model?: string;\n  collectionType?: string;\n}\n\nexport const useAILocalizationJobsPolling = ({\n  documentId,\n  model,\n  collectionType,\n}: UseAILocalizationJobsPollingOptions) => {\n  const { toggleNotification } = useNotification();\n  const { formatMessage } = useIntl();\n  const dispatch = useDispatch();\n\n  const [previousJobStatus, setPreviousJobStatus] = React.useState<\n    AILocalizationJobs['status'] | null\n  >(null);\n\n  /**\n   * NOTE:\n   * Due to a limitation with RTK query it is not possible to dynamically update the polling interval\n   * @see https://github.com/reduxjs/redux-toolkit/issues/1651\n   */\n  const { data: initialJobData } = useGetAILocalizationJobsByDocumentQuery({\n    documentId: documentId!,\n    model: model!,\n    collectionType: collectionType!,\n  });\n\n  const shouldPoll =\n    initialJobData?.data?.status === 'processing' || previousJobStatus === 'processing';\n  const { data: jobData } = useGetAILocalizationJobsByDocumentQuery(\n    { documentId: documentId!, model: model!, collectionType: collectionType! },\n    {\n      skip: !shouldPoll,\n      pollingInterval: 1000,\n    }\n  );\n\n  const job = jobData?.data || initialJobData?.data;\n  const currentJobStatus = job?.status;\n\n  const invalidateDocument = React.useCallback(() => {\n    dispatch(\n      adminApi.util.invalidateTags([\n        {\n          // @ts-expect-error tag isn't available\n          type: 'Document',\n          id: collectionType !== 'single-types' ? `${model}_${documentId}` : model,\n        },\n      ])\n    );\n  }, [dispatch, collectionType, model, documentId]);\n\n  // Check for job status changes and trigger callbacks\n  React.useEffect(() => {\n    if (!currentJobStatus) return;\n\n    // Detect transition from 'processing' to a terminal state\n    if (previousJobStatus === 'processing' && currentJobStatus === 'completed') {\n      toggleNotification({\n        type: 'success',\n        message: formatMessage({\n          id: getTranslation('CMEditViewAITranslation.job-completed'),\n          defaultMessage: 'AI translation completed successfully!',\n        }),\n      });\n      invalidateDocument();\n    }\n\n    if (previousJobStatus === 'processing' && currentJobStatus === 'failed') {\n      toggleNotification({\n        type: 'warning',\n        message: formatMessage({\n          id: getTranslation('CMEditViewAITranslation.job-failed'),\n          defaultMessage: 'AI translation failed. Please try again.',\n        }),\n      });\n      invalidateDocument();\n    }\n\n    // Update the previous status if it changed\n    if (previousJobStatus !== currentJobStatus) {\n      setPreviousJobStatus(currentJobStatus);\n    }\n  }, [\n    currentJobStatus,\n    previousJobStatus,\n    setPreviousJobStatus,\n    toggleNotification,\n    formatMessage,\n    invalidateDocument,\n  ]);\n\n  return {\n    status: job?.status,\n  };\n};\n", "import has from 'lodash/has';\n\nconst LOCALIZED_FIELDS = [\n  'biginteger',\n  'boolean',\n  'component',\n  'date',\n  'datetime',\n  'decimal',\n  'dynamiczone',\n  'email',\n  'enumeration',\n  'float',\n  'integer',\n  'json',\n  'media',\n  'number',\n  'password',\n  'richtext',\n  'blocks',\n  'string',\n  'text',\n  'time',\n];\n\nconst doesPluginOptionsHaveI18nLocalized = (\n  opts?: object\n): opts is { i18n: { localized: boolean } } => has(opts, ['i18n', 'localized']);\n\nexport { LOCALIZED_FIELDS, doesPluginOptionsHaveI18nLocalized };\n", "const capitalize = (str: string) => str.charAt(0).toUpperCase() + str.slice(1);\n\nexport { capitalize };\n", "import * as React from 'react';\n\nimport { useAuth } from '@strapi/admin/strapi-admin';\nimport { unstable_useDocument as useDocument } from '@strapi/content-manager/strapi-admin';\nimport union from 'lodash/union';\nimport { useParams } from 'react-router-dom';\n\nimport { doesPluginOptionsHaveI18nLocalized } from '../utils/fields';\nimport { capitalize } from '../utils/strings';\n\ntype UseI18n = () => {\n  hasI18n: boolean;\n  canCreate: string[];\n  canRead: string[];\n  canUpdate: string[];\n  canDelete: string[];\n  canPublish: string[];\n};\n\ntype I18nPermissionKeys = keyof Omit<ReturnType<UseI18n>, 'hasI18n'>;\n\n/**\n * @alpha\n * @description This hook is used to get the i18n status of a content type.\n * Also returns the CRUDP permission locale properties for the content type\n * so we know which locales the user can perform actions on.\n */\nconst useI18n: UseI18n = () => {\n  // Extract the params from the URL to pass to our useDocument hook\n  const params = useParams<{ collectionType: string; slug: string; model: string }>();\n\n  const userPermissions = useAuth('useI18n', (state) => state.permissions);\n  const actions = React.useMemo(() => {\n    const permissions = userPermissions.filter((permission) => permission.subject === params.slug);\n\n    return permissions.reduce<Record<I18nPermissionKeys, string[]>>(\n      (acc, permission) => {\n        const [actionShorthand] = permission.action.split('.').slice(-1);\n        const permissionKey = `can${capitalize(actionShorthand)}` as I18nPermissionKeys;\n\n        acc[permissionKey] = union(acc[permissionKey] ?? [], permission.properties?.locales ?? []);\n\n        return acc;\n      },\n      { canCreate: [], canRead: [], canUpdate: [], canDelete: [], canPublish: [] }\n    );\n  }, [params.slug, userPermissions]);\n\n  // TODO: use specific hook to get schema only\n  const { schema } = useDocument(\n    {\n      // We can non-null assert these because below we skip the query if they are not present\n      collectionType: params.collectionType!,\n      model: params.slug!,\n    },\n    {\n      skip: true,\n    }\n  );\n\n  if (doesPluginOptionsHaveI18nLocalized(schema?.pluginOptions)) {\n    return {\n      hasI18n: schema.pluginOptions.i18n.localized,\n      ...actions,\n    };\n  }\n\n  return {\n    hasI18n: false,\n    ...actions,\n  };\n};\n\nexport { useI18n };\n", "import { i18nApi } from './api';\n\nimport type { CountManyEntriesDraftRelations } from '../../../shared/contracts/content-manager';\n\nconst relationsApi = i18nApi.injectEndpoints({\n  overrideExisting: true,\n  endpoints: (builder) => ({\n    getManyDraftRelationCount: builder.query<\n      CountManyEntriesDraftRelations.Response['data'],\n      CountManyEntriesDraftRelations.Request['query'] & {\n        model: string;\n      }\n    >({\n      query: ({ model, ...params }) => ({\n        url: `/content-manager/collection-types/${model}/actions/countManyEntriesDraftRelations`,\n        method: 'GET',\n        config: {\n          params,\n        },\n      }),\n      transformResponse: (response: CountManyEntriesDraftRelations.Response) => response.data,\n    }),\n  }),\n});\n\nconst { useGetManyDraftRelationCountQuery } = relationsApi;\n\nexport { useGetManyDraftRelationCountQuery };\n", "import type { Schema } from '@strapi/types';\n\ntype Data = Record<keyof Schema.ContentType['attributes'], any>;\n\nconst cleanData = (\n  data: Data,\n  schema: Schema.ContentType,\n  components: Record<string, Schema.Component>\n) => {\n  const cleanedData = removeFields(data, [\n    'createdAt',\n    'createdBy',\n    'updatedAt',\n    'updatedBy',\n    'id',\n    'documentId',\n    'publishedAt',\n    'strapi_stage',\n    'strapi_assignee',\n    'locale',\n    'status',\n  ]);\n\n  const cleanedDataWithoutPasswordAndRelation = recursiveRemoveFieldTypes(\n    cleanedData,\n    schema,\n    components,\n    ['relation', 'password']\n  );\n\n  return cleanedDataWithoutPasswordAndRelation;\n};\n\nconst removeFields = (data: Data, fields: Array<keyof Schema.ContentType['attributes']>) => {\n  return Object.keys(data).reduce((acc, current) => {\n    if (fields.includes(current)) {\n      return acc;\n    }\n    acc[current] = data[current];\n    return acc;\n  }, {} as Data);\n};\n\nconst recursiveRemoveFieldTypes = (\n  data: Data,\n  schema: Schema.Schema,\n  components: Record<string, Schema.Component>,\n  fields: Array<keyof Schema.ContentType['attributes']>\n) => {\n  return Object.keys(data).reduce((acc, current) => {\n    const attribute = schema.attributes[current] ?? { type: undefined };\n\n    if (fields.includes(attribute.type)) {\n      return acc;\n    }\n\n    if (attribute.type === 'dynamiczone') {\n      acc[current] = data[current].map((componentValue: any, index: number) => {\n        const { id: _, ...rest } = recursiveRemoveFieldTypes(\n          componentValue,\n          components[componentValue.__component],\n          components,\n          fields\n        );\n\n        return {\n          ...rest,\n          __temp_key__: index + 1,\n        };\n      });\n    } else if (attribute.type === 'component') {\n      const { repeatable, component } = attribute;\n\n      if (repeatable) {\n        acc[current] = (data[current] ?? []).map((compoData: any, index: number) => {\n          const { id: _, ...rest } = recursiveRemoveFieldTypes(\n            compoData,\n            components[component],\n            components,\n            fields\n          );\n\n          return {\n            ...rest,\n            __temp_key__: index + 1,\n          };\n        });\n      } else if (data[current]) {\n        const { id: _, ...rest } = recursiveRemoveFieldTypes(\n          data[current],\n          components[component],\n          components,\n          fields\n        );\n\n        acc[current] = rest;\n      }\n    } else {\n      acc[current] = data[current];\n    }\n\n    return acc;\n  }, {} as any);\n};\n\nexport { cleanData };\n", "import * as React from 'react';\n\nimport { FormErrors, Table, useTable } from '@strapi/admin/strapi-admin';\nimport { Box, Typography, IconButton, Flex, Tooltip, Status, Modal } from '@strapi/design-system';\nimport { Pencil, CheckCircle, CrossCircle, ArrowsCounterClockwise } from '@strapi/icons';\nimport { stringify } from 'qs';\nimport { type MessageDescriptor, useIntl, PrimitiveType } from 'react-intl';\nimport { Link } from 'react-router-dom';\n\nimport { Locale } from '../../../shared/contracts/locales';\nimport { getTranslation } from '../utils/getTranslation';\nimport { capitalize } from '../utils/strings';\n\nimport { LocaleStatus } from './CMHeaderActions';\n\nimport type { Modules } from '@strapi/types';\n\ntype Status = Modules.Documents.Params.PublicationStatus.Kind | 'modified';\n\n/* -------------------------------------------------------------------------------------------------\n * EntryValidationText\n * -----------------------------------------------------------------------------------------------*/\n\ninterface EntryValidationTextProps {\n  status: Status;\n  validationErrors: FormErrors[string] | null;\n  action: 'bulk-publish' | 'bulk-unpublish';\n}\n\ninterface TranslationMessage extends MessageDescriptor {\n  values?: Record<string, PrimitiveType>;\n}\n\nconst isErrorMessageDescriptor = (object?: string | object): object is TranslationMessage => {\n  return (\n    typeof object === 'object' && object !== null && 'id' in object && 'defaultMessage' in object\n  );\n};\n\nconst EntryValidationText = ({\n  status = 'draft',\n  validationErrors,\n  action,\n}: EntryValidationTextProps) => {\n  const { formatMessage } = useIntl();\n\n  /**\n   * TODO: Should this be extracted an made into a factory to recursively get\n   * error messages??\n   */\n  const getErrorStr = (key: string, value?: FormErrors[string]): string => {\n    if (typeof value === 'string') {\n      return `${key}: ${value}`;\n    } else if (isErrorMessageDescriptor(value)) {\n      return `${key}: ${formatMessage(value)}`;\n    } else if (Array.isArray(value)) {\n      return value.map((v) => getErrorStr(key, v)).join(' ');\n    } else if (typeof value === 'object' && !Array.isArray(value)) {\n      return Object.entries(value)\n        .map(([k, v]) => getErrorStr(k, v))\n        .join(' ');\n    } else {\n      /**\n       * unlikely to happen, but we need to return something\n       */\n      return '';\n    }\n  };\n\n  if (validationErrors) {\n    const validationErrorsMessages = Object.entries(validationErrors)\n      .map(([key, value]) => {\n        return getErrorStr(key, value);\n      })\n      .join(' ');\n\n    return (\n      <Flex gap={2}>\n        <CrossCircle fill=\"danger600\" />\n        <Tooltip label={validationErrorsMessages}>\n          <Typography\n            maxWidth={'30rem'}\n            textColor=\"danger600\"\n            variant=\"omega\"\n            fontWeight=\"semiBold\"\n            ellipsis\n          >\n            {validationErrorsMessages}\n          </Typography>\n        </Tooltip>\n      </Flex>\n    );\n  }\n\n  const getStatusMessage = () => {\n    if (action === 'bulk-publish') {\n      if (status === 'published') {\n        return {\n          icon: <CheckCircle fill=\"success600\" />,\n          text: formatMessage({\n            id: 'content-manager.bulk-publish.already-published',\n            defaultMessage: 'Already Published',\n          }),\n          textColor: 'success600',\n          fontWeight: 'bold',\n        };\n      } else if (status === 'modified') {\n        return {\n          icon: <ArrowsCounterClockwise fill=\"alternative600\" />,\n          text: formatMessage({\n            id: 'app.utils.ready-to-publish-changes',\n            defaultMessage: 'Ready to publish changes',\n          }),\n        };\n      } else {\n        return {\n          icon: <CheckCircle fill=\"success600\" />,\n          text: formatMessage({\n            id: 'app.utils.ready-to-publish',\n            defaultMessage: 'Ready to publish',\n          }),\n        };\n      }\n    } else {\n      if (status === 'draft') {\n        return {\n          icon: <CheckCircle fill=\"success600\" />,\n          text: formatMessage({\n            id: 'content-manager.bulk-unpublish.already-unpublished',\n            defaultMessage: 'Already Unpublished',\n          }),\n          textColor: 'success600',\n          fontWeight: 'bold',\n        };\n      } else {\n        return {\n          icon: <CheckCircle fill=\"success600\" />,\n          text: formatMessage({\n            id: 'app.utils.ready-to-unpublish-changes',\n            defaultMessage: 'Ready to unpublish',\n          }),\n          textColor: 'success600',\n          fontWeight: 'bold',\n        };\n      }\n    }\n  };\n\n  const { icon, text, textColor = 'success600', fontWeight = 'normal' } = getStatusMessage();\n\n  return (\n    <Flex gap={2}>\n      {icon}\n      <Typography textColor={textColor} fontWeight={fontWeight}>\n        {text}\n      </Typography>\n    </Flex>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * BoldChunk\n * -----------------------------------------------------------------------------------------------*/\n\nconst BoldChunk = (chunks: React.ReactNode) => <Typography fontWeight=\"bold\">{chunks}</Typography>;\n\n/* -------------------------------------------------------------------------------------------------\n * BulkLocaleActionModal\n * -----------------------------------------------------------------------------------------------*/\n\ninterface BulkLocaleActionModalProps {\n  rows: LocaleStatus[];\n  headers: {\n    label: string;\n    name: string;\n  }[];\n  localesMetadata: Locale[];\n  validationErrors?: FormErrors;\n  action: 'bulk-publish' | 'bulk-unpublish';\n}\n\nconst BulkLocaleActionModal = ({\n  headers,\n  rows,\n  localesMetadata,\n  validationErrors = {},\n  action,\n}: BulkLocaleActionModalProps) => {\n  const { formatMessage } = useIntl();\n\n  const selectedRows = useTable<LocaleStatus[]>(\n    'BulkLocaleActionModal',\n    (state) => state.selectedRows\n  );\n\n  const getFormattedCountMessage = () => {\n    const currentStatusByLocale = rows.reduce<Record<string, string>>((acc, { locale, status }) => {\n      acc[locale] = status;\n      return acc;\n    }, {});\n    const localesWithErrors = Object.keys(validationErrors);\n\n    const publishedCount = selectedRows.filter(\n      ({ locale }) => currentStatusByLocale[locale] === 'published'\n    ).length;\n\n    const draftCount = selectedRows.filter(\n      ({ locale }) =>\n        (currentStatusByLocale[locale] === 'draft' ||\n          currentStatusByLocale[locale] === 'modified') &&\n        !localesWithErrors.includes(locale)\n    ).length;\n\n    const withErrorsCount = localesWithErrors.length;\n    const messageId =\n      action === 'bulk-publish'\n        ? 'content-manager.containers.list.selectedEntriesModal.selectedCount.publish'\n        : 'content-manager.containers.list.selectedEntriesModal.selectedCount.unpublish';\n\n    const defaultMessage =\n      action === 'bulk-publish'\n        ? '<b>{publishedCount}</b> {publishedCount, plural, =0 {entries} one {entry} other {entries}} already published. <b>{draftCount}</b> {draftCount, plural, =0 {entries} one {entry} other {entries}} ready to publish. <b>{withErrorsCount}</b> {withErrorsCount, plural, =0 {entries} one {entry} other {entries}} waiting for action.'\n        : '<b>{draftCount}</b> {draftCount, plural, =0 {entries} one {entry} other {entries}} already unpublished. <b>{publishedCount}</b> {publishedCount, plural, =0 {entries} one {entry} other {entries}} ready to unpublish.';\n\n    return formatMessage(\n      {\n        id: messageId,\n        defaultMessage,\n      },\n      {\n        withErrorsCount,\n        draftCount,\n        publishedCount,\n        b: BoldChunk,\n      }\n    );\n  };\n\n  return (\n    <Modal.Body>\n      <Typography>{getFormattedCountMessage()}</Typography>\n      <Box marginTop={5}>\n        <Table.Content>\n          <Table.Head>\n            <Table.HeaderCheckboxCell />\n            {headers.map((head) => (\n              <Table.HeaderCell key={head.name} {...head} />\n            ))}\n          </Table.Head>\n          <Table.Body>\n            {rows.map(({ locale, status }, index) => {\n              const error = validationErrors?.[locale] ?? null;\n\n              const statusVariant =\n                status === 'draft' ? 'primary' : status === 'published' ? 'success' : 'alternative';\n\n              return status && locale ? (\n                <Table.Row key={index}>\n                  <Table.CheckboxCell id={locale} aria-label={`Select ${locale}`} />\n                  <Table.Cell>\n                    <Typography variant=\"sigma\" textColor=\"neutral600\">\n                      {Array.isArray(localesMetadata)\n                        ? localesMetadata.find((localeEntry) => localeEntry.code === locale)?.name\n                        : locale}\n                    </Typography>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Box display=\"flex\">\n                      <Status\n                        display=\"flex\"\n                        paddingLeft=\"6px\"\n                        paddingRight=\"6px\"\n                        paddingTop=\"2px\"\n                        paddingBottom=\"2px\"\n                        size={'S'}\n                        variant={statusVariant}\n                      >\n                        <Typography tag=\"span\" variant=\"pi\" fontWeight=\"bold\">\n                          {capitalize(status)}\n                        </Typography>\n                      </Status>\n                    </Box>\n                  </Table.Cell>\n                  <Table.Cell>\n                    <EntryValidationText validationErrors={error} status={status} action={action} />\n                  </Table.Cell>\n                  <Table.Cell>\n                    <IconButton\n                      tag={Link}\n                      to={{\n                        search: stringify({ plugins: { i18n: { locale } } }),\n                      }}\n                      label={formatMessage(\n                        {\n                          id: getTranslation('Settings.list.actions.edit'),\n                          defaultMessage: 'Edit {name} locale',\n                        },\n                        {\n                          name: locale,\n                        }\n                      )}\n                      variant=\"ghost\"\n                    >\n                      <Pencil />\n                    </IconButton>\n                  </Table.Cell>\n                </Table.Row>\n              ) : null;\n            })}\n          </Table.Body>\n        </Table.Content>\n      </Box>\n    </Modal.Body>\n  );\n};\n\nexport { BulkLocaleActionModal };\nexport type { BulkLocaleActionModalProps };\n", "import * as React from 'react';\n\nimport { skipToken } from '@reduxjs/toolkit/query';\nimport {\n  useNotification,\n  useQueryParams,\n  Table,\n  useAPIErrorHandler,\n  FormErrors,\n  useForm,\n} from '@strapi/admin/strapi-admin';\nimport { useAIAvailability } from '@strapi/admin/strapi-admin/ee';\nimport {\n  type DocumentActionComponent,\n  type DocumentActionProps,\n  unstable_useDocument as useDocument,\n  unstable_useDocumentActions as useDocumentActions,\n  buildValidParams,\n  HeaderActionProps,\n} from '@strapi/content-manager/strapi-admin';\nimport {\n  Flex,\n  Status,\n  Typography,\n  Button,\n  Modal,\n  Field,\n  SingleSelect,\n  SingleSelectOption,\n  Dialog,\n  type StatusVariant,\n  Box,\n  Link,\n} from '@strapi/design-system';\nimport { WarningCircle, ListPlus, Trash, Earth, Cross, Plus, Sparkle, Loader } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport { styled } from 'styled-components';\n\nimport { useAILocalizationJobsPolling } from '../hooks/useAILocalizationJobsPolling';\nimport { useI18n } from '../hooks/useI18n';\nimport { useGetAILocalizationJobsByDocumentQuery } from '../services/aiLocalizationJobs';\nimport { useGetLocalesQuery } from '../services/locales';\nimport { useGetManyDraftRelationCountQuery } from '../services/relations';\nimport { useGetSettingsQuery } from '../services/settings';\nimport { cleanData } from '../utils/clean';\nimport { getTranslation } from '../utils/getTranslation';\nimport { capitalize } from '../utils/strings';\n\nimport { BulkLocaleActionModal } from './BulkLocaleActionModal';\n\nimport type { Locale } from '../../../shared/contracts/locales';\nimport type { I18nBaseQuery } from '../types';\nimport type { Modules } from '@strapi/types';\n\n/* -------------------------------------------------------------------------------------------------\n * LocalePickerAction\n * -----------------------------------------------------------------------------------------------*/\n\ninterface LocaleOptionProps {\n  isDraftAndPublishEnabled: boolean;\n  locale: Locale;\n  status: 'draft' | 'published' | 'modified';\n  entryExists: boolean;\n  translationStatus?: 'processing' | 'failed' | 'completed' | undefined;\n}\n\nconst statusVariants: Record<LocaleOptionProps['status'], StatusVariant> = {\n  draft: 'secondary',\n  published: 'success',\n  modified: 'alternative',\n};\n\nconst LocaleOption = ({\n  isDraftAndPublishEnabled,\n  locale,\n  status,\n  entryExists,\n}: LocaleOptionProps) => {\n  const { formatMessage } = useIntl();\n\n  if (!entryExists) {\n    return formatMessage(\n      {\n        id: getTranslation('CMEditViewLocalePicker.locale.create'),\n        defaultMessage: 'Create <bold>{locale}</bold> locale',\n      },\n      {\n        bold: (locale: React.ReactNode) => <b>{locale}</b>,\n        locale: locale.name,\n      }\n    );\n  }\n\n  return (\n    <Flex width=\"100%\" gap={1} justifyContent=\"space-between\">\n      <Typography>{locale.name}</Typography>\n      {isDraftAndPublishEnabled ? (\n        <Status\n          display=\"flex\"\n          paddingLeft=\"6px\"\n          paddingRight=\"6px\"\n          paddingTop=\"2px\"\n          paddingBottom=\"2px\"\n          size=\"S\"\n          variant={statusVariants[status]}\n        >\n          <Typography tag=\"span\" variant=\"pi\" fontWeight=\"bold\">\n            {capitalize(status)}\n          </Typography>\n        </Status>\n      ) : null}\n    </Flex>\n  );\n};\n\nconst LocaleOptionStartIcon = ({\n  entryWithLocaleExists,\n  translationStatus,\n  index,\n}: {\n  entryWithLocaleExists: boolean;\n  translationStatus?: 'processing' | 'failed' | 'completed' | undefined;\n  index?: number;\n}) => {\n  const isAiAvailable = useAIAvailability();\n\n  if (!entryWithLocaleExists) {\n    return <Plus />;\n  }\n\n  if (isAiAvailable && index !== 0 && translationStatus === 'failed') {\n    return <WarningCircle fill=\"warning600\" />;\n  }\n\n  return null;\n};\n\nconst LocalePickerAction = ({\n  document,\n  meta,\n  model,\n  collectionType,\n  documentId,\n}: HeaderActionProps) => {\n  const { formatMessage } = useIntl();\n  const [{ query }, setQuery] = useQueryParams<I18nBaseQuery>();\n  const { hasI18n, canCreate, canRead } = useI18n();\n  const { data: locales = [] } = useGetLocalesQuery();\n  const currentDesiredLocale = query.plugins?.i18n?.locale;\n  const { schema } = useDocument({\n    model,\n    collectionType,\n    documentId,\n    params: { locale: currentDesiredLocale },\n  });\n  const { data: jobData } = useGetAILocalizationJobsByDocumentQuery({\n    documentId: documentId!,\n    model: model!,\n    collectionType: collectionType!,\n  });\n  const { data: settings } = useGetSettingsQuery();\n  const isAiAvailable = useAIAvailability();\n  const setValues = useForm('LocalePickerAction', (state) => state.setValues);\n\n  const handleSelect = React.useCallback(\n    (value: string) => {\n      setQuery(\n        {\n          plugins: {\n            ...query.plugins,\n            i18n: {\n              locale: value,\n            },\n          },\n        },\n        'push',\n        true\n      );\n    },\n    [query.plugins, setQuery]\n  );\n\n  const nonTranslatedFields = React.useMemo(() => {\n    if (!schema?.attributes) return [];\n    return Object.keys(schema.attributes).filter((field) => {\n      const attribute = schema.attributes[field] as Record<string, unknown>;\n      return (attribute?.pluginOptions as any)?.i18n?.localized === false;\n    });\n  }, [schema?.attributes]);\n\n  const sourceLocaleData = React.useMemo(() => {\n    if (!Array.isArray(locales) || !meta?.availableLocales) return null;\n\n    const defaultLocale = locales.find((locale: Locale) => locale.isDefault);\n    const existingLocales = meta.availableLocales.map((loc) => loc.locale);\n\n    const sourceLocaleCode =\n      defaultLocale &&\n      existingLocales.includes(defaultLocale.code) &&\n      defaultLocale.code !== currentDesiredLocale\n        ? defaultLocale.code\n        : existingLocales.find((locale) => locale !== currentDesiredLocale);\n\n    if (!sourceLocaleCode) return null;\n\n    // Find the document data from availableLocales (now includes non-translatable fields)\n    const sourceLocaleDoc = meta.availableLocales.find((loc) => loc.locale === sourceLocaleCode);\n\n    return sourceLocaleDoc\n      ? { locale: sourceLocaleCode, data: sourceLocaleDoc as Record<string, unknown> }\n      : null;\n  }, [locales, meta?.availableLocales, currentDesiredLocale]);\n\n  /**\n   * Prefilling form with non-translatable fields from already existing locale\n   */\n  React.useEffect(() => {\n    // Only run when creating a new locale (no document ID yet) and when we have non-translatable fields\n    if (!document?.id && nonTranslatedFields.length > 0 && sourceLocaleData?.data) {\n      const dataToSet = nonTranslatedFields.reduce(\n        (acc: Record<string, unknown>, field: string) => {\n          acc[field] = sourceLocaleData.data[field];\n          return acc;\n        },\n        {}\n      );\n\n      if (Object.keys(dataToSet).length > 0) {\n        setValues(dataToSet);\n      }\n    }\n  }, [document?.id, nonTranslatedFields, sourceLocaleData?.data, setValues]);\n\n  React.useEffect(() => {\n    if (!Array.isArray(locales) || !hasI18n) {\n      return;\n    }\n    /**\n     * Handle the case where the current locale query param doesn't exist\n     * in the list of available locales, so we redirect to the default locale.\n     */\n    const doesLocaleExist = locales.find((loc) => loc.code === currentDesiredLocale);\n    const defaultLocale = locales.find((locale) => locale.isDefault);\n    if (!doesLocaleExist && defaultLocale?.code) {\n      handleSelect(defaultLocale.code);\n    }\n  }, [handleSelect, hasI18n, locales, currentDesiredLocale]);\n\n  const currentLocale = Array.isArray(locales)\n    ? locales.find((locale) => locale.code === currentDesiredLocale)\n    : undefined;\n\n  // Use meta.availableLocales instead of document.localizations\n  // meta.availableLocales contains all locales for the document, even when creating new locales\n  const availableLocales = meta?.availableLocales ?? [];\n  const documentLocalizations = document?.localizations ?? [];\n\n  // Prefer meta.availableLocales as it's more reliable, fallback to document.localizations\n  const allLocalizations = availableLocales.length > 0 ? availableLocales : documentLocalizations;\n\n  const allCurrentLocales = [\n    { status: getDocumentStatus(document, meta), locale: currentLocale?.code },\n    ...allLocalizations,\n  ];\n\n  if (!hasI18n || !Array.isArray(locales) || locales.length === 0) {\n    return null;\n  }\n\n  const displayedLocales = locales.filter((locale) => {\n    /**\n     * If you can read we allow you to see the locale exists\n     * otherwise the locale is hidden.\n     */\n    return canRead.includes(locale.code);\n  });\n\n  const localesSortingDefaultFirst = displayedLocales.sort((a, b) =>\n    a.isDefault ? -1 : b.isDefault ? 1 : 0\n  );\n\n  return {\n    label: formatMessage({\n      id: getTranslation('Settings.locales.modal.locales.label'),\n      defaultMessage: 'Locales',\n    }),\n    options: localesSortingDefaultFirst.map((locale, index) => {\n      const entryWithLocaleExists = allCurrentLocales.some((doc) => doc.locale === locale.code);\n\n      const currentLocaleDoc = allCurrentLocales.find((doc) =>\n        'locale' in doc ? doc.locale === locale.code : false\n      );\n\n      const permissionsToCheck = currentLocaleDoc ? canRead : canCreate;\n\n      if (isAiAvailable && settings?.data?.aiLocalizations) {\n        return {\n          _render: () => (\n            <React.Fragment key={index}>\n              <SingleSelectOption\n                disabled={!permissionsToCheck.includes(locale.code)}\n                key={locale.code}\n                startIcon={\n                  <LocaleOptionStartIcon\n                    entryWithLocaleExists={entryWithLocaleExists}\n                    translationStatus={jobData?.data?.status}\n                    index={index}\n                  />\n                }\n                value={locale.code}\n              >\n                <LocaleOption\n                  isDraftAndPublishEnabled={!!schema?.options?.draftAndPublish}\n                  locale={locale}\n                  status={currentLocaleDoc?.status}\n                  entryExists={entryWithLocaleExists}\n                />\n              </SingleSelectOption>\n              {localesSortingDefaultFirst.length > 1 && index === 0 && (\n                <Box paddingRight={4} paddingLeft={4} paddingTop={2} paddingBottom={2}>\n                  <Typography variant=\"sigma\">\n                    {formatMessage({\n                      id: getTranslation('CMEditViewLocalePicker.locale.ai-translations'),\n                      defaultMessage: 'AI Translations',\n                    })}\n                  </Typography>\n                </Box>\n              )}\n            </React.Fragment>\n          ),\n        };\n      }\n\n      return {\n        disabled: !permissionsToCheck.includes(locale.code),\n        value: locale.code,\n        label: (\n          <LocaleOption\n            isDraftAndPublishEnabled={!!schema?.options?.draftAndPublish}\n            locale={locale}\n            status={currentLocaleDoc?.status}\n            entryExists={entryWithLocaleExists}\n            translationStatus={jobData?.data?.status}\n          />\n        ),\n        startIcon: <LocaleOptionStartIcon entryWithLocaleExists={entryWithLocaleExists} />,\n      };\n    }),\n    customizeContent: () => currentLocale?.name,\n    onSelect: handleSelect,\n    value: currentLocale,\n  };\n};\n\ntype UseDocument = typeof useDocument;\n\nconst getDocumentStatus = (\n  document: ReturnType<UseDocument>['document'],\n  meta: ReturnType<UseDocument>['meta']\n): 'draft' | 'published' | 'modified' => {\n  const docStatus = document?.status;\n  const statuses = meta?.availableStatus ?? [];\n\n  /**\n   * Creating an entry\n   */\n  if (!docStatus) {\n    return 'draft';\n  }\n\n  /**\n   * We're viewing a draft, but the document could have a published version\n   */\n  if (docStatus === 'draft' && statuses.find((doc) => doc.publishedAt !== null)) {\n    return 'published';\n  }\n\n  return docStatus;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * AISettingsStatusAction\n * -----------------------------------------------------------------------------------------------*/\n\nconst AITranslationStatusIcon = styled(Status)<{ $isAISettingEnabled: boolean }>`\n  display: flex;\n  gap: ${({ theme }) => theme.spaces[1]};\n  justify-content: center;\n  align-items: center;\n  height: 3.2rem;\n  width: 3.2rem;\n\n  // Disabled state\n  ${({ $isAISettingEnabled, theme }) =>\n    !$isAISettingEnabled &&\n    `\n    background-color: ${theme.colors.neutral150};\n  `}\n\n  svg {\n    ${({ $isAISettingEnabled, theme }) =>\n      !$isAISettingEnabled &&\n      `\n        fill: ${theme.colors.neutral300};\n      `}\n  }\n`;\n\nconst SpinningLoader = styled(Loader)`\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  animation: spin 2s linear infinite;\n`;\n\nconst AITranslationStatusAction = ({ documentId, model, collectionType }: HeaderActionProps) => {\n  const { formatMessage } = useIntl();\n  const isAIAvailable = useAIAvailability();\n  const { data: settings } = useGetSettingsQuery();\n  const isAISettingEnabled = settings?.data?.aiLocalizations;\n  const { hasI18n } = useI18n();\n\n  // Poll for AI localizations jobs when AI is enabled and we have a documentId\n  const { status } = useAILocalizationJobsPolling({\n    documentId,\n    model,\n    collectionType,\n  });\n  const statusVariant = (() => {\n    if (status === 'failed') {\n      return 'warning';\n    }\n\n    if (isAISettingEnabled) {\n      return 'alternative';\n    }\n\n    return 'neutral';\n  })();\n\n  // Do not display this action when i18n is not available\n  if (!hasI18n) {\n    return null;\n  }\n\n  // Do not display this action when AI is not available\n  if (!isAIAvailable) {\n    return null;\n  }\n\n  return {\n    _status: {\n      message: (\n        <Flex\n          height=\"100%\"\n          alignItems=\"center\"\n          aria-label={formatMessage({\n            id: getTranslation('CMEditViewAITranslation.status-aria-label'),\n            defaultMessage: 'AI Translation Status',\n          })}\n        >\n          <AITranslationStatusIcon\n            $isAISettingEnabled={Boolean(isAISettingEnabled)}\n            variant={statusVariant}\n            size=\"S\"\n          >\n            {status === 'processing' ? <SpinningLoader /> : <Sparkle />}\n          </AITranslationStatusIcon>\n        </Flex>\n      ),\n      tooltip: (\n        <Flex direction=\"column\" padding={4} alignItems=\"flex-start\" width=\"25rem\">\n          <Typography variant=\"pi\" fontWeight=\"600\">\n            {formatMessage(\n              {\n                id: getTranslation('CMEditViewAITranslation.status-title'),\n                defaultMessage:\n                  '{enabled, select, true {AI translation enabled} false {AI translation disabled} other {AI translation disabled}}',\n              },\n              { enabled: isAISettingEnabled }\n            )}\n          </Typography>\n          <Typography variant=\"pi\" paddingTop={1} paddingBottom={3}>\n            {formatMessage({\n              id: getTranslation('CMEditViewAITranslation.status-description'),\n              defaultMessage:\n                'Our AI translates content in all locales each time you save a modification in the default locale.',\n            })}\n          </Typography>\n          <Link\n            fontSize=\"inherit\"\n            tag={NavLink}\n            to=\"/settings/internationalization\"\n            style={{ alignSelf: 'flex-end' }}\n          >\n            <Typography variant=\"pi\" textAlign=\"right\">\n              {formatMessage(\n                {\n                  id: getTranslation('CMEditViewAITranslation.settings-link'),\n                  defaultMessage:\n                    '{enabled, select, true {Disable it in settings} false {Enable it in settings} other {Enable it in settings}}',\n                },\n                { enabled: isAISettingEnabled }\n              )}\n            </Typography>\n          </Link>\n        </Flex>\n      ),\n    },\n  };\n};\n\n/* -------------------------------------------------------------------------------------------------\n * FillFromAnotherLocaleAction\n * -----------------------------------------------------------------------------------------------*/\n\nconst FillFromAnotherLocaleAction = ({\n  documentId,\n  meta,\n  model,\n  collectionType,\n}: HeaderActionProps) => {\n  const { formatMessage } = useIntl();\n  const [{ query }] = useQueryParams<I18nBaseQuery>();\n  const { hasI18n } = useI18n();\n  const currentDesiredLocale = query.plugins?.i18n?.locale;\n  const [localeSelected, setLocaleSelected] = React.useState<string | null>(null);\n  const setValues = useForm('FillFromAnotherLocale', (state) => state.setValues);\n\n  const { getDocument } = useDocumentActions();\n  const { schema, components } = useDocument({\n    model,\n    documentId,\n    collectionType,\n    params: { locale: currentDesiredLocale },\n  });\n  const { data: locales = [] } = useGetLocalesQuery();\n\n  const isAIAvailable = useAIAvailability();\n  const { data: settings } = useGetSettingsQuery();\n  const isAISettingEnabled = settings?.data?.aiLocalizations;\n\n  const availableLocales = Array.isArray(locales)\n    ? locales.filter((locale) => meta?.availableLocales.some((l) => l.locale === locale.code))\n    : [];\n\n  const fillFromLocale = (onClose: () => void) => async () => {\n    const response = await getDocument({\n      collectionType,\n      model,\n      documentId,\n      params: { locale: localeSelected },\n    });\n    if (!response || !schema) {\n      return;\n    }\n\n    const { data } = response;\n\n    const cleanedData = cleanData(data, schema, components);\n\n    setValues(cleanedData);\n\n    onClose();\n  };\n\n  if (!hasI18n) {\n    return null;\n  }\n\n  // Do not display this action when AI is available and AI translations are enabled\n  if (isAIAvailable && isAISettingEnabled) {\n    return null;\n  }\n\n  return {\n    type: 'icon',\n    icon: <Earth />,\n    disabled: availableLocales.length === 0,\n    label: formatMessage({\n      id: getTranslation('CMEditViewCopyLocale.copy-text'),\n      defaultMessage: 'Fill in from another locale',\n    }),\n    dialog: {\n      type: 'dialog',\n      title: formatMessage({\n        id: getTranslation('CMEditViewCopyLocale.dialog.title'),\n        defaultMessage: 'Confirmation',\n      }),\n      content: ({ onClose }: { onClose: () => void }) => (\n        <>\n          <Dialog.Body>\n            <Flex direction=\"column\" gap={3}>\n              <WarningCircle width=\"24px\" height=\"24px\" fill=\"danger600\" />\n              <Typography textAlign=\"center\">\n                {formatMessage({\n                  id: getTranslation('CMEditViewCopyLocale.dialog.body'),\n                  defaultMessage:\n                    'Your current content will be erased and filled by the content of the selected locale:',\n                })}\n              </Typography>\n              <Field.Root width=\"100%\">\n                <Field.Label>\n                  {formatMessage({\n                    id: getTranslation('CMEditViewCopyLocale.dialog.field.label'),\n                    defaultMessage: 'Locale',\n                  })}\n                </Field.Label>\n                <SingleSelect\n                  value={localeSelected}\n                  placeholder={formatMessage({\n                    id: getTranslation('CMEditViewCopyLocale.dialog.field.placeholder'),\n                    defaultMessage: 'Select one locale...',\n                  })}\n                  // @ts-expect-error  the DS will handle numbers, but we're not allowing the API.\n                  onChange={(value) => setLocaleSelected(value)}\n                >\n                  {availableLocales.map((locale) => (\n                    <SingleSelectOption key={locale.code} value={locale.code}>\n                      {locale.name}\n                    </SingleSelectOption>\n                  ))}\n                </SingleSelect>\n              </Field.Root>\n            </Flex>\n          </Dialog.Body>\n          <Dialog.Footer>\n            <Flex gap={2} width=\"100%\">\n              <Button flex=\"auto\" variant=\"tertiary\" onClick={onClose}>\n                {formatMessage({\n                  id: getTranslation('CMEditViewCopyLocale.cancel-text'),\n                  defaultMessage: 'No, cancel',\n                })}\n              </Button>\n              <Button flex=\"auto\" variant=\"success\" onClick={fillFromLocale(onClose)}>\n                {formatMessage({\n                  id: getTranslation('CMEditViewCopyLocale.submit-text'),\n                  defaultMessage: 'Yes, fill in',\n                })}\n              </Button>\n            </Flex>\n          </Dialog.Footer>\n        </>\n      ),\n    },\n  };\n};\n\n/* -------------------------------------------------------------------------------------------------\n * DeleteLocaleAction\n * -----------------------------------------------------------------------------------------------*/\n\nconst DeleteLocaleAction: DocumentActionComponent = ({\n  document,\n  documentId,\n  model,\n  collectionType,\n}) => {\n  const { formatMessage } = useIntl();\n  const navigate = useNavigate();\n  const { toggleNotification } = useNotification();\n  const { delete: deleteAction, isLoading } = useDocumentActions();\n  const { hasI18n, canDelete } = useI18n();\n\n  // Get the current locale object, using the URL instead of document so it works while creating\n  const [{ query }] = useQueryParams<I18nBaseQuery>();\n  const { data: locales = [] } = useGetLocalesQuery();\n  const currentDesiredLocale = query.plugins?.i18n?.locale;\n  const locale = !('error' in locales) && locales.find((loc) => loc.code === currentDesiredLocale);\n\n  if (!hasI18n) {\n    return null;\n  }\n\n  return {\n    disabled:\n      (document?.locale && !canDelete.includes(document.locale)) || !document || !document.id,\n    position: ['header', 'table-row'],\n    label: formatMessage(\n      {\n        id: getTranslation('actions.delete.label'),\n        defaultMessage: 'Delete entry ({locale})',\n      },\n      { locale: locale && locale.name }\n    ),\n    icon: <StyledTrash />,\n    variant: 'danger',\n    dialog: {\n      type: 'dialog',\n      title: formatMessage({\n        id: getTranslation('actions.delete.dialog.title'),\n        defaultMessage: 'Confirmation',\n      }),\n      content: (\n        <Flex direction=\"column\" gap={2}>\n          <WarningCircle width=\"24px\" height=\"24px\" fill=\"danger600\" />\n          <Typography tag=\"p\" variant=\"omega\" textAlign=\"center\">\n            {formatMessage({\n              id: getTranslation('actions.delete.dialog.body'),\n              defaultMessage: 'Are you sure?',\n            })}\n          </Typography>\n        </Flex>\n      ),\n      loading: isLoading,\n      onConfirm: async () => {\n        const unableToDelete =\n          // We are unable to delete a collection type without a document ID\n          // & unable to delete generally if there is no document locale\n          (collectionType !== 'single-types' && !documentId) || !document?.locale;\n\n        if (unableToDelete) {\n          console.error(\n            \"You're trying to delete a document without an id or locale, this is likely a bug with Strapi. Please open an issue.\"\n          );\n\n          toggleNotification({\n            message: formatMessage({\n              id: getTranslation('actions.delete.error'),\n              defaultMessage: 'An error occurred while trying to delete the document locale.',\n            }),\n            type: 'danger',\n          });\n\n          return;\n        }\n\n        const res = await deleteAction({\n          documentId,\n          model,\n          collectionType,\n          params: { locale: document.locale },\n        });\n\n        if (!('error' in res)) {\n          navigate({ pathname: `../${collectionType}/${model}` }, { replace: true });\n        }\n      },\n    },\n  };\n};\n\nexport type LocaleStatus = {\n  locale: string;\n  status: Modules.Documents.Params.PublicationStatus.Kind | 'modified';\n};\n\ninterface ExtendedDocumentActionProps extends DocumentActionProps {\n  action?: 'bulk-publish' | 'bulk-unpublish';\n}\n\n/* -------------------------------------------------------------------------------------------------\n * BulkLocaleAction\n *\n * This component is used to handle bulk publish and unpublish actions on locales.\n * -----------------------------------------------------------------------------------------------*/\n\nconst BulkLocaleAction: DocumentActionComponent = ({\n  document,\n  documentId,\n  model,\n  collectionType,\n  action,\n  meta,\n}: ExtendedDocumentActionProps) => {\n  const locale = document?.locale ?? null;\n  const [{ query }] = useQueryParams<{ status: 'draft' | 'published' }>();\n\n  const params = React.useMemo(() => buildValidParams(query), [query]);\n  const isOnPublishedTab = query.status === 'published';\n\n  const { formatMessage } = useIntl();\n  const { hasI18n, canPublish } = useI18n();\n  const { toggleNotification } = useNotification();\n  const { _unstableFormatAPIError: formatAPIError } = useAPIErrorHandler();\n\n  const [selectedRows, setSelectedRows] = React.useState<any[]>([]);\n  const [isDraftRelationConfirmationOpen, setIsDraftRelationConfirmationOpen] =\n    React.useState<boolean>(false);\n\n  const { publishMany: publishManyAction, unpublishMany: unpublishManyAction } =\n    useDocumentActions();\n\n  const { schema, validate } = useDocument(\n    {\n      model,\n      collectionType,\n      documentId,\n      params: {\n        locale,\n      },\n    },\n    {\n      // No need to fetch the document, the data is already available in the `document` prop\n      skip: true,\n    }\n  );\n\n  const { data: localesMetadata = [] } = useGetLocalesQuery(hasI18n ? undefined : skipToken);\n\n  const headers = [\n    {\n      label: formatMessage({\n        id: 'global.name',\n        defaultMessage: 'Name',\n      }),\n      name: 'name',\n    },\n    {\n      label: formatMessage({\n        id: getTranslation('CMEditViewBulkLocale.status'),\n        defaultMessage: 'Status',\n      }),\n      name: 'status',\n    },\n    {\n      label: formatMessage({\n        id: getTranslation('CMEditViewBulkLocale.publication-status'),\n        defaultMessage: 'Publication Status',\n      }),\n      name: 'publication-status',\n    },\n  ];\n\n  // Extract the rows for the bulk locale publish modal and any validation\n  // errors per locale\n  const [rows, validationErrors] = React.useMemo(() => {\n    if (!document) {\n      return [[], {}];\n    }\n\n    const metaLocalizations = (meta?.availableLocales ?? []).map((locale) => ({\n      locale: locale.locale,\n      status: (locale.status ?? 'draft') as LocaleStatus['status'],\n    }));\n\n    const documentLocalizations = (\n      (document.localizations ?? []) as Array<{\n        locale?: string | null;\n        status?: Modules.Documents.Params.PublicationStatus.Kind | 'modified' | null;\n      }>\n    ).map((doc) => ({\n      locale: doc.locale ?? undefined,\n      status: (doc.status ?? 'draft') as LocaleStatus['status'],\n    }));\n\n    const localesMap = new Map<string, LocaleStatus>();\n\n    metaLocalizations.forEach(({ locale, status }) => {\n      if (locale) {\n        localesMap.set(locale, { locale, status });\n      }\n    });\n\n    documentLocalizations.forEach(({ locale, status }) => {\n      if (locale) {\n        localesMap.set(locale, { locale, status });\n      }\n    });\n\n    // Build the rows for the bulk locale publish modal by combining the current\n    // document with all the available locales from the document meta\n    const locales: LocaleStatus[] = [];\n\n    if (document?.locale) {\n      locales.push({\n        locale: document.locale,\n        status: (document.status ?? 'draft') as LocaleStatus['status'],\n      });\n    }\n\n    locales.push(\n      ...Array.from(localesMap.entries())\n        .filter(([locale]) => locale !== document?.locale)\n        .map(([, value]) => value)\n    );\n\n    if (locales.length === 0 && document?.locale) {\n      locales.push({\n        locale: document.locale,\n        status: (document.status ?? 'draft') as LocaleStatus['status'],\n      });\n    }\n\n    // Build the validation errors for each locale.\n    const allDocuments = [document, ...(document.localizations ?? [])];\n    const errors = allDocuments.reduce<FormErrors>((errs, document) => {\n      if (!document) {\n        return errs;\n      }\n\n      // Validate each locale entry via the useDocument validate function and store any errors in a dictionary\n      const validation = validate(document as Modules.Documents.AnyDocument);\n      if (validation !== null) {\n        errs[document.locale] = validation;\n      }\n      return errs;\n    }, {});\n\n    return [locales, errors];\n  }, [document, meta?.availableLocales, validate]);\n\n  const isBulkPublish = action === 'bulk-publish';\n  const localesForAction = selectedRows.reduce((acc: string[], selectedRow: LocaleStatus) => {\n    const isValidLocale =\n      // Validation errors are irrelevant if we are trying to unpublish\n      !isBulkPublish || !Object.keys(validationErrors).includes(selectedRow.locale);\n\n    const shouldAddLocale = isBulkPublish\n      ? selectedRow.status !== 'published' && isValidLocale\n      : selectedRow.status !== 'draft' && isValidLocale;\n\n    if (shouldAddLocale) {\n      acc.push(selectedRow.locale);\n    }\n\n    return acc;\n  }, []);\n\n  // TODO skipping this for now as there is a bug with the draft relation count that will be worked on separately\n  // see https://www.notion.so/strapi/Count-draft-relations-56901b492efb45ab90d42fe975b32bd8?pvs=4\n  const enableDraftRelationsCount = false;\n  const {\n    data: draftRelationsCount = 0,\n    isLoading: isDraftRelationsLoading,\n    error: isDraftRelationsError,\n  } = useGetManyDraftRelationCountQuery(\n    {\n      model,\n      documentIds: [documentId!],\n      locale: localesForAction,\n    },\n    {\n      skip: !enableDraftRelationsCount || !documentId || localesForAction.length === 0,\n    }\n  );\n\n  React.useEffect(() => {\n    if (isDraftRelationsError) {\n      toggleNotification({\n        type: 'danger',\n        message: formatAPIError(isDraftRelationsError),\n      });\n    }\n  }, [isDraftRelationsError, toggleNotification, formatAPIError]);\n\n  if (!schema?.options?.draftAndPublish) {\n    return null;\n  }\n\n  if (!hasI18n) {\n    return null;\n  }\n\n  if (!documentId) {\n    return null;\n  }\n\n  // This document action can be enabled given that draft and publish and i18n are\n  // enabled and we can publish the current locale.\n\n  const publish = async () => {\n    await publishManyAction({\n      model,\n      documentIds: [documentId],\n      params: {\n        ...params,\n        locale: localesForAction,\n      },\n    });\n\n    setSelectedRows([]);\n  };\n\n  const unpublish = async () => {\n    await unpublishManyAction({\n      model,\n      documentIds: [documentId],\n      params: {\n        ...params,\n        locale: localesForAction,\n      },\n    });\n\n    setSelectedRows([]);\n  };\n\n  const handleAction = async () => {\n    if (draftRelationsCount > 0) {\n      setIsDraftRelationConfirmationOpen(true);\n    } else if (isBulkPublish) {\n      await publish();\n    } else {\n      await unpublish();\n    }\n  };\n\n  if (isDraftRelationConfirmationOpen) {\n    return {\n      label: formatMessage({\n        id: 'app.components.ConfirmDialog.title',\n        defaultMessage: 'Confirmation',\n      }),\n      variant: 'danger',\n      dialog: {\n        onCancel: () => {\n          setIsDraftRelationConfirmationOpen(false);\n        },\n        onConfirm: async () => {\n          await publish();\n\n          setIsDraftRelationConfirmationOpen(false);\n        },\n        type: 'dialog',\n        title: formatMessage({\n          id: getTranslation('actions.publish.dialog.title'),\n          defaultMessage: 'Confirmation',\n        }),\n        content: (\n          <Flex direction=\"column\" alignItems=\"center\" gap={2}>\n            <WarningCircle width=\"2.4rem\" height=\"2.4rem\" fill=\"danger600\" />\n            <Typography textAlign=\"center\">\n              {formatMessage({\n                id: getTranslation('CMEditViewBulkLocale.draft-relation-warning'),\n                defaultMessage:\n                  'Some locales are related to draft entries. Publishing them could leave broken links in your app.',\n              })}\n            </Typography>\n            <Typography textAlign=\"center\">\n              {formatMessage({\n                id: getTranslation('CMEditViewBulkLocale.continue-confirmation'),\n                defaultMessage: 'Are you sure you want to continue?',\n              })}\n            </Typography>\n          </Flex>\n        ),\n      },\n    };\n  }\n\n  const hasPermission = selectedRows\n    .map(({ locale }) => locale)\n    .every((locale) => canPublish.includes(locale));\n\n  return {\n    label: formatMessage({\n      id: getTranslation(`CMEditViewBulkLocale.${isBulkPublish ? 'publish' : 'unpublish'}-title`),\n      defaultMessage: `${isBulkPublish ? 'Publish' : 'Unpublish'} Multiple Locales`,\n    }),\n    variant: isBulkPublish ? 'secondary' : 'danger',\n    icon: isBulkPublish ? <ListPlus /> : <Cross />,\n    disabled: isOnPublishedTab || canPublish.length === 0,\n    position: ['panel'],\n    dialog: {\n      type: 'modal',\n      title: formatMessage({\n        id: getTranslation(`CMEditViewBulkLocale.${isBulkPublish ? 'publish' : 'unpublish'}-title`),\n        defaultMessage: `${isBulkPublish ? 'Publish' : 'Unpublish'} Multiple Locales`,\n      }),\n      content: () => {\n        return (\n          <Table.Root\n            headers={headers}\n            rows={rows.map((row) => ({\n              ...row,\n              id: row.locale,\n            }))}\n            selectedRows={selectedRows}\n            onSelectedRowsChange={(tableSelectedRows) => setSelectedRows(tableSelectedRows)}\n          >\n            <BulkLocaleActionModal\n              validationErrors={validationErrors}\n              headers={headers}\n              rows={rows}\n              localesMetadata={localesMetadata as Locale[]}\n              action={action ?? 'bulk-publish'}\n            />\n          </Table.Root>\n        );\n      },\n      footer: () => (\n        <Modal.Footer justifyContent=\"flex-end\">\n          <Button\n            loading={isDraftRelationsLoading}\n            disabled={!hasPermission || localesForAction.length === 0}\n            variant=\"default\"\n            onClick={handleAction}\n          >\n            {formatMessage({\n              id: isBulkPublish ? 'app.utils.publish' : 'app.utils.unpublish',\n              defaultMessage: isBulkPublish ? 'Publish' : 'Unpublish',\n            })}\n          </Button>\n        </Modal.Footer>\n      ),\n    },\n  };\n};\n\n/* -------------------------------------------------------------------------------------------------\n * BulkLocalePublishAction\n * -----------------------------------------------------------------------------------------------*/\nconst BulkLocalePublishAction: DocumentActionComponent = (props: ExtendedDocumentActionProps) => {\n  return BulkLocaleAction({ action: 'bulk-publish', ...props });\n};\n\n/* -------------------------------------------------------------------------------------------------\n * BulkLocaleUnpublishAction\n * -----------------------------------------------------------------------------------------------*/\nconst BulkLocaleUnpublishAction: DocumentActionComponent = (props: ExtendedDocumentActionProps) => {\n  return BulkLocaleAction({ action: 'bulk-unpublish', ...props });\n};\n\n/**\n * Because the icon system is completely broken, we have to do\n * this to remove the fill from the cog.\n */\nconst StyledTrash = styled(Trash)`\n  path {\n    fill: currentColor;\n  }\n`;\n\nexport {\n  BulkLocalePublishAction,\n  BulkLocaleUnpublishAction,\n  DeleteLocaleAction,\n  LocalePickerAction,\n  FillFromAnotherLocaleAction,\n  AITranslationStatusAction,\n};\n", "import * as React from 'react';\n\nimport { Typography } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { useI18n } from '../hooks/useI18n';\nimport { getTranslation } from '../utils/getTranslation';\n\nconst Emphasis = (chunks: React.ReactNode) => {\n  return (\n    <Typography fontWeight=\"semiBold\" textColor=\"danger500\">\n      {chunks}\n    </Typography>\n  );\n};\n\nconst DeleteModalAdditionalInfo = () => {\n  const { hasI18n } = useI18n();\n  const { formatMessage } = useIntl();\n\n  if (!hasI18n) {\n    return null;\n  }\n\n  return (\n    <Typography textColor=\"danger500\">\n      {formatMessage(\n        {\n          id: getTranslation('Settings.list.actions.deleteAdditionalInfos'),\n          defaultMessage:\n            'This will delete the active locale versions <em>(from Internationalization)</em>',\n        },\n        {\n          em: Emphasis,\n        }\n      )}\n    </Typography>\n  );\n};\n\nconst PublishModalAdditionalInfo = () => {\n  const { hasI18n } = useI18n();\n  const { formatMessage } = useIntl();\n\n  if (!hasI18n) {\n    return null;\n  }\n\n  return (\n    <Typography textColor=\"danger500\">\n      {formatMessage(\n        {\n          id: getTranslation('Settings.list.actions.publishAdditionalInfos'),\n          defaultMessage:\n            'This will publish the active locale versions <em>(from Internationalization)</em>',\n        },\n        {\n          em: Emphasis,\n        }\n      )}\n    </Typography>\n  );\n};\n\nconst UnpublishModalAdditionalInfo = () => {\n  const { hasI18n } = useI18n();\n  const { formatMessage } = useIntl();\n\n  if (!hasI18n) {\n    return null;\n  }\n\n  return (\n    <Typography textColor=\"danger500\">\n      {formatMessage(\n        {\n          id: getTranslation('Settings.list.actions.unpublishAdditionalInfos'),\n          defaultMessage:\n            'This will unpublish the active locale versions <em>(from Internationalization)</em>',\n        },\n        {\n          em: Emphasis,\n        }\n      )}\n    </Typography>\n  );\n};\n\nexport { DeleteModalAdditionalInfo, PublishModalAdditionalInfo, UnpublishModalAdditionalInfo };\n", "import * as React from 'react';\n\nimport { useQueryParams } from '@strapi/admin/strapi-admin';\nimport { SingleSelect, SingleSelectOption } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { useI18n } from '../hooks/useI18n';\nimport { useGetLocalesQuery } from '../services/locales';\nimport { getTranslation } from '../utils/getTranslation';\n\nimport type { I18nBaseQuery } from '../types';\n\ninterface Query extends I18nBaseQuery {\n  page?: number;\n}\n\nconst LocalePicker = () => {\n  const { formatMessage } = useIntl();\n  const [{ query }, setQuery] = useQueryParams<Query>();\n\n  const { hasI18n, canRead, canCreate } = useI18n();\n  const { data: locales = [] } = useGetLocalesQuery(undefined, {\n    skip: !hasI18n,\n  });\n\n  const handleChange = React.useCallback(\n    (code: string, replace = false) => {\n      setQuery(\n        {\n          page: 1,\n          plugins: { ...query.plugins, i18n: { locale: code } },\n        },\n        'push',\n        replace\n      );\n    },\n    [query.plugins, setQuery]\n  );\n\n  React.useEffect(() => {\n    if (!Array.isArray(locales) || !hasI18n) {\n      return;\n    }\n    /**\n     * Handle the case where the current locale query param doesn't exist\n     * in the list of available locales, so we redirect to the default locale.\n     */\n    const currentDesiredLocale = query.plugins?.i18n?.locale;\n    const doesLocaleExist = locales.find((loc) => loc.code === currentDesiredLocale);\n    const defaultLocale = locales.find((locale) => locale.isDefault);\n    if (!doesLocaleExist && defaultLocale?.code) {\n      handleChange(defaultLocale.code, true);\n    }\n  }, [hasI18n, handleChange, locales, query.plugins?.i18n?.locale]);\n\n  const sortedLocaleOptions = React.useMemo(() => {\n    const displayedLocales = Array.isArray(locales)\n      ? locales.filter((locale) => {\n          /**\n           * If you can create or read we allow you to see the locale exists\n           * this is because in the ListView, you may be able to create a new entry\n           * in a locale you can't read.\n           */\n          return canCreate.includes(locale.code) || canRead.includes(locale.code);\n        })\n      : [];\n\n    return displayedLocales\n      .sort((a, b) => a.name.localeCompare(b.name))\n      .map((locale) => (\n        <SingleSelectOption key={locale.id} value={locale.code}>\n          {locale.name}\n        </SingleSelectOption>\n      ));\n  }, [locales, canCreate, canRead]);\n\n  if (!hasI18n || !Array.isArray(locales) || locales.length === 0) {\n    return null;\n  }\n\n  return (\n    <SingleSelect\n      size=\"S\"\n      aria-label={formatMessage({\n        id: getTranslation('actions.select-locale'),\n        defaultMessage: 'Select locale',\n      })}\n      value={query.plugins?.i18n?.locale || locales.find((locale) => locale.isDefault)?.code}\n      // @ts-expect-error  This can be removed in V2 of the DS.\n      onChange={handleChange}\n    >\n      {sortedLocaleOptions}\n    </SingleSelect>\n  );\n};\n\nexport { LocalePicker };\n", "/* eslint-disable check-file/filename-naming-convention */\nimport { Flex, Tooltip, VisuallyHidden } from '@strapi/design-system';\nimport { Earth } from '@strapi/icons';\nimport { MessageDescriptor, useIntl } from 'react-intl';\nimport { styled } from 'styled-components';\n\nimport { getTranslation } from '../utils/getTranslation';\n\nimport type { EditFieldLayout, EditLayout } from '@strapi/content-manager/strapi-admin';\ninterface MutateEditViewArgs {\n  layout: EditLayout;\n}\n\nconst mutateEditViewHook = ({ layout }: MutateEditViewArgs): MutateEditViewArgs => {\n  // If i18n isn't explicitly enabled on the content type, then no field can be localized\n  if (\n    !('i18n' in layout.options) ||\n    (typeof layout.options.i18n === 'object' &&\n      layout.options.i18n !== null &&\n      'localized' in layout.options.i18n &&\n      !layout.options.i18n.localized)\n  ) {\n    return { layout };\n  }\n\n  const decorateField = (field: EditFieldLayout) => addLabelActionToField(field, layout);\n\n  const components = Object.entries(layout.components).reduce<EditLayout['components']>(\n    (acc, [key, componentLayout]) => {\n      return {\n        ...acc,\n        [key]: {\n          ...componentLayout,\n          layout: componentLayout.layout.map((row) => row.map(decorateField)),\n        },\n      };\n    },\n    {}\n  );\n\n  return {\n    layout: {\n      ...layout,\n      components,\n      layout: layout.layout.map((panel) => panel.map((row) => row.map(decorateField))),\n    },\n  } satisfies Pick<MutateEditViewArgs, 'layout'>;\n};\n\nconst isFieldLocalized = (attribute: EditFieldLayout['attribute'], layout: EditLayout) => {\n  const contentTypeLocalized =\n    !!(layout.options as any)?.i18n && !!(layout.options as any).i18n.localized;\n\n  if (!contentTypeLocalized) {\n    return false;\n  }\n\n  const pluginOptions =\n    attribute && typeof attribute === 'object' && 'pluginOptions' in (attribute as object)\n      ? (attribute as { pluginOptions?: { i18n?: { localized?: boolean } } }).pluginOptions\n      : undefined;\n\n  return pluginOptions?.i18n?.localized === true;\n};\n\nconst addLabelActionToField = (field: EditFieldLayout, layout: EditLayout) => {\n  const localized = isFieldLocalized(field.attribute, layout);\n\n  if (!localized) {\n    return field;\n  }\n\n  const title: MessageDescriptor = {\n    id: getTranslation('Field.localized'),\n    defaultMessage: 'This value is unique for the selected locale',\n  };\n\n  return {\n    ...field,\n    labelAction: <LabelAction title={title} />,\n  };\n};\n\n/* -------------------------------------------------------------------------------------------------\n * LabelAction\n * -----------------------------------------------------------------------------------------------*/\n\ninterface LabelActionProps {\n  title: MessageDescriptor;\n}\n\nconst LabelAction = ({ title }: LabelActionProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <Span tag=\"span\" title={title}>\n      <VisuallyHidden tag=\"span\">{formatMessage(title)}</VisuallyHidden>\n      <Tooltip label={formatMessage(title)}>\n        <Earth aria-hidden focusable={false} />\n      </Tooltip>\n    </Span>\n  );\n};\n\nconst Span = styled(Flex)`\n  svg {\n    width: 12px;\n    height: 12px;\n\n    fill: ${({ theme }) => theme.colors.neutral500};\n\n    path {\n      fill: ${({ theme }) => theme.colors.neutral500};\n    }\n  }\n`;\n\nexport { mutateEditViewHook };\n", "import { useQueryParams } from '@strapi/admin/strapi-admin';\nimport { Flex, Menu, Typography, useCollator } from '@strapi/design-system';\nimport { stringify } from 'qs';\nimport { useIntl } from 'react-intl';\nimport { useNavigate } from 'react-router-dom';\n\nimport { useGetLocalesQuery } from '../services/locales';\nimport { getTranslation } from '../utils/getTranslation';\n\nimport type { I18nBaseQuery } from '../types';\n\ninterface LocaleListCellProps {\n  localizations: { locale: string }[];\n  locale: string;\n  documentId: string;\n}\n\nconst LocaleListCell = ({\n  locale: currentLocale,\n  localizations,\n  documentId,\n}: LocaleListCellProps) => {\n  const { locale: language, formatMessage } = useIntl();\n  const { data: locales = [] } = useGetLocalesQuery();\n  const navigate = useNavigate();\n  const [{ query }] = useQueryParams<I18nBaseQuery>();\n  const formatter = useCollator(language, {\n    sensitivity: 'base',\n  });\n\n  if (!Array.isArray(locales) || !localizations) {\n    return null;\n  }\n\n  const availableLocales = localizations.map((loc) => loc.locale);\n\n  const localesForDocument = locales\n    .reduce<Array<{ code: string; name: string }>>((acc, locale) => {\n      const createdLocale = [currentLocale, ...availableLocales].find((loc) => {\n        return loc === locale.code;\n      });\n\n      if (createdLocale) {\n        const name = locale.isDefault ? `${locale.name} (default)` : locale.name;\n        acc.push({ code: locale.code, name });\n      }\n\n      return acc;\n    }, [])\n    .toSorted((a, b) => formatter.compare(a.name, b.name));\n\n  const getDisplayText = () => {\n    const displayedLocales = localesForDocument.slice(0, 2);\n    const remainingCount = localesForDocument.length - 2;\n\n    const baseText = displayedLocales.map(({ name }) => name).join(', ');\n\n    if (remainingCount <= 0) {\n      return baseText;\n    }\n\n    return formatMessage(\n      {\n        id: getTranslation('CMListView.popover.display-locales.more'),\n        defaultMessage: '{locales} + {count} more',\n      },\n      { locales: baseText, count: remainingCount }\n    );\n  };\n\n  const handleLocaleClick = (localeCode: string) => {\n    navigate({\n      pathname: documentId,\n      search: stringify({\n        plugins: {\n          ...query.plugins,\n          i18n: { locale: localeCode },\n        },\n      }),\n    });\n  };\n\n  return (\n    <Menu.Root>\n      <Menu.Trigger>\n        <Flex minWidth=\"100%\" alignItems=\"center\" justifyContent=\"center\" fontWeight=\"regular\">\n          <Typography textColor=\"neutral800\" ellipsis marginRight={2}>\n            {getDisplayText()}\n          </Typography>\n        </Flex>\n      </Menu.Trigger>\n      <Menu.Content>\n        {localesForDocument.map(({ code, name }) => (\n          <Menu.Item\n            key={code}\n            onClick={(e: React.MouseEvent) => {\n              e.stopPropagation();\n              handleLocaleClick(code);\n            }}\n          >\n            <Typography textColor=\"neutral800\" fontWeight=\"regular\">\n              {name}\n            </Typography>\n          </Menu.Item>\n        ))}\n      </Menu.Content>\n    </Menu.Root>\n  );\n};\n\nexport { LocaleListCell };\nexport type { LocaleListCellProps };\n", "/* eslint-disable check-file/filename-naming-convention */\nimport { LocaleListCell } from '../components/LocaleListCell';\nimport { doesPluginOptionsHaveI18nLocalized } from '../utils/fields';\nimport { getTranslation } from '../utils/getTranslation';\n\nimport type { ListFieldLayout, ListLayout } from '@strapi/content-manager/strapi-admin';\n\n/* -------------------------------------------------------------------------------------------------\n * addColumnToTableHook\n * -----------------------------------------------------------------------------------------------*/\ninterface AddColumnToTableHookArgs {\n  layout: ListLayout;\n  displayedHeaders: ListFieldLayout[];\n}\n\nconst addColumnToTableHook = ({ displayedHeaders, layout }: AddColumnToTableHookArgs) => {\n  const { options } = layout;\n\n  const isFieldLocalized = doesPluginOptionsHaveI18nLocalized(options)\n    ? options.i18n.localized\n    : false;\n\n  if (!isFieldLocalized) {\n    return { displayedHeaders, layout };\n  }\n\n  return {\n    displayedHeaders: [\n      ...displayedHeaders,\n      {\n        attribute: { type: 'string' },\n        label: {\n          id: getTranslation('list-view.table.header.label'),\n          defaultMessage: 'Available in',\n        },\n        searchable: false,\n        sortable: false,\n        name: 'locales',\n        // @ts-expect-error  ID is seen as number | string; this will change when we move the type over.\n        cellFormatter: (props, _header, meta) => (\n          <LocaleListCell {...props} {...meta} documentId={props.documentId} />\n        ),\n      },\n    ],\n    layout,\n  };\n};\n\nexport { addColumnToTableHook };\n", "import type { Schema } from '@strapi/types';\n/* -------------------------------------------------------------------------------------------------\n * addLocaleToReleasesHook\n * -----------------------------------------------------------------------------------------------*/\ninterface AddLocaleToReleasesHookArgs {\n  displayedHeaders: {\n    key: string;\n    fieldSchema: Schema.Attribute.Kind | 'custom';\n    metadatas: {\n      label: { id: string; defaultMessage: string };\n      searchable: boolean;\n      sortable: boolean;\n    };\n    name: string;\n  }[];\n  hasI18nEnabled: boolean;\n}\n\nconst addLocaleToReleasesHook = ({ displayedHeaders = [] }: AddLocaleToReleasesHookArgs) => {\n  return {\n    displayedHeaders: [\n      ...displayedHeaders,\n      {\n        label: {\n          id: 'content-releases.page.ReleaseDetails.table.header.label.locale',\n          defaultMessage: 'locale',\n        },\n        name: 'locale',\n      },\n    ],\n    hasI18nEnabled: true,\n  };\n};\n\nexport { addLocaleToReleasesHook };\n", "import get from 'lodash/get';\n\nimport type { Middleware } from '@reduxjs/toolkit';\nimport type { Store } from '@strapi/admin/strapi-admin';\n\nconst extendCTBAttributeInitialDataMiddleware: () => Middleware<\n  object,\n  ReturnType<Store['getState']>\n> = () => {\n  return ({ getState }) =>\n    (next) =>\n    (action) => {\n      const enhanceAction = ({ uid }: { uid: string }) => {\n        // the block here is to catch the error when trying to access the state\n        // of the ctb when the plugin is not mounted\n        try {\n          const store = getState();\n\n          const type = get(store, [\n            'content-type-builder_dataManagerProvider',\n            'current',\n            'contentTypes',\n            uid,\n          ]);\n\n          if (!type || type.modelType !== 'contentType') {\n            return next(action);\n          }\n\n          const hasi18nEnabled = get(type, ['pluginOptions', 'i18n', 'localized'], false);\n\n          if (hasi18nEnabled) {\n            return next({\n              ...action,\n              payload: {\n                ...action.payload,\n                options: {\n                  pluginOptions: {\n                    ...(action?.payload?.options?.pluginOptions ?? {}),\n                    i18n: {\n                      localized: true,\n                    },\n                  },\n                },\n              },\n            });\n          }\n\n          return next(action);\n        } catch (err) {\n          return next(action);\n        }\n      };\n\n      const { payload = {}, type } = action ?? {};\n\n      if (\n        type === 'formModal/setAttributeDataSchema' &&\n        !['relation', 'component'].includes(payload.attributeType) &&\n        !payload.isEditing\n      ) {\n        return enhanceAction({\n          uid: payload.uid,\n        });\n      }\n\n      if (type === 'formModal/setCustomFieldDataSchema' && !payload.isEditing) {\n        return enhanceAction({\n          uid: payload.uid,\n        });\n      }\n\n      if (\n        type === 'formModal/resetPropsAndSetFormForAddingAnExistingCompo' ||\n        type === 'formModal/resetPropsAndSaveCurrentData'\n      ) {\n        return enhanceAction({\n          uid: payload.uid,\n        });\n      }\n\n      return next(action);\n    };\n};\n\nexport { extendCTBAttributeInitialDataMiddleware };\n", "import type { Middleware } from '@reduxjs/toolkit';\nimport type { Store } from '@strapi/admin/strapi-admin';\n\nconst extendCTBInitialDataMiddleware: () => Middleware<\n  object,\n  ReturnType<Store['getState']>\n> = () => {\n  return () => (next) => (action) => {\n    if (\n      action.type === 'ContentTypeBuilder/FormModal/SET_DATA_TO_EDIT' &&\n      action.modalType === 'contentType'\n    ) {\n      const i18n = { localized: false };\n\n      const pluginOptions = action.data.pluginOptions\n        ? { ...action.data.pluginOptions, i18n }\n        : { i18n };\n\n      const data = { ...action.data, pluginOptions };\n\n      if (action.actionType === 'create') {\n        return next({ ...action, data });\n      }\n\n      // Override the action if the pluginOption config does not contain i18n\n      // In this case we need to set the proper initialData shape\n      if (!action.data.pluginOptions?.i18n?.localized) {\n        return next({ ...action, data });\n      }\n    }\n\n    // action is not the one we want to override\n    return next(action);\n  };\n};\n\nexport { extendCTBInitialDataMiddleware };\n", "/* eslint-disable check-file/filename-naming-convention */\nimport * as qs from 'qs';\nimport { matchPath } from 'react-router-dom';\n\nimport type { RBACMiddleware } from '@strapi/admin/strapi-admin';\n\nconst localeMiddleware: RBACMiddleware = (ctx) => (next) => (permissions) => {\n  const match = matchPath('/content-manager/:collectionType/:model?/:id', ctx.pathname);\n\n  if (!match) {\n    return next(permissions);\n  }\n\n  const search = qs.parse(ctx.search);\n\n  if (typeof search !== 'object') {\n    return next(permissions);\n  }\n\n  if (!('plugins' in search && typeof search.plugins === 'object')) {\n    return next(permissions);\n  }\n\n  if (\n    !(\n      'i18n' in search.plugins &&\n      typeof search.plugins.i18n === 'object' &&\n      !Array.isArray(search.plugins.i18n)\n    )\n  ) {\n    return next(permissions);\n  }\n\n  const { locale } = search.plugins.i18n;\n\n  if (typeof locale !== 'string') {\n    return next(permissions);\n  }\n\n  const revisedPermissions = permissions.filter(\n    (permission) =>\n      !permission.properties?.locales || permission.properties.locales.includes(locale)\n  );\n\n  return next(revisedPermissions);\n};\n\nexport { localeMiddleware };\n", "type TradOptions = Record<string, string>;\n\nconst prefixPluginTranslations = (trad: TradOptions, pluginId: string): TradOptions => {\n  if (!pluginId) {\n    throw new TypeError(\"pluginId can't be empty\");\n  }\n  return Object.keys(trad).reduce((acc, current) => {\n    acc[`${pluginId}.${current}`] = trad[current];\n    return acc;\n  }, {} as TradOptions);\n};\n\nexport { prefixPluginTranslations };\n", "import omit from 'lodash/omit';\n\nimport { LOCALIZED_FIELDS, doesPluginOptionsHaveI18nLocalized } from './fields';\n\nimport type { Schema } from '@strapi/types';\n\n/* -------------------------------------------------------------------------------------------------\n * mutateCTBContentTypeSchema\n * -----------------------------------------------------------------------------------------------*/\n\n// TODO: refactor for CTB refactors\nconst mutateCTBContentTypeSchema = (\n  nextSchema: {\n    pluginOptions: Schema.ContentType['pluginOptions'];\n    attributes: Schema.Attribute.AnyAttribute[];\n    uid?: string;\n  },\n  prevSchema?: {\n    pluginOptions: Schema.ContentType['pluginOptions'];\n    attributes: Schema.Attribute.AnyAttribute[];\n    uid?: string;\n  }\n) => {\n  if (!prevSchema) {\n    return nextSchema;\n  }\n\n  // Don't perform mutations components\n  if (!doesPluginOptionsHaveI18nLocalized(nextSchema.pluginOptions)) {\n    return nextSchema;\n  }\n\n  const isNextSchemaLocalized = nextSchema.pluginOptions.i18n.localized;\n  const isPrevSchemaLocalized = doesPluginOptionsHaveI18nLocalized(prevSchema?.pluginOptions)\n    ? prevSchema?.pluginOptions.i18n.localized\n    : false;\n\n  // No need to perform modification on the schema, if the i18n feature was not changed\n  // at the ct level\n  if (isNextSchemaLocalized && isPrevSchemaLocalized) {\n    return nextSchema;\n  }\n\n  if (isNextSchemaLocalized) {\n    const attributes = addLocalisationToFields(nextSchema.attributes);\n\n    return {\n      ...nextSchema,\n      attributes,\n    };\n  }\n\n  // Remove the i18n object from the pluginOptions\n  if (!isNextSchemaLocalized) {\n    const pluginOptions = omit(nextSchema.pluginOptions, 'i18n');\n    const attributes = disableAttributesLocalisation(nextSchema.attributes);\n\n    return {\n      ...nextSchema,\n      pluginOptions,\n      attributes,\n    };\n  }\n\n  return nextSchema;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * addLocalisationToFields\n * -----------------------------------------------------------------------------------------------*/\n\nconst addLocalisationToFields = (attributes: Schema.Attribute.AnyAttribute[]) => {\n  return attributes.map((currentAttribute) => {\n    if (LOCALIZED_FIELDS.includes(currentAttribute.type)) {\n      const i18n = { localized: true };\n\n      const pluginOptions = currentAttribute.pluginOptions\n        ? { ...currentAttribute.pluginOptions, i18n }\n        : { i18n };\n\n      return { ...currentAttribute, pluginOptions };\n    }\n\n    return currentAttribute;\n  });\n};\n\n/* -------------------------------------------------------------------------------------------------\n * disableAttributesLocalisation\n * -----------------------------------------------------------------------------------------------*/\n\nconst disableAttributesLocalisation = (attributes: Schema.Attribute.AnyAttribute[]) => {\n  return attributes.map((currentAttribute) => {\n    return omit(currentAttribute, 'pluginOptions.i18n');\n  });\n};\n\nexport { mutateCTBContentTypeSchema };\n", "import get from 'lodash/get';\nimport * as yup from 'yup';\n\nimport { CheckboxConfirmation } from './components/CheckboxConfirmation';\nimport {\n  BulkLocalePublishAction,\n  BulkLocaleUnpublishAction,\n  DeleteLocaleAction,\n  LocalePickerAction,\n  FillFromAnotherLocaleAction,\n  AITranslationStatusAction,\n} from './components/CMHeaderActions';\nimport {\n  DeleteModalAdditionalInfo,\n  PublishModalAdditionalInfo,\n  UnpublishModalAdditionalInfo,\n} from './components/CMListViewModalsAdditionalInformation';\nimport { LocalePicker } from './components/LocalePicker';\nimport { PERMISSIONS } from './constants';\nimport { mutateEditViewHook } from './contentManagerHooks/editView';\nimport { addColumnToTableHook } from './contentManagerHooks/listView';\nimport { addLocaleToReleasesHook } from './contentReleasesHooks/releaseDetailsView';\nimport { extendCTBAttributeInitialDataMiddleware } from './middlewares/extendCTBAttributeInitialData';\nimport { extendCTBInitialDataMiddleware } from './middlewares/extendCTBInitialData';\nimport { localeMiddleware } from './middlewares/rbac-middleware';\nimport { pluginId } from './pluginId';\nimport { i18nApi } from './services/api';\nimport { LOCALIZED_FIELDS } from './utils/fields';\nimport { getTranslation } from './utils/getTranslation';\nimport { prefixPluginTranslations } from './utils/prefixPluginTranslations';\nimport { mutateCTBContentTypeSchema } from './utils/schemas';\n\nimport type { DocumentActionComponent } from '@strapi/content-manager/strapi-admin';\n\n// eslint-disable-next-line import/no-default-export\nexport default {\n  register(app: any) {\n    app.addMiddlewares([extendCTBAttributeInitialDataMiddleware, extendCTBInitialDataMiddleware]);\n    app.addMiddlewares([() => i18nApi.middleware]);\n    app.addReducers({\n      [i18nApi.reducerPath]: i18nApi.reducer,\n    });\n    app.addRBACMiddleware([localeMiddleware]);\n    app.registerPlugin({\n      id: pluginId,\n      name: pluginId,\n    });\n  },\n  bootstrap(app: any) {\n    // // Hook that adds a column into the CM's LV table\n    app.registerHook('Admin/CM/pages/ListView/inject-column-in-table', addColumnToTableHook);\n    app.registerHook('Admin/CM/pages/EditView/mutate-edit-view-layout', mutateEditViewHook);\n    // Hooks that checks if the locale is present in the release\n    app.registerHook(\n      'ContentReleases/pages/ReleaseDetails/add-locale-in-releases',\n      addLocaleToReleasesHook\n    );\n\n    // Add the settings link\n    app.addSettingsLink('global', {\n      intlLabel: {\n        id: getTranslation('plugin.name'),\n        defaultMessage: 'Internationalization',\n      },\n      id: 'internationalization',\n      to: 'internationalization',\n      Component: () =>\n        import('./pages/SettingsPage').then((mod) => ({ default: mod.ProtectedSettingsPage })),\n      permissions: PERMISSIONS.accessMain,\n    });\n\n    const contentManager = app.getPlugin('content-manager');\n\n    contentManager.apis.addDocumentHeaderAction([\n      AITranslationStatusAction,\n      LocalePickerAction,\n      FillFromAnotherLocaleAction,\n    ]);\n    contentManager.apis.addDocumentAction((actions: DocumentActionComponent[]) => {\n      const indexOfDeleteAction = actions.findIndex((action) => action.type === 'delete');\n      actions.splice(indexOfDeleteAction, 0, DeleteLocaleAction);\n      return actions;\n    });\n\n    contentManager.apis.addDocumentAction((actions: DocumentActionComponent[]) => {\n      // When enabled the bulk locale publish action should be the first action\n      // in 'More Document Actions' and therefore the third action in the array\n      actions.splice(2, 0, BulkLocalePublishAction);\n      actions.splice(5, 0, BulkLocaleUnpublishAction);\n      return actions;\n    });\n\n    contentManager.injectComponent('listView', 'actions', {\n      name: 'i18n-locale-filter',\n      Component: LocalePicker,\n    });\n\n    contentManager.injectComponent('listView', 'publishModalAdditionalInfos', {\n      name: 'i18n-publish-bullets-in-modal',\n      Component: PublishModalAdditionalInfo,\n    });\n\n    contentManager.injectComponent('listView', 'unpublishModalAdditionalInfos', {\n      name: 'i18n-unpublish-bullets-in-modal',\n      Component: UnpublishModalAdditionalInfo,\n    });\n\n    contentManager.injectComponent('listView', 'deleteModalAdditionalInfos', {\n      name: 'i18n-delete-bullets-in-modal',\n      Component: DeleteModalAdditionalInfo,\n    });\n\n    const ctbPlugin = app.getPlugin('content-type-builder');\n\n    if (ctbPlugin) {\n      const ctbFormsAPI = ctbPlugin.apis.forms;\n      ctbFormsAPI.addContentTypeSchemaMutation(mutateCTBContentTypeSchema);\n      ctbFormsAPI.components.add({ id: 'checkboxConfirmation', component: CheckboxConfirmation });\n\n      ctbFormsAPI.extendContentType({\n        validator: () => ({\n          i18n: yup.object().shape({\n            localized: yup.bool(),\n          }),\n        }),\n        form: {\n          advanced() {\n            return [\n              {\n                name: 'pluginOptions.i18n.localized',\n                description: {\n                  id: getTranslation('plugin.schema.i18n.localized.description-content-type'),\n                  defaultMessage: 'Allows translating an entry into different languages',\n                },\n                type: 'checkboxConfirmation',\n                intlLabel: {\n                  id: getTranslation('plugin.schema.i18n.localized.label-content-type'),\n                  defaultMessage: 'Localization',\n                },\n              },\n            ];\n          },\n        },\n      });\n\n      ctbFormsAPI.extendFields(LOCALIZED_FIELDS, {\n        form: {\n          advanced({ contentTypeSchema, forTarget, type, step }: any) {\n            if (forTarget !== 'contentType') {\n              return [];\n            }\n\n            const hasI18nEnabled = get(\n              contentTypeSchema,\n              ['pluginOptions', 'i18n', 'localized'],\n              false\n            );\n\n            if (!hasI18nEnabled) {\n              return [];\n            }\n\n            if (type === 'component' && step === '1') {\n              return [];\n            }\n\n            return [\n              {\n                name: 'pluginOptions.i18n.localized',\n                description: {\n                  id: getTranslation('plugin.schema.i18n.localized.description-field'),\n                  defaultMessage: 'The field can have different values in each locale',\n                },\n                type: 'checkbox',\n                intlLabel: {\n                  id: getTranslation('plugin.schema.i18n.localized.label-field'),\n                  defaultMessage: 'Enable localization for this field',\n                },\n              },\n            ];\n          },\n        },\n      });\n    }\n  },\n  async registerTrads({ locales }: { locales: string[] }) {\n    const importedTrads = await Promise.all(\n      locales.map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: prefixPluginTranslations(data, pluginId),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n", "import * as React from 'react';\n\nimport {\n  useAPIErrorHandler,\n  useNotification,\n  useQueryParams,\n  useRBAC,\n  isFetchError,\n} from '@strapi/admin/strapi-admin';\nimport { unstable_useDocumentLayout as useDocumentLayout } from '@strapi/content-manager/strapi-admin';\nimport {\n  Box,\n  Button,\n  Flex,\n  SingleSelect,\n  SingleSelectOption,\n  EmptyStateLayout,\n  LinkButton,\n  Field,\n  Modal,\n} from '@strapi/design-system';\nimport { PaperPlane } from '@strapi/icons';\nimport { EmptyDocuments } from '@strapi/icons/symbols';\nimport { useFormik } from 'formik';\nimport { useIntl } from 'react-intl';\nimport { Link as ReactRouterLink } from 'react-router-dom';\nimport * as yup from 'yup';\n\nimport { CreateReleaseAction } from '../../../shared/contracts/release-actions';\nimport { PERMISSIONS } from '../constants';\nimport { useCreateReleaseActionMutation, useGetReleasesForEntryQuery } from '../services/release';\n\nimport { ReleaseActionOptions } from './ReleaseActionOptions';\n\nimport type {\n  DocumentActionComponent,\n  DocumentActionProps,\n} from '@strapi/content-manager/strapi-admin';\nimport type { UID } from '@strapi/types';\n\n/* -------------------------------------------------------------------------------------------------\n * AddActionToReleaseModal\n * -----------------------------------------------------------------------------------------------*/\nexport const RELEASE_ACTION_FORM_SCHEMA = yup.object().shape({\n  type: yup.string().oneOf(['publish', 'unpublish']).required(),\n  releaseId: yup.string().required(),\n});\n\nexport interface FormValues {\n  type: CreateReleaseAction.Request['body']['type'];\n  releaseId: CreateReleaseAction.Request['params']['releaseId'];\n}\n\nexport const INITIAL_VALUES = {\n  type: 'publish',\n  releaseId: '',\n} satisfies FormValues;\n\ninterface AddActionToReleaseModalProps {\n  contentType: string;\n  documentId?: string;\n  onInputChange: (field: keyof FormValues, value: string | number) => void;\n  values: FormValues;\n}\n\nexport const NoReleases = () => {\n  const { formatMessage } = useIntl();\n  return (\n    <EmptyStateLayout\n      icon={<EmptyDocuments width=\"16rem\" />}\n      content={formatMessage({\n        id: 'content-releases.content-manager-edit-view.add-to-release.no-releases-message',\n        defaultMessage:\n          'No available releases. Open the list of releases and create a new one from there.',\n      })}\n      action={\n        <LinkButton\n          to={{\n            pathname: '/plugins/content-releases',\n          }}\n          tag={ReactRouterLink}\n          variant=\"secondary\"\n        >\n          {formatMessage({\n            id: 'content-releases.content-manager-edit-view.add-to-release.redirect-button',\n            defaultMessage: 'Open the list of releases',\n          })}\n        </LinkButton>\n      }\n      shadow=\"none\"\n    />\n  );\n};\n\nconst AddActionToReleaseModal = ({\n  contentType,\n  documentId,\n  onInputChange,\n  values,\n}: AddActionToReleaseModalProps) => {\n  const { formatMessage } = useIntl();\n  const [{ query }] = useQueryParams<{ plugins?: { i18n?: { locale?: string } } }>();\n  const locale = query.plugins?.i18n?.locale;\n\n  // Get all 'pending' releases that do not have the entry attached\n  const response = useGetReleasesForEntryQuery({\n    contentType,\n    entryDocumentId: documentId,\n    hasEntryAttached: false,\n    locale,\n  });\n\n  const releases = response.data?.data;\n\n  if (releases?.length === 0) {\n    return <NoReleases />;\n  }\n\n  return (\n    <Flex direction=\"column\" alignItems=\"stretch\" gap={2}>\n      <Box paddingBottom={6}>\n        <Field.Root required>\n          <Field.Label>\n            {formatMessage({\n              id: 'content-releases.content-manager-edit-view.add-to-release.select-label',\n              defaultMessage: 'Select a release',\n            })}\n          </Field.Label>\n          <SingleSelect\n            required\n            placeholder={formatMessage({\n              id: 'content-releases.content-manager-edit-view.add-to-release.select-placeholder',\n              defaultMessage: 'Select',\n            })}\n            name=\"releaseId\"\n            onChange={(value) => onInputChange('releaseId', value)}\n            value={values.releaseId}\n          >\n            {releases?.map((release) => (\n              <SingleSelectOption key={release.id} value={release.id}>\n                {release.name}\n              </SingleSelectOption>\n            ))}\n          </SingleSelect>\n        </Field.Root>\n      </Box>\n      <Field.Label>\n        {formatMessage({\n          id: 'content-releases.content-manager-edit-view.add-to-release.action-type-label',\n          defaultMessage: 'What do you want to do with this entry?',\n        })}\n      </Field.Label>\n      <ReleaseActionOptions\n        selected={values.type}\n        handleChange={(e) => onInputChange('type', e.target.value)}\n        name=\"type\"\n      />\n    </Flex>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * ReleaseActionModalForm\n * -----------------------------------------------------------------------------------------------*/\n\nconst ReleaseActionModalForm: DocumentActionComponent = ({\n  documentId,\n  document,\n  model,\n  collectionType,\n}: DocumentActionProps) => {\n  const { formatMessage } = useIntl();\n  const { allowedActions } = useRBAC(PERMISSIONS);\n  const { canCreateAction } = allowedActions;\n  const [createReleaseAction, { isLoading }] = useCreateReleaseActionMutation();\n  const { toggleNotification } = useNotification();\n  const { formatAPIError } = useAPIErrorHandler();\n  const [{ query }] = useQueryParams<{ plugins?: { i18n?: { locale?: string } } }>();\n  const locale = query.plugins?.i18n?.locale;\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>, onClose: () => void) => {\n    try {\n      await formik.handleSubmit(e);\n      onClose();\n    } catch (error) {\n      if (isFetchError(error)) {\n        // Handle axios error\n        toggleNotification({\n          type: 'danger',\n          message: formatAPIError(error),\n        });\n      } else {\n        // Handle generic error\n        toggleNotification({\n          type: 'danger',\n          message: formatMessage({\n            id: 'notification.error',\n            defaultMessage: 'An error occurred',\n          }),\n        });\n      }\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: INITIAL_VALUES,\n    validationSchema: RELEASE_ACTION_FORM_SCHEMA,\n    onSubmit: async (values: FormValues) => {\n      if (collectionType === 'collection-types' && !documentId) {\n        throw new Error('Document id is required');\n      }\n\n      const response = await createReleaseAction({\n        body: {\n          type: values.type,\n          contentType: model as UID.ContentType,\n          entryDocumentId: documentId,\n          locale,\n        },\n        params: { releaseId: values.releaseId },\n      });\n\n      if ('data' in response) {\n        // Handle success\n        toggleNotification({\n          type: 'success',\n          message: formatMessage({\n            id: 'content-releases.content-manager-edit-view.add-to-release.notification.success',\n            defaultMessage: 'Entry added to release',\n          }),\n        });\n\n        return;\n      }\n\n      if ('error' in response) {\n        throw response.error;\n      }\n    },\n  });\n\n  const {\n    edit: { options },\n  } = useDocumentLayout(model);\n\n  // Project is not EE or contentType does not have draftAndPublish enabled\n  if (!window.strapi.isEE || !options?.draftAndPublish || !canCreateAction) {\n    return null;\n  }\n\n  if (collectionType === 'collection-types' && (!documentId || documentId === 'create')) {\n    return null;\n  }\n\n  return {\n    label: formatMessage({\n      id: 'content-releases.content-manager-edit-view.add-to-release',\n      defaultMessage: 'Add to release',\n    }),\n    icon: <PaperPlane />,\n    // Entry is creating so we don't want to allow adding it to a release\n    disabled: !document,\n    position: ['panel', 'table-row'],\n    dialog: {\n      type: 'modal',\n      title: formatMessage({\n        id: 'content-releases.content-manager-edit-view.add-to-release',\n        defaultMessage: 'Add to release',\n      }),\n      content: (\n        <AddActionToReleaseModal\n          contentType={model}\n          documentId={documentId}\n          onInputChange={formik.setFieldValue}\n          values={formik.values}\n        />\n      ),\n      footer: ({ onClose }) => (\n        <Modal.Footer>\n          <Button onClick={onClose} variant=\"tertiary\" name=\"cancel\">\n            {formatMessage({\n              id: 'content-releases.content-manager-edit-view.add-to-release.cancel-button',\n              defaultMessage: 'Cancel',\n            })}\n          </Button>\n          <Button\n            type=\"submit\"\n            // @ts-expect-error - formik ReactEvent types don't match button onClick types as they expect a MouseEvent\n            onClick={(e) => handleSubmit(e, onClose)}\n            disabled={!formik.values.releaseId}\n            loading={isLoading}\n          >\n            {formatMessage({\n              id: 'content-releases.content-manager-edit-view.add-to-release.continue-button',\n              defaultMessage: 'Continue',\n            })}\n          </Button>\n        </Modal.Footer>\n      ),\n    },\n  };\n};\n\nexport { ReleaseActionModalForm };\n", "import * as React from 'react';\n\nimport {\n  useAPIErrorHandler,\n  useNotification,\n  useQueryParams,\n  useRBAC,\n  isFetchError,\n} from '@strapi/admin/strapi-admin';\nimport { unstable_useContentManagerContext as useContentManagerContext } from '@strapi/content-manager/strapi-admin';\nimport {\n  Box,\n  Button,\n  Flex,\n  SingleSelect,\n  SingleSelectOption,\n  Modal,\n  Field,\n} from '@strapi/design-system';\nimport { Formik, Form } from 'formik';\nimport { useIntl } from 'react-intl';\n\nimport { CreateManyReleaseActions } from '../../../shared/contracts/release-actions';\nimport { PERMISSIONS as releasePermissions } from '../constants';\nimport { useCreateManyReleaseActionsMutation, useGetReleasesQuery } from '../services/release';\n\nimport {\n  type FormValues,\n  INITIAL_VALUES,\n  RELEASE_ACTION_FORM_SCHEMA,\n  NoReleases,\n} from './ReleaseActionModal';\nimport { ReleaseActionOptions } from './ReleaseActionOptions';\n\nimport type { BulkActionComponent } from '@strapi/content-manager/strapi-admin';\nimport type { UID } from '@strapi/types';\n\nconst getContentPermissions = (subject: string) => {\n  const permissions = {\n    publish: [\n      {\n        action: 'plugin::content-manager.explorer.publish',\n        subject,\n        id: '',\n        actionParameters: {},\n        properties: {},\n        conditions: [],\n      },\n    ],\n  };\n\n  return permissions;\n};\n\nconst ReleaseAction: BulkActionComponent = ({ documents, model }) => {\n  const { formatMessage } = useIntl();\n  const { toggleNotification } = useNotification();\n  const { formatAPIError } = useAPIErrorHandler();\n  const [{ query }] = useQueryParams<{ plugins?: { i18n?: { locale?: string } } }>();\n  const contentPermissions = getContentPermissions(model);\n  const {\n    allowedActions: { canPublish },\n  } = useRBAC(contentPermissions);\n  const {\n    allowedActions: { canCreate },\n  } = useRBAC(releasePermissions);\n  const { hasDraftAndPublish } = useContentManagerContext();\n\n  // Get all the releases not published\n  const response = useGetReleasesQuery();\n  const releases = response.data?.data;\n  const [createManyReleaseActions, { isLoading }] = useCreateManyReleaseActionsMutation();\n  const documentIds = documents.map((doc) => doc.documentId);\n\n  const handleSubmit = async (values: FormValues) => {\n    const locale = query.plugins?.i18n?.locale;\n\n    const releaseActionEntries: CreateManyReleaseActions.Request['body'] = documentIds.map(\n      (entryDocumentId) => ({\n        type: values.type,\n        contentType: model as UID.ContentType,\n        entryDocumentId,\n        locale,\n      })\n    );\n\n    const response = await createManyReleaseActions({\n      body: releaseActionEntries,\n      params: { releaseId: values.releaseId },\n    });\n\n    if ('data' in response) {\n      // Handle success\n\n      const notificationMessage = formatMessage(\n        {\n          id: 'content-releases.content-manager-list-view.add-to-release.notification.success.message',\n          defaultMessage:\n            '{entriesAlreadyInRelease} out of {totalEntries} entries were already in the release.',\n        },\n        {\n          entriesAlreadyInRelease: response.data.meta.entriesAlreadyInRelease,\n          totalEntries: response.data.meta.totalEntries,\n        }\n      );\n\n      const notification = {\n        type: 'success' as const,\n        title: formatMessage(\n          {\n            id: 'content-releases.content-manager-list-view.add-to-release.notification.success.title',\n            defaultMessage: 'Successfully added to release.',\n          },\n          {\n            entriesAlreadyInRelease: response.data.meta.entriesAlreadyInRelease,\n            totalEntries: response.data.meta.totalEntries,\n          }\n        ),\n        message: response.data.meta.entriesAlreadyInRelease ? notificationMessage : '',\n      };\n\n      toggleNotification(notification);\n\n      return true;\n    }\n\n    if ('error' in response) {\n      if (isFetchError(response.error)) {\n        // Handle fetch error\n        toggleNotification({\n          type: 'warning',\n          message: formatAPIError(response.error),\n        });\n      } else {\n        // Handle generic error\n        toggleNotification({\n          type: 'warning',\n          message: formatMessage({ id: 'notification.error', defaultMessage: 'An error occurred' }),\n        });\n      }\n    }\n  };\n\n  if (!hasDraftAndPublish || !canCreate || !canPublish) return null;\n\n  return {\n    actionType: 'release',\n    variant: 'tertiary',\n    label: formatMessage({\n      id: 'content-manager-list-view.add-to-release',\n      defaultMessage: 'Add to Release',\n    }),\n    dialog: {\n      type: 'modal',\n      title: formatMessage({\n        id: 'content-manager-list-view.add-to-release',\n        defaultMessage: 'Add to Release',\n      }),\n      content: ({ onClose }) => {\n        return (\n          <Formik\n            onSubmit={async (values) => {\n              const data = await handleSubmit(values);\n              if (data) {\n                return onClose();\n              }\n            }}\n            validationSchema={RELEASE_ACTION_FORM_SCHEMA}\n            initialValues={INITIAL_VALUES}\n          >\n            {({ values, setFieldValue }) => (\n              <Form>\n                {releases?.length === 0 ? (\n                  <NoReleases />\n                ) : (\n                  <Modal.Body>\n                    <Flex direction=\"column\" alignItems=\"stretch\" gap={2}>\n                      <Box paddingBottom={6}>\n                        <Field.Root required>\n                          <Field.Label>\n                            {formatMessage({\n                              id: 'content-releases.content-manager-list-view.add-to-release.select-label',\n                              defaultMessage: 'Select a release',\n                            })}\n                          </Field.Label>\n                          <SingleSelect\n                            placeholder={formatMessage({\n                              id: 'content-releases.content-manager-list-view.add-to-release.select-placeholder',\n                              defaultMessage: 'Select',\n                            })}\n                            onChange={(value) => setFieldValue('releaseId', value)}\n                            value={values.releaseId}\n                          >\n                            {releases?.map((release) => (\n                              <SingleSelectOption key={release.id} value={release.id}>\n                                {release.name}\n                              </SingleSelectOption>\n                            ))}\n                          </SingleSelect>\n                        </Field.Root>\n                      </Box>\n                      <Field.Label>\n                        {formatMessage({\n                          id: 'content-releases.content-manager-list-view.add-to-release.action-type-label',\n                          defaultMessage: 'What do you want to do with these entries?',\n                        })}\n                      </Field.Label>\n                      <ReleaseActionOptions\n                        selected={values.type}\n                        handleChange={(e) => setFieldValue('type', e.target.value)}\n                        name=\"type\"\n                      />\n                    </Flex>\n                  </Modal.Body>\n                )}\n                <Modal.Footer>\n                  <Button onClick={onClose} variant=\"tertiary\" name=\"cancel\">\n                    {formatMessage({\n                      id: 'content-releases.content-manager-list-view.add-to-release.cancel-button',\n                      defaultMessage: 'Cancel',\n                    })}\n                  </Button>\n                  {/** * TODO: Ideally we would use isValid from Formik to disable the button,\n                  however currently it always returns true * for yup.string().required(), even when\n                  the value is falsy (including empty string) */}\n                  <Button type=\"submit\" disabled={!values.releaseId} loading={isLoading}>\n                    {formatMessage({\n                      id: 'content-releases.content-manager-list-view.add-to-release.continue-button',\n                      defaultMessage: 'Continue',\n                    })}\n                  </Button>\n                </Modal.Footer>\n              </Form>\n            )}\n          </Formik>\n        );\n      },\n    },\n  };\n};\n\nexport { ReleaseAction };\n", "import * as React from 'react';\n\nimport { useTable, useQueryParams } from '@strapi/admin/strapi-admin';\nimport { ListFieldLayout, ListLayout } from '@strapi/content-manager/strapi-admin';\nimport { Box, Popover, Typography, Button, Link } from '@strapi/design-system';\nimport { CaretDown } from '@strapi/icons';\nimport { useIntl } from 'react-intl';\n\nimport { useGetMappedEntriesInReleasesQuery } from '../services/release';\n\nimport type { Modules, UID } from '@strapi/types';\n\n/* -------------------------------------------------------------------------------------------------\n * useReleasesList\n * -----------------------------------------------------------------------------------------------*/\ninterface QueryParams {\n  plugins?: {\n    i18n?: {\n      locale: string;\n    };\n  };\n}\n\nconst useReleasesList = (contentTypeUid: UID.ContentType, documentId: Modules.Documents.ID) => {\n  const listViewData = useTable('ListView', (state) => state.rows);\n  const documentIds = listViewData.map((entry) => entry.documentId);\n  const [{ query }] = useQueryParams();\n  const locale = (query as QueryParams)?.plugins?.i18n?.locale || undefined;\n\n  const response = useGetMappedEntriesInReleasesQuery(\n    { contentTypeUid, documentIds, locale },\n    { skip: !documentIds || !contentTypeUid || documentIds.length === 0 }\n  );\n\n  const mappedEntriesInReleases = response.data || {};\n\n  return mappedEntriesInReleases?.[documentId] || [];\n};\n\n/* -------------------------------------------------------------------------------------------------\n * addColumnToTableHook\n * -----------------------------------------------------------------------------------------------*/\n\ninterface AddColumnToTableHookArgs {\n  layout: ListLayout;\n  displayedHeaders: ListFieldLayout[];\n}\n\nconst addColumnToTableHook = ({ displayedHeaders, layout }: AddColumnToTableHookArgs) => {\n  const { options } = layout;\n\n  if (!options?.draftAndPublish) {\n    return { displayedHeaders, layout };\n  }\n\n  return {\n    displayedHeaders: [\n      ...displayedHeaders,\n      {\n        searchable: false,\n        sortable: false,\n        name: 'releases',\n        label: {\n          id: 'content-releases.content-manager.list-view.releases.header',\n          defaultMessage: 'To be released in',\n        },\n        cellFormatter: (\n          props: Modules.Documents.AnyDocument,\n          _: any,\n          { model }: { model: UID.ContentType }\n        ) => <ReleaseListCell {...props} model={model} />,\n      },\n    ],\n    layout,\n  };\n};\n\n/* -------------------------------------------------------------------------------------------------\n * ReleaseListCell\n * -----------------------------------------------------------------------------------------------*/\n\ninterface ReleaseListCellProps extends Modules.Documents.AnyDocument {\n  documentId: Modules.Documents.ID;\n  model: UID.ContentType;\n}\n\nconst ReleaseListCell = ({ documentId, model }: ReleaseListCellProps) => {\n  const releases = useReleasesList(model, documentId);\n  const { formatMessage } = useIntl();\n\n  return (\n    <Popover.Root>\n      <Popover.Trigger>\n        <Button\n          variant=\"ghost\"\n          onClick={(e: React.MouseEvent<HTMLElement>) => e.stopPropagation()}\n          // TODO: find a way in the DS to define the widht and height of the icon\n          endIcon={releases.length > 0 ? <CaretDown width=\"1.2rem\" height=\"1.2rem\" /> : null}\n        >\n          <Typography\n            style={{ maxWidth: '252px', cursor: 'pointer' }}\n            textColor=\"neutral800\"\n            fontWeight=\"regular\"\n          >\n            {releases.length > 0\n              ? formatMessage(\n                  {\n                    id: 'content-releases.content-manager.list-view.releases-number',\n                    defaultMessage: '{number} {number, plural, one {release} other {releases}}',\n                  },\n                  {\n                    number: releases.length,\n                  }\n                )\n              : '-'}\n          </Typography>\n        </Button>\n      </Popover.Trigger>\n      <Popover.Content>\n        <ul>\n          {releases.map(({ id, name }) => (\n            <Box key={id} padding={3} tag=\"li\">\n              <Link href={`/admin/plugins/content-releases/${id}`} isExternal={false}>\n                {name}\n              </Link>\n            </Box>\n          ))}\n        </ul>\n      </Popover.Content>\n    </Popover.Root>\n  );\n};\n\nexport { ReleaseListCell, addColumnToTableHook };\nexport type { ReleaseListCellProps };\n", "import { useRBAC, useQueryParams } from '@strapi/admin/strapi-admin';\nimport { unstable_useDocumentLayout as useDocumentLayout } from '@strapi/content-manager/strapi-admin';\nimport { Box, Flex, Typography } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\n\nimport { PERMISSIONS } from '../constants';\nimport { useGetReleasesForEntryQuery } from '../services/release';\nimport { getTimezoneOffset } from '../utils/time';\n\nimport { ReleaseActionMenu } from './ReleaseActionMenu';\n\nimport type { PanelComponent, PanelComponentProps } from '@strapi/content-manager/strapi-admin';\n\nconst Panel: PanelComponent = ({\n  model,\n  document,\n  documentId,\n  collectionType,\n}: PanelComponentProps) => {\n  const [{ query }] = useQueryParams<{ plugins: { i18n: { locale: string } } }>();\n  const locale = query.plugins?.i18n?.locale;\n\n  const {\n    edit: { options },\n  } = useDocumentLayout(model);\n  const { formatMessage, formatDate, formatTime } = useIntl();\n\n  const { allowedActions } = useRBAC(PERMISSIONS);\n  const { canRead, canDeleteAction } = allowedActions;\n\n  const response = useGetReleasesForEntryQuery(\n    {\n      contentType: model,\n      entryDocumentId: documentId,\n      locale,\n      hasEntryAttached: true,\n    },\n    {\n      skip: !document,\n    }\n  );\n  const releases = response.data?.data;\n\n  const getReleaseColorVariant = (\n    actionType: 'publish' | 'unpublish',\n    shade: '100' | '200' | '600'\n  ) => {\n    if (actionType === 'unpublish') {\n      return `secondary${shade}`;\n    }\n\n    return `success${shade}`;\n  };\n\n  // Project is not EE or contentType does not have draftAndPublish enabled\n  if (!window.strapi.isEE || !options?.draftAndPublish || !canRead) {\n    return null;\n  }\n\n  if (collectionType === 'collection-types' && (!documentId || documentId === 'create')) {\n    return null;\n  }\n\n  if (!releases || releases.length === 0) {\n    return null;\n  }\n\n  return {\n    title: formatMessage({\n      id: 'content-releases.plugin.name',\n      defaultMessage: 'Releases',\n    }),\n    content: (\n      <Flex direction=\"column\" alignItems=\"stretch\" gap={3} width=\"100%\">\n        {releases?.map((release) => (\n          <Flex\n            key={release.id}\n            direction=\"column\"\n            alignItems=\"start\"\n            borderWidth=\"1px\"\n            borderStyle=\"solid\"\n            borderColor={getReleaseColorVariant(release.actions[0].type, '200')}\n            overflow=\"hidden\"\n            hasRadius\n          >\n            <Box\n              paddingTop={3}\n              paddingBottom={3}\n              paddingLeft={4}\n              paddingRight={4}\n              background={getReleaseColorVariant(release.actions[0].type, '100')}\n              width=\"100%\"\n            >\n              <Typography\n                fontSize={1}\n                variant=\"pi\"\n                textColor={getReleaseColorVariant(release.actions[0].type, '600')}\n              >\n                {formatMessage(\n                  {\n                    id: 'content-releases.content-manager-edit-view.list-releases.title',\n                    defaultMessage:\n                      '{isPublish, select, true {Will be published in} other {Will be unpublished in}}',\n                  },\n                  { isPublish: release.actions[0].type === 'publish' }\n                )}\n              </Typography>\n            </Box>\n            <Flex padding={4} direction=\"column\" gap={2} width=\"100%\" alignItems=\"flex-start\">\n              <Typography fontSize={2} fontWeight=\"bold\" variant=\"omega\" textColor=\"neutral700\">\n                {release.name}\n              </Typography>\n              {release.scheduledAt && release.timezone && (\n                <Typography variant=\"pi\" textColor=\"neutral600\">\n                  {formatMessage(\n                    {\n                      id: 'content-releases.content-manager-edit-view.scheduled.date',\n                      defaultMessage: '{date} at {time} ({offset})',\n                    },\n                    {\n                      date: formatDate(new Date(release.scheduledAt), {\n                        day: '2-digit',\n                        month: '2-digit',\n                        year: 'numeric',\n                        timeZone: release.timezone,\n                      }),\n                      time: formatTime(new Date(release.scheduledAt), {\n                        hourCycle: 'h23',\n                        timeZone: release.timezone,\n                      }),\n                      offset: getTimezoneOffset(release.timezone, new Date(release.scheduledAt)),\n                    }\n                  )}\n                </Typography>\n              )}\n              {canDeleteAction ? (\n                <ReleaseActionMenu.Root hasTriggerBorder>\n                  <ReleaseActionMenu.EditReleaseItem releaseId={release.id} />\n                  <ReleaseActionMenu.DeleteReleaseActionItem\n                    releaseId={release.id}\n                    actionId={release.actions[0].id}\n                  />\n                </ReleaseActionMenu.Root>\n              ) : null}\n            </Flex>\n          </Flex>\n        ))}\n      </Flex>\n    ),\n  };\n};\n\nexport { Panel };\n", "type TradOptions = Record<string, string>;\n\nconst prefixPluginTranslations = (trad: TradOptions, pluginId: string): TradOptions => {\n  if (!pluginId) {\n    throw new TypeError(\"pluginId can't be empty\");\n  }\n  return Object.keys(trad).reduce((acc, current) => {\n    acc[`${pluginId}.${current}`] = trad[current];\n    return acc;\n  }, {} as TradOptions);\n};\n\nexport { prefixPluginTranslations };\n", "import { PaperPlane } from '@strapi/icons';\n\nimport { ReleaseAction } from './components/ReleaseAction';\nimport { ReleaseActionModalForm } from './components/ReleaseActionModal';\nimport { addColumnToTableHook } from './components/ReleaseListCell';\nimport { Panel as ReleasesPanel } from './components/ReleasesPanel';\nimport { PERMISSIONS, PLUGIN_ID } from './constants';\nimport { pluginId } from './pluginId';\nimport { prefixPluginTranslations } from './utils/prefixPluginTranslations';\n\nimport type { StrapiApp } from '@strapi/admin/strapi-admin';\nimport type {\n  DocumentActionComponent,\n  BulkActionComponent,\n} from '@strapi/content-manager/strapi-admin';\nimport type { Plugin } from '@strapi/types';\n\n// eslint-disable-next-line import/no-default-export\nconst admin: Plugin.Config.AdminInput = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  register(app: StrapiApp) {\n    /**\n     * Hook that adds the locale column in the Release Details table\n     * @constant\n     * @type {string}\n     */\n    app.createHook('ContentReleases/pages/ReleaseDetails/add-locale-in-releases');\n\n    if (window.strapi.features.isEnabled('cms-content-releases')) {\n      app.addMenuLink({\n        to: `plugins/${pluginId}`,\n        icon: PaperPlane,\n        intlLabel: {\n          id: `${pluginId}.plugin.name`,\n          defaultMessage: 'Releases',\n        },\n        Component: () => import('./pages/App').then((mod) => ({ default: mod.App })),\n        permissions: PERMISSIONS.main,\n        position: 2,\n      });\n\n      // Insert the releases container into the CM's sidebar on the Edit View\n      const contentManagerPluginApis = app.getPlugin('content-manager').apis;\n      if (\n        'addEditViewSidePanel' in contentManagerPluginApis &&\n        typeof contentManagerPluginApis.addEditViewSidePanel === 'function'\n      ) {\n        contentManagerPluginApis.addEditViewSidePanel([ReleasesPanel]);\n      }\n\n      // Insert the \"add to release\" action into the CM's Edit View\n      if (\n        'addDocumentAction' in contentManagerPluginApis &&\n        typeof contentManagerPluginApis.addDocumentAction === 'function'\n      ) {\n        contentManagerPluginApis.addDocumentAction((actions: DocumentActionComponent[]) => {\n          const indexOfDeleteAction = actions.findIndex((action) => action.type === 'unpublish');\n          actions.splice(indexOfDeleteAction, 0, ReleaseActionModalForm);\n          return actions;\n        });\n      }\n\n      app.addSettingsLink('global', {\n        id: pluginId,\n        to: 'releases',\n        intlLabel: {\n          id: `${pluginId}.plugin.name`,\n          defaultMessage: 'Releases',\n        },\n        licenseOnly: true,\n        permissions: [],\n        async Component() {\n          const { ProtectedReleasesSettingsPage } = await import('./pages/ReleasesSettingsPage');\n          return { default: ProtectedReleasesSettingsPage };\n        },\n      });\n\n      if (\n        'addBulkAction' in contentManagerPluginApis &&\n        typeof contentManagerPluginApis.addBulkAction === 'function'\n      ) {\n        contentManagerPluginApis.addBulkAction((actions: BulkActionComponent[]) => {\n          // We want to add this action to just before the delete action all the time\n          const deleteActionIndex = actions.findIndex((action) => action.type === 'delete');\n\n          actions.splice(deleteActionIndex, 0, ReleaseAction);\n          return actions;\n        });\n      }\n\n      // Hook that adds a column into the CM's LV table\n      app.registerHook('Admin/CM/pages/ListView/inject-column-in-table', addColumnToTableHook);\n\n      app.widgets.register([\n        {\n          icon: PaperPlane,\n          title: {\n            id: `${PLUGIN_ID}.widget.upcoming-releases.title`,\n            defaultMessage: 'Upcoming releases',\n          },\n          component: async () => {\n            const { UpcomingReleasesWidget } = await import('./components/Widgets');\n            return UpcomingReleasesWidget;\n          },\n          pluginId: PLUGIN_ID,\n          id: 'upcoming-releases',\n          link: {\n            label: {\n              id: `${PLUGIN_ID}.widget.upcoming-releases.link`,\n              defaultMessage: 'Open Releases',\n            },\n            href: '/plugins/content-releases',\n          },\n        },\n      ]);\n    } else if (\n      !window.strapi.features.isEnabled('cms-content-releases') &&\n      window.strapi?.flags?.promoteEE\n    ) {\n      app.addSettingsLink('global', {\n        id: pluginId,\n        to: '/plugins/purchase-content-releases',\n        intlLabel: {\n          id: `${pluginId}.plugin.name`,\n          defaultMessage: 'Releases',\n        },\n        permissions: [],\n        async Component() {\n          const { PurchaseContentReleases } = await import('./pages/PurchaseContentReleases');\n          return { default: PurchaseContentReleases };\n        },\n        licenseOnly: true,\n      });\n    }\n  },\n  async registerTrads({ locales }: { locales: string[] }) {\n    const importedTrads = await Promise.all(\n      locales.map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: prefixPluginTranslations(data, 'content-releases'),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default admin;\n", "export const STAGE_ATTRIBUTE_NAME = 'strapi_stage';\nexport const ASSIGNEE_ATTRIBUTE_NAME = 'strapi_assignee';\n", "import * as React from 'react';\n\nimport {\n  useNotification,\n  useAPIErrorHandler,\n  useRBAC,\n  useAdminUsers,\n  useQueryParams,\n} from '@strapi/admin/strapi-admin';\nimport { unstable_useDocument } from '@strapi/content-manager/strapi-admin';\nimport { Combobox, ComboboxOption, Field, VisuallyHidden } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { useParams } from 'react-router-dom';\n\nimport { useTypedSelector } from '../../../../../modules/hooks';\nimport { useUpdateAssigneeMutation } from '../../../../../services/content-manager';\nimport { buildValidParams } from '../../../../../utils/api';\nimport { getDisplayName } from '../../../../../utils/users';\n\nimport { ASSIGNEE_ATTRIBUTE_NAME } from './constants';\n\nconst AssigneeSelect = ({ isCompact }: { isCompact?: boolean }) => {\n  const {\n    collectionType = '',\n    id,\n    slug: model = '',\n  } = useParams<{ collectionType: string; slug: string; id: string }>();\n  const permissions = useTypedSelector((state) => state.admin_app.permissions);\n  const { formatMessage } = useIntl();\n  const { _unstableFormatAPIError: formatAPIError } = useAPIErrorHandler();\n  const { toggleNotification } = useNotification();\n  const {\n    allowedActions: { canRead },\n    isLoading: isLoadingPermissions,\n  } = useRBAC(permissions.settings?.users);\n  const [{ query }] = useQueryParams();\n  const params = React.useMemo(() => buildValidParams(query), [query]);\n  const {\n    data,\n    isLoading: isLoadingUsers,\n    isError,\n  } = useAdminUsers(undefined, {\n    skip: isLoadingPermissions || !canRead,\n  });\n  const { document } = unstable_useDocument(\n    {\n      collectionType,\n      model,\n      documentId: id,\n    },\n    {\n      skip: !id && collectionType !== 'single-types',\n    }\n  );\n\n  const users = data?.users || [];\n\n  const currentAssignee = document ? document[ASSIGNEE_ATTRIBUTE_NAME] : null;\n\n  const [updateAssignee, { error, isLoading: isMutating }] = useUpdateAssigneeMutation();\n\n  if (!collectionType || !model || !document?.documentId) {\n    return null;\n  }\n\n  const handleChange = async (assigneeId: string | null) => {\n    // a simple way to avoid erroneous updates\n    if (currentAssignee?.id === assigneeId) {\n      return;\n    }\n\n    const res = await updateAssignee({\n      slug: collectionType,\n      model,\n      id: document.documentId,\n      params,\n      data: {\n        id: assigneeId ? parseInt(assigneeId, 10) : null,\n      },\n    });\n\n    if ('data' in res) {\n      toggleNotification({\n        type: 'success',\n        message: formatMessage({\n          id: 'content-manager.reviewWorkflows.assignee.notification.saved',\n          defaultMessage: 'Assignee updated',\n        }),\n      });\n    }\n\n    if (isCompact && 'error' in res) {\n      toggleNotification({\n        type: 'danger',\n        message: formatAPIError(res.error),\n      });\n    }\n  };\n\n  const isDisabled =\n    (!isLoadingPermissions && !isLoadingUsers && users.length === 0) || !document.documentId;\n  const isLoading = isLoadingUsers || isLoadingPermissions || isMutating;\n\n  const assigneeLabel = formatMessage({\n    id: 'content-manager.reviewWorkflows.assignee.label',\n    defaultMessage: 'Assignee',\n  });\n  const assigneeClearLabel = formatMessage({\n    id: 'content-manager.reviewWorkflows.assignee.clear',\n    defaultMessage: 'Clear assignee',\n  });\n  const assigneePlaceholder = formatMessage({\n    id: 'content-manager.reviewWorkflows.assignee.placeholder',\n    defaultMessage: 'Select',\n  });\n\n  if (isCompact) {\n    return (\n      <Field.Root name={ASSIGNEE_ATTRIBUTE_NAME} id={ASSIGNEE_ATTRIBUTE_NAME}>\n        <VisuallyHidden>\n          <Field.Label>{assigneeLabel}</Field.Label>\n        </VisuallyHidden>\n        <Combobox\n          clearLabel={assigneeClearLabel}\n          disabled={isDisabled}\n          value={currentAssignee ? currentAssignee.id.toString() : null}\n          onChange={handleChange}\n          onClear={() => handleChange(null)}\n          placeholder={assigneePlaceholder}\n          loading={isLoading || isLoadingPermissions || isMutating}\n          size=\"S\"\n        >\n          {users.map((user) => {\n            return (\n              <ComboboxOption\n                key={user.id}\n                value={user.id.toString()}\n                textValue={getDisplayName(user)}\n              >\n                {getDisplayName(user)}\n              </ComboboxOption>\n            );\n          })}\n        </Combobox>\n      </Field.Root>\n    );\n  }\n\n  return (\n    <Field.Root\n      name={ASSIGNEE_ATTRIBUTE_NAME}\n      id={ASSIGNEE_ATTRIBUTE_NAME}\n      error={\n        ((isError &&\n          canRead &&\n          formatMessage({\n            id: 'content-manager.reviewWorkflows.assignee.error',\n            defaultMessage: 'An error occurred while fetching users',\n          })) ||\n          (error && formatAPIError(error))) ??\n        undefined\n      }\n    >\n      <Field.Label>{assigneeLabel}</Field.Label>\n      <Combobox\n        clearLabel={assigneeClearLabel}\n        disabled={\n          (!isLoadingPermissions && !isLoading && users.length === 0) || !document.documentId\n        }\n        value={currentAssignee ? currentAssignee.id.toString() : null}\n        onChange={handleChange}\n        onClear={() => handleChange(null)}\n        placeholder={assigneePlaceholder}\n        loading={isLoading || isLoadingPermissions || isMutating}\n      >\n        {users.map((user) => {\n          return (\n            <ComboboxOption\n              key={user.id}\n              value={user.id.toString()}\n              textValue={getDisplayName(user)}\n            >\n              {getDisplayName(user)}\n            </ComboboxOption>\n          );\n        })}\n      </Combobox>\n      <Field.Error />\n    </Field.Root>\n  );\n};\n\nexport { AssigneeSelect };\n", "import * as React from 'react';\n\nimport { useNotification, useAPIErrorHandler, useQueryParams } from '@strapi/admin/strapi-admin';\nimport { useLicenseLimits } from '@strapi/admin/strapi-admin/ee';\nimport { unstable_useDocument } from '@strapi/content-manager/strapi-admin';\nimport {\n  SingleSelect,\n  type SingleSelectProps,\n  SingleSelectOption,\n  Field,\n  Flex,\n  Loader,\n  Typography,\n  VisuallyHidden,\n  Tooltip,\n} from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { useParams } from 'react-router-dom';\n\nimport { Stage } from '../../../../../../../shared/contracts/review-workflows';\nimport { LimitsModal, LimitsModalProps } from '../../../../../components/LimitsModal';\nimport {\n  CHARGEBEE_STAGES_PER_WORKFLOW_ENTITLEMENT_NAME,\n  CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME,\n} from '../../../../../constants';\nimport { useGetStagesQuery, useUpdateStageMutation } from '../../../../../services/content-manager';\nimport { buildValidParams } from '../../../../../utils/api';\nimport { getStageColorByHex } from '../../../../../utils/colors';\n\nimport { STAGE_ATTRIBUTE_NAME } from './constants';\n\nimport type { Data } from '@strapi/types';\n\n/* -------------------------------------------------------------------------------------------------\n * LimitModals\n * -----------------------------------------------------------------------------------------------*/\n\nconst WorkflowLimitModal = ({ open, onOpenChange }: LimitsModalProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <LimitsModal.Root open={open} onOpenChange={onOpenChange}>\n      <LimitsModal.Title>\n        {formatMessage({\n          id: 'content-manager.reviewWorkflows.workflows.limit.title',\n          defaultMessage: 'Youve reached the limit of workflows in your plan',\n        })}\n      </LimitsModal.Title>\n\n      <LimitsModal.Body>\n        {formatMessage({\n          id: 'content-manager.reviewWorkflows.workflows.limit.body',\n          defaultMessage: 'Delete a workflow or contact Sales to enable more workflows.',\n        })}\n      </LimitsModal.Body>\n    </LimitsModal.Root>\n  );\n};\n\nconst StageLimitModal = ({ open, onOpenChange }: LimitsModalProps) => {\n  const { formatMessage } = useIntl();\n\n  return (\n    <LimitsModal.Root open={open} onOpenChange={onOpenChange}>\n      <LimitsModal.Title>\n        {formatMessage({\n          id: 'content-manager.reviewWorkflows.stages.limit.title',\n          defaultMessage: 'You have reached the limit of stages for this workflow in your plan',\n        })}\n      </LimitsModal.Title>\n\n      <LimitsModal.Body>\n        {formatMessage({\n          id: 'content-manager.reviewWorkflows.stages.limit.body',\n          defaultMessage: 'Try deleting some stages or contact Sales to enable more stages.',\n        })}\n      </LimitsModal.Body>\n    </LimitsModal.Root>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * StageSelect\n * -----------------------------------------------------------------------------------------------*/\n\nconst Select = ({\n  stages,\n  activeWorkflowStage,\n  isLoading,\n  ...props\n}: SingleSelectProps & { stages: Stage[]; activeWorkflowStage: Stage; isLoading: boolean }) => {\n  const { formatMessage } = useIntl();\n  const { themeColorName } = getStageColorByHex(activeWorkflowStage?.color) ?? {};\n\n  return (\n    <SingleSelect\n      disabled={stages.length === 0}\n      placeholder={formatMessage({\n        id: 'content-manager.reviewWorkflows.assignee.placeholder',\n        defaultMessage: 'Select',\n      })}\n      startIcon={\n        activeWorkflowStage && (\n          <Flex\n            tag=\"span\"\n            height={2}\n            background={activeWorkflowStage?.color}\n            borderColor={themeColorName === 'neutral0' ? 'neutral150' : undefined}\n            hasRadius\n            shrink={0}\n            width={2}\n            marginRight=\"-3px\"\n          />\n        )\n      }\n      // @ts-expect-error  `customizeContent` is not correctly typed in the DS.\n      customizeContent={() => {\n        return (\n          <Flex tag=\"span\" justifyContent=\"space-between\" alignItems=\"center\" width=\"100%\">\n            <Typography textColor=\"neutral800\" ellipsis lineHeight=\"inherit\">\n              {activeWorkflowStage?.name ?? ''}\n            </Typography>\n            {isLoading ? <Loader small style={{ display: 'flex' }} data-testid=\"loader\" /> : null}\n          </Flex>\n        );\n      }}\n      {...props}\n    >\n      {stages.map(({ id, color, name }) => {\n        const { themeColorName } = getStageColorByHex(color) ?? {};\n\n        return (\n          <SingleSelectOption\n            key={id}\n            startIcon={\n              <Flex\n                height={2}\n                background={color}\n                borderColor={themeColorName === 'neutral0' ? 'neutral150' : undefined}\n                hasRadius\n                shrink={0}\n                width={2}\n              />\n            }\n            value={id}\n            textValue={name}\n          >\n            {name}\n          </SingleSelectOption>\n        );\n      })}\n    </SingleSelect>\n  );\n};\n\nexport const StageSelect = ({ isCompact }: { isCompact?: boolean }) => {\n  const {\n    collectionType = '',\n    slug: model = '',\n    id = '',\n  } = useParams<{\n    collectionType: string;\n    slug: string;\n    id: string;\n  }>();\n  const { formatMessage } = useIntl();\n  const { _unstableFormatAPIError: formatAPIError } = useAPIErrorHandler();\n  const { toggleNotification } = useNotification();\n  const [{ query }] = useQueryParams();\n  const params = React.useMemo(() => buildValidParams(query), [query]);\n  const { document, isLoading: isLoadingDocument } = unstable_useDocument(\n    {\n      collectionType,\n      model,\n      documentId: id,\n    },\n    {\n      skip: !id && collectionType !== 'single-types',\n    }\n  );\n\n  const { data, isLoading: isLoadingStages } = useGetStagesQuery(\n    {\n      slug: collectionType,\n      model: model,\n      // @ts-expect-error  `id` is not correctly typed in the DS.\n      id: document?.documentId,\n      params,\n    },\n    {\n      skip: !document?.documentId,\n    }\n  );\n\n  const { meta, stages = [] } = data ?? {};\n\n  const { getFeature } = useLicenseLimits();\n  const [showLimitModal, setShowLimitModal] = React.useState<'stage' | 'workflow' | null>(null);\n\n  const limits = getFeature<string>('review-workflows') ?? {};\n\n  const activeWorkflowStage = document ? document[STAGE_ATTRIBUTE_NAME] : null;\n\n  const [updateStage, { error }] = useUpdateStageMutation();\n\n  const handleChange = async (stageId: Data.ID) => {\n    try {\n      /**\n       * If the current license has a limit:\n       * check if the total count of workflows exceeds that limit and display\n       * the limits modal.\n       *\n       * If the current license does not have a limit (e.g. offline license):\n       * do nothing (for now).\n       *\n       */\n\n      if (\n        limits?.[CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME] &&\n        parseInt(limits[CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME], 10) < (meta?.workflowCount ?? 0)\n      ) {\n        setShowLimitModal('workflow');\n\n        /**\n         * If the current license has a limit:\n         * check if the total count of stages exceeds that limit and display\n         * the limits modal.\n         *\n         * If the current license does not have a limit (e.g. offline license):\n         * do nothing (for now).\n         *\n         */\n      } else if (\n        limits?.[CHARGEBEE_STAGES_PER_WORKFLOW_ENTITLEMENT_NAME] &&\n        parseInt(limits[CHARGEBEE_STAGES_PER_WORKFLOW_ENTITLEMENT_NAME], 10) < stages.length\n      ) {\n        setShowLimitModal('stage');\n      } else {\n        if (document?.documentId) {\n          const res = await updateStage({\n            model,\n            id: document.documentId,\n            slug: collectionType,\n            params,\n            data: { id: stageId },\n          });\n\n          if ('data' in res) {\n            toggleNotification({\n              type: 'success',\n              message: formatMessage({\n                id: 'content-manager.reviewWorkflows.stage.notification.saved',\n                defaultMessage: 'Review stage updated',\n              }),\n            });\n          }\n\n          if (isCompact && 'error' in res) {\n            toggleNotification({\n              type: 'danger',\n              message: formatAPIError(res.error),\n            });\n          }\n        }\n      }\n    } catch (error) {\n      toggleNotification({\n        type: 'danger',\n        message: formatMessage({\n          id: 'content-manager.reviewWorkflows.stage.notification.error',\n          defaultMessage: 'An error occurred while updating the review stage',\n        }),\n      });\n    }\n  };\n\n  const isLoading = isLoadingStages || isLoadingDocument;\n\n  const reviewStageLabel = formatMessage({\n    id: 'content-manager.reviewWorkflows.stage.label',\n    defaultMessage: 'Review stage',\n  });\n  const reviewStageHint =\n    !isLoading &&\n    stages.length === 0 &&\n    // TODO: Handle errors and hints\n    formatMessage({\n      id: 'content-manager.reviewWorkflows.stages.no-transition',\n      defaultMessage: 'You dont have the permission to update this stage.',\n    });\n\n  if (isCompact) {\n    return (\n      <>\n        <Tooltip label={reviewStageHint}>\n          <Field.Root name={STAGE_ATTRIBUTE_NAME} id={STAGE_ATTRIBUTE_NAME}>\n            <>\n              <VisuallyHidden>\n                <Field.Label>{reviewStageLabel}</Field.Label>\n              </VisuallyHidden>\n              <Select\n                stages={stages}\n                activeWorkflowStage={activeWorkflowStage}\n                isLoading={isLoading}\n                size=\"S\"\n                disabled={stages.length === 0}\n                value={activeWorkflowStage?.id}\n                onChange={handleChange}\n                placeholder={formatMessage({\n                  id: 'content-manager.reviewWorkflows.assignee.placeholder',\n                  defaultMessage: 'Select',\n                })}\n              />\n            </>\n          </Field.Root>\n        </Tooltip>\n        <WorkflowLimitModal\n          open={showLimitModal === 'workflow'}\n          onOpenChange={() => setShowLimitModal(null)}\n        />\n        <StageLimitModal\n          open={showLimitModal === 'stage'}\n          onOpenChange={() => setShowLimitModal(null)}\n        />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Field.Root\n        hint={reviewStageHint}\n        error={(error && formatAPIError(error)) || undefined}\n        name={STAGE_ATTRIBUTE_NAME}\n        id={STAGE_ATTRIBUTE_NAME}\n      >\n        <Field.Label>{reviewStageLabel}</Field.Label>\n        <Select\n          stages={stages}\n          activeWorkflowStage={activeWorkflowStage}\n          isLoading={isLoading}\n          disabled={stages.length === 0}\n          value={activeWorkflowStage?.id}\n          onChange={handleChange}\n          placeholder={formatMessage({\n            id: 'content-manager.reviewWorkflows.assignee.placeholder',\n            defaultMessage: 'Select',\n          })}\n        />\n        <Field.Hint />\n        <Field.Error />\n      </Field.Root>\n      <WorkflowLimitModal\n        open={showLimitModal === 'workflow'}\n        onOpenChange={() => setShowLimitModal(null)}\n      />\n      <StageLimitModal\n        open={showLimitModal === 'stage'}\n        onOpenChange={() => setShowLimitModal(null)}\n      />\n    </>\n  );\n};\n", "import { unstable_useDocumentLayout as useDocumentLayout } from '@strapi/content-manager/strapi-admin';\nimport { Flex } from '@strapi/design-system';\nimport { useParams } from 'react-router-dom';\n\nimport { AssigneeSelect } from './AssigneeSelect';\nimport { StageSelect } from './StageSelect';\n\nconst Header = () => {\n  const {\n    slug = '',\n    id,\n    collectionType,\n  } = useParams<{\n    collectionType: string;\n    slug: string;\n    id: string;\n  }>();\n\n  const {\n    edit: { options },\n  } = useDocumentLayout(slug);\n\n  if (\n    !window.strapi.isEE ||\n    !options?.reviewWorkflows ||\n    (collectionType !== 'single-types' && !id) ||\n    id === 'create'\n  ) {\n    return null;\n  }\n\n  return (\n    <Flex gap={2}>\n      <AssigneeSelect isCompact />\n      <StageSelect isCompact />\n    </Flex>\n  );\n};\n\nHeader.type = 'preview';\n\nexport { Header };\n", "import { unstable_useDocumentLayout as useDocumentLayout } from '@strapi/content-manager/strapi-admin';\nimport { Flex } from '@strapi/design-system';\nimport { useIntl } from 'react-intl';\nimport { useParams } from 'react-router-dom';\n\nimport { AssigneeSelect } from './AssigneeSelect';\nimport { StageSelect } from './StageSelect';\n\nimport type { PanelComponent } from '@strapi/content-manager/strapi-admin';\n\nconst Panel: PanelComponent = () => {\n  const {\n    slug = '',\n    id,\n    collectionType,\n  } = useParams<{\n    collectionType: string;\n    slug: string;\n    id: string;\n  }>();\n\n  const {\n    edit: { options },\n  } = useDocumentLayout(slug);\n  const { formatMessage } = useIntl();\n\n  if (\n    !window.strapi.isEE ||\n    !options?.reviewWorkflows ||\n    (collectionType !== 'single-types' && !id) ||\n    id === 'create'\n  ) {\n    return null;\n  }\n\n  return {\n    title: formatMessage({\n      id: 'content-manager.containers.edit.panels.review-workflows.title',\n      defaultMessage: 'Review Workflows',\n    }),\n    content: (\n      <Flex direction=\"column\" gap={2} alignItems=\"stretch\" width=\"100%\">\n        <AssigneeSelect />\n        <StageSelect />\n      </Flex>\n    ),\n  };\n};\n\n// @ts-expect-error  this is fine, we like to label the core panels / actions.\nPanel.type = 'review-workflows';\n\nexport { Panel };\n", "import { AssigneeFilter } from './components/AssigneeFilter';\nimport { StageFilter } from './components/StageFilter';\nimport { AssigneeColumn, StageColumn } from './components/TableColumns';\nimport { ASSIGNEE_ATTRIBUTE_NAME, STAGE_ATTRIBUTE_NAME } from './id/components/constants';\n\nimport type { Filters } from '@strapi/admin/strapi-admin';\nimport type { ListFieldLayout } from '@strapi/content-manager/strapi-admin';\nimport type { MessageDescriptor } from 'react-intl';\n\nexport const REVIEW_WORKFLOW_COLUMNS = [\n  {\n    name: STAGE_ATTRIBUTE_NAME,\n    attribute: {\n      type: 'relation',\n      relation: 'oneToMany',\n      target: 'admin::review-workflow-stage',\n    },\n    label: {\n      id: 'review-workflows.containers.list.table-headers.reviewWorkflows.stage',\n      defaultMessage: 'Review stage',\n    },\n    searchable: false,\n    sortable: true,\n    mainField: {\n      name: 'name',\n      type: 'string',\n    },\n    cellFormatter: (props) => <StageColumn {...props} />,\n  },\n  {\n    name: ASSIGNEE_ATTRIBUTE_NAME,\n    attribute: {\n      type: 'relation',\n      target: 'admin::user',\n      relation: 'oneToMany',\n    },\n    label: {\n      id: 'review-workflows.containers.list.table-headers.reviewWorkflows.assignee',\n      defaultMessage: 'Assignee',\n    },\n    searchable: false,\n    sortable: true,\n    mainField: {\n      name: 'firstname',\n      type: 'string',\n    },\n    cellFormatter: (props) => <AssigneeColumn {...props} />,\n  },\n] satisfies Array<Omit<ListFieldLayout, 'label'> & { label: MessageDescriptor }>;\n\nexport const REVIEW_WORKFLOW_FILTERS = [\n  {\n    mainField: {\n      name: 'name',\n      type: 'string',\n    },\n    input: StageFilter,\n    label: {\n      id: 'review-workflows.containers.list.table-headers.reviewWorkflows.stage',\n      defaultMessage: 'Review stage',\n    },\n    name: 'strapi_stage',\n    type: 'relation',\n  },\n\n  {\n    type: 'relation',\n    mainField: {\n      name: 'id',\n      type: 'integer',\n    },\n    input: AssigneeFilter,\n    operators: [\n      {\n        label: {\n          id: 'components.FilterOptions.FILTER_TYPES.$eq',\n          defaultMessage: 'is',\n        },\n        value: '$eq',\n      },\n      {\n        label: {\n          id: 'components.FilterOptions.FILTER_TYPES.$ne',\n          defaultMessage: 'is not',\n        },\n        value: '$ne',\n      },\n    ],\n    label: {\n      id: 'review-workflows.containers.list.table-headers.reviewWorkflows.assignee.label',\n      defaultMessage: 'Assignee',\n    },\n    name: 'strapi_assignee',\n  },\n] satisfies Array<\n  Omit<Filters.Filter, 'label' | 'operators'> & {\n    label: MessageDescriptor;\n    operators?: Array<{ value: string; label: MessageDescriptor }>;\n  }\n>;\n", "import { REVIEW_WORKFLOW_COLUMNS } from '../routes/content-manager/model/constants';\n\nimport type { ListFieldLayout, ListLayout } from '@strapi/content-manager/strapi-admin';\n\n/* -------------------------------------------------------------------------------------------------\n * addColumnToTableHook\n * -----------------------------------------------------------------------------------------------*/\ninterface AddColumnToTableHookArgs {\n  layout: ListLayout;\n  displayedHeaders: ListFieldLayout[];\n}\n\nconst addColumnToTableHook = ({ displayedHeaders, layout }: AddColumnToTableHookArgs) => {\n  const { options } = layout;\n\n  if (!options.reviewWorkflows) {\n    return { displayedHeaders, layout };\n  }\n\n  return {\n    displayedHeaders: [...displayedHeaders, ...REVIEW_WORKFLOW_COLUMNS],\n    layout,\n  };\n};\n\nexport { addColumnToTableHook };\n", "type TradOptions = Record<string, string>;\n\nconst prefixPluginTranslations = (trad: TradOptions, pluginId: string): TradOptions => {\n  if (!pluginId) {\n    throw new TypeError(\"pluginId can't be empty\");\n  }\n  return Object.keys(trad).reduce((acc, current) => {\n    acc[`${pluginId}.${current}`] = trad[current];\n    return acc;\n  }, {} as TradOptions);\n};\n\nexport { prefixPluginTranslations };\n", "import { SealCheck } from '@strapi/icons';\n\nimport { PLUGIN_ID, FEATURE_ID } from './constants';\nimport { Header } from './routes/content-manager/model/id/components/Header';\nimport { Panel } from './routes/content-manager/model/id/components/Panel';\nimport { addColumnToTableHook } from './utils/cm-hooks';\nimport { prefixPluginTranslations } from './utils/translations';\n\nimport type { StrapiApp, WidgetArgs } from '@strapi/admin/strapi-admin';\nimport type { Plugin } from '@strapi/types';\n\nconst admin: Plugin.Config.AdminInput = {\n  register(app: StrapiApp) {\n    if (window.strapi.features.isEnabled(FEATURE_ID)) {\n      app.registerHook('Admin/CM/pages/ListView/inject-column-in-table', addColumnToTableHook);\n\n      const contentManagerPluginApis = app.getPlugin('content-manager').apis;\n\n      if (\n        'addEditViewSidePanel' in contentManagerPluginApis &&\n        typeof contentManagerPluginApis.addEditViewSidePanel === 'function'\n      ) {\n        contentManagerPluginApis.addEditViewSidePanel([Panel]);\n      }\n\n      app.addSettingsLink('global', {\n        id: PLUGIN_ID,\n        to: `review-workflows`,\n        intlLabel: {\n          id: `${PLUGIN_ID}.plugin.name`,\n          defaultMessage: 'Review Workflows',\n        },\n        licenseOnly: true,\n        permissions: [],\n        async Component() {\n          const { Router } = await import('./router');\n          return { default: Router };\n        },\n      });\n\n      // Always put the assigned to me widget last in the list of widgets\n      app.widgets.register((widgets: WidgetArgs[]) => [\n        ...widgets,\n        {\n          icon: SealCheck,\n          title: {\n            id: `${PLUGIN_ID}.widget.assigned.title`,\n            defaultMessage: 'Assigned to me',\n          },\n          component: async () => {\n            const { AssignedWidget } = await import('./components/Widgets');\n            return AssignedWidget;\n          },\n          pluginId: PLUGIN_ID,\n          id: 'assigned',\n          permissions: [{ action: 'plugin::content-manager.explorer.read' }],\n        },\n      ]);\n    } else if (!window.strapi.features.isEnabled(FEATURE_ID) && window.strapi?.flags?.promoteEE) {\n      app.addSettingsLink('global', {\n        id: PLUGIN_ID,\n        to: `purchase-review-workflows`,\n        intlLabel: {\n          id: `${PLUGIN_ID}.plugin.name`,\n          defaultMessage: 'Review Workflows',\n        },\n        licenseOnly: true,\n        permissions: [],\n        async Component() {\n          const { PurchaseReviewWorkflows } = await import('./routes/purchase-review-workflows');\n          return { default: PurchaseReviewWorkflows };\n        },\n      });\n    }\n  },\n  bootstrap(app: StrapiApp) {\n    if (window.strapi.features.isEnabled(FEATURE_ID)) {\n      app.getPlugin('content-manager').injectComponent('preview', 'actions', {\n        name: 'review-workflows-assignee',\n        Component: Header,\n      });\n    }\n  },\n  async registerTrads({ locales }: { locales: string[] }) {\n    const importedTrads = await Promise.all(\n      locales.map((locale) => {\n        return import(`./translations/${locale}.json`)\n          .then(({ default: data }) => {\n            return {\n              data: prefixPluginTranslations(data, PLUGIN_ID),\n              locale,\n            };\n          })\n          .catch(() => {\n            return {\n              data: {},\n              locale,\n            };\n          });\n      })\n    );\n\n    return Promise.resolve(importedTrads);\n  },\n};\n\n// eslint-disable-next-line import/no-default-export\nexport default admin;\n", "import { RenderAdminArgs, renderAdmin } from '@strapi/admin/strapi-admin';\nimport contentTypeBuilder from '@strapi/content-type-builder/strapi-admin';\nimport contentManager from '@strapi/content-manager/strapi-admin';\nimport email from '@strapi/email/strapi-admin';\nimport upload from '@strapi/upload/strapi-admin';\nimport i18n from '@strapi/i18n/strapi-admin';\nimport contentReleases from '@strapi/content-releases/strapi-admin';\nimport reviewWorkflows from '@strapi/review-workflows/strapi-admin';\n\nconst render = (mountNode: HTMLElement | null, { plugins, ...restArgs }: RenderAdminArgs) => {\n  return renderAdmin(mountNode, {\n    ...restArgs,\n    plugins: {\n      'content-manager': contentManager,\n      'content-type-builder': contentTypeBuilder,\n      email,\n      upload,\n      contentReleases,\n      i18n,\n      reviewWorkflows,\n      ...plugins,\n    },\n  });\n};\n\nexport { render as renderAdmin };\nexport type { RenderAdminArgs };\n\nexport * from '@strapi/admin/strapi-admin';\n\nexport {\n  unstable_useDocumentLayout,\n  unstable_useDocumentActions,\n  unstable_useDocument,\n  unstable_useContentManagerContext,\n  useDocumentRBAC,\n} from '@strapi/content-manager/strapi-admin';\n\nexport {\n  private_useAutoReloadOverlayBlocker,\n  private_AutoReloadOverlayBlockerProvider,\n} from '@strapi/content-type-builder/strapi-admin';\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,QAAI,YAAY;AAGhB,QAAI,kBAAkB;AAAtB,QACI,qBAAqB;AAoBzB,aAASA,WAAU,OAAO;AACxB,aAAO,UAAU,OAAO,kBAAkB,kBAAkB;AAAA,IAC9D;AAEA,WAAO,UAAUA;AAAA;AAAA;;;AC5BjB;AAAA;AAuBA,QAAI,UAAU,MAAM;AAEpB,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AACA,QAAI,aAAa,OAAO,UAAU,YAAY,UAAU,OAAO,WAAW,UAAU;AAEpF,WAAO,UAAU;AAAA;AAAA;;;ACHjB;AAAA;AAAA,QAAI,aAAa;AAGjB,QAAI,WAAW,OAAO,QAAQ,YAAY,QAAQ,KAAK,WAAW,UAAU;AAG5E,QAAI,OAAO,cAAc,YAAY,SAAS,aAAa,EAAE;AAE7D,WAAO,UAAU;AAAA;AAAA;;;ACRjB;AAAA;AAAA,QAAI,OAAO;AAGX,QAAI,SAAS,KAAK;AAElB,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,SAAS;AAGb,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AAOjC,QAAI,uBAAuB,YAAY;AAGvC,QAAI,iBAAiB,SAAS,OAAO,cAAc;AASnD,aAAS,UAAU,OAAO;AACxB,UAAI,QAAQ,eAAe,KAAK,OAAO,cAAc,GACjD,MAAM,MAAM,cAAc;AAE9B,UAAI;AACF,cAAM,cAAc,IAAI;AACxB,YAAI,WAAW;AAAA,MACjB,SAAS,GAAG;AAAA,MAAC;AAEb,UAAI,SAAS,qBAAqB,KAAK,KAAK;AAC5C,UAAI,UAAU;AACZ,YAAI,OAAO;AACT,gBAAM,cAAc,IAAI;AAAA,QAC1B,OAAO;AACL,iBAAO,MAAM,cAAc;AAAA,QAC7B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7CjB;AAAA;AACA,QAAI,cAAc,OAAO;AAOzB,QAAI,uBAAuB,YAAY;AASvC,aAAS,eAAe,OAAO;AAC7B,aAAO,qBAAqB,KAAK,KAAK;AAAA,IACxC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAAA,QAAI,SAAS;AAAb,QACI,YAAY;AADhB,QAEI,iBAAiB;AAGrB,QAAI,UAAU;AAAd,QACI,eAAe;AAGnB,QAAI,iBAAiB,SAAS,OAAO,cAAc;AASnD,aAAS,WAAW,OAAO;AACzB,UAAI,SAAS,MAAM;AACjB,eAAO,UAAU,SAAY,eAAe;AAAA,MAC9C;AACA,aAAQ,kBAAkB,kBAAkB,OAAO,KAAK,IACpD,UAAU,KAAK,IACf,eAAe,KAAK;AAAA,IAC1B;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3BjB;AAAA;AAwBA,aAAS,aAAa,OAAO;AAC3B,aAAO,SAAS,QAAQ,OAAO,SAAS;AAAA,IAC1C;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC5BjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AAGnB,QAAI,YAAY;AAmBhB,aAAS,SAAS,OAAO;AACvB,aAAO,OAAO,SAAS,YACpB,aAAa,KAAK,KAAK,WAAW,KAAK,KAAK;AAAA,IACjD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC5BjB;AAAA;AAAA,QAAI,UAAU;AAAd,QACI,WAAW;AAGf,QAAI,eAAe;AAAnB,QACI,gBAAgB;AAUpB,aAAS,MAAM,OAAO,QAAQ;AAC5B,UAAI,QAAQ,KAAK,GAAG;AAClB,eAAO;AAAA,MACT;AACA,UAAI,OAAO,OAAO;AAClB,UAAI,QAAQ,YAAY,QAAQ,YAAY,QAAQ,aAChD,SAAS,QAAQ,SAAS,KAAK,GAAG;AACpC,eAAO;AAAA,MACT;AACA,aAAO,cAAc,KAAK,KAAK,KAAK,CAAC,aAAa,KAAK,KAAK,KACzD,UAAU,QAAQ,SAAS,OAAO,MAAM;AAAA,IAC7C;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC5BjB;AAAA;AAyBA,aAAS,SAAS,OAAO;AACvB,UAAI,OAAO,OAAO;AAClB,aAAO,SAAS,SAAS,QAAQ,YAAY,QAAQ;AAAA,IACvD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC9BjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,WAAW;AAGf,QAAI,WAAW;AAAf,QACI,UAAU;AADd,QAEI,SAAS;AAFb,QAGI,WAAW;AAmBf,aAAS,WAAW,OAAO;AACzB,UAAI,CAAC,SAAS,KAAK,GAAG;AACpB,eAAO;AAAA,MACT;AAGA,UAAI,MAAM,WAAW,KAAK;AAC1B,aAAO,OAAO,WAAW,OAAO,UAAU,OAAO,YAAY,OAAO;AAAA,IACtE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,OAAO;AAGX,QAAI,aAAa,KAAK,oBAAoB;AAE1C,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,aAAa;AAGjB,QAAI,aAAc,WAAW;AAC3B,UAAI,MAAM,SAAS,KAAK,cAAc,WAAW,QAAQ,WAAW,KAAK,YAAY,EAAE;AACvF,aAAO,MAAO,mBAAmB,MAAO;AAAA,IAC1C,EAAE;AASF,aAAS,SAAS,MAAM;AACtB,aAAO,CAAC,CAAC,cAAe,cAAc;AAAA,IACxC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AACA,QAAI,YAAY,SAAS;AAGzB,QAAI,eAAe,UAAU;AAS7B,aAAS,SAAS,MAAM;AACtB,UAAI,QAAQ,MAAM;AAChB,YAAI;AACF,iBAAO,aAAa,KAAK,IAAI;AAAA,QAC/B,SAAS,GAAG;AAAA,QAAC;AACb,YAAI;AACF,iBAAQ,OAAO;AAAA,QACjB,SAAS,GAAG;AAAA,QAAC;AAAA,MACf;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,WAAW;AADf,QAEI,WAAW;AAFf,QAGI,WAAW;AAMf,QAAI,eAAe;AAGnB,QAAI,eAAe;AAGnB,QAAI,YAAY,SAAS;AAAzB,QACI,cAAc,OAAO;AAGzB,QAAI,eAAe,UAAU;AAG7B,QAAI,iBAAiB,YAAY;AAGjC,QAAI,aAAa;AAAA,MAAO,MACtB,aAAa,KAAK,cAAc,EAAE,QAAQ,cAAc,MAAM,EAC7D,QAAQ,0DAA0D,OAAO,IAAI;AAAA,IAChF;AAUA,aAAS,aAAa,OAAO;AAC3B,UAAI,CAAC,SAAS,KAAK,KAAK,SAAS,KAAK,GAAG;AACvC,eAAO;AAAA,MACT;AACA,UAAI,UAAU,WAAW,KAAK,IAAI,aAAa;AAC/C,aAAO,QAAQ,KAAK,SAAS,KAAK,CAAC;AAAA,IACrC;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC9CjB;AAAA;AAQA,aAAS,SAAS,QAAQ,KAAK;AAC7B,aAAO,UAAU,OAAO,SAAY,OAAO,GAAG;AAAA,IAChD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACZjB;AAAA;AAAA,QAAI,eAAe;AAAnB,QACI,WAAW;AAUf,aAAS,UAAU,QAAQ,KAAK;AAC9B,UAAI,QAAQ,SAAS,QAAQ,GAAG;AAChC,aAAO,aAAa,KAAK,IAAI,QAAQ;AAAA,IACvC;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,YAAY;AAGhB,QAAI,eAAe,UAAU,QAAQ,QAAQ;AAE7C,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,eAAe;AASnB,aAAS,YAAY;AACnB,WAAK,WAAW,eAAe,aAAa,IAAI,IAAI,CAAC;AACrD,WAAK,OAAO;AAAA,IACd;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AAUA,aAAS,WAAW,KAAK;AACvB,UAAI,SAAS,KAAK,IAAI,GAAG,KAAK,OAAO,KAAK,SAAS,GAAG;AACtD,WAAK,QAAQ,SAAS,IAAI;AAC1B,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,eAAe;AAGnB,QAAI,iBAAiB;AAGrB,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AAWjC,aAAS,QAAQ,KAAK;AACpB,UAAI,OAAO,KAAK;AAChB,UAAI,cAAc;AAChB,YAAI,SAAS,KAAK,GAAG;AACrB,eAAO,WAAW,iBAAiB,SAAY;AAAA,MACjD;AACA,aAAO,eAAe,KAAK,MAAM,GAAG,IAAI,KAAK,GAAG,IAAI;AAAA,IACtD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,eAAe;AAGnB,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AAWjC,aAAS,QAAQ,KAAK;AACpB,UAAI,OAAO,KAAK;AAChB,aAAO,eAAgB,KAAK,GAAG,MAAM,SAAa,eAAe,KAAK,MAAM,GAAG;AAAA,IACjF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAI,eAAe;AAGnB,QAAI,iBAAiB;AAYrB,aAAS,QAAQ,KAAK,OAAO;AAC3B,UAAI,OAAO,KAAK;AAChB,WAAK,QAAQ,KAAK,IAAI,GAAG,IAAI,IAAI;AACjC,WAAK,GAAG,IAAK,gBAAgB,UAAU,SAAa,iBAAiB;AACrE,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,aAAa;AADjB,QAEI,UAAU;AAFd,QAGI,UAAU;AAHd,QAII,UAAU;AASd,aAAS,KAAK,SAAS;AACrB,UAAIC,SAAQ,IACR,SAAS,WAAW,OAAO,IAAI,QAAQ;AAE3C,WAAK,MAAM;AACX,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,QAAQ,QAAQA,MAAK;AACzB,aAAK,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;AAAA,MAC7B;AAAA,IACF;AAGA,SAAK,UAAU,QAAQ;AACvB,SAAK,UAAU,QAAQ,IAAI;AAC3B,SAAK,UAAU,MAAM;AACrB,SAAK,UAAU,MAAM;AACrB,SAAK,UAAU,MAAM;AAErB,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAOA,aAAS,iBAAiB;AACxB,WAAK,WAAW,CAAC;AACjB,WAAK,OAAO;AAAA,IACd;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACZjB;AAAA;AAgCA,aAAS,GAAG,OAAO,OAAO;AACxB,aAAO,UAAU,SAAU,UAAU,SAAS,UAAU;AAAA,IAC1D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,KAAK;AAUT,aAAS,aAAa,OAAO,KAAK;AAChC,UAAI,SAAS,MAAM;AACnB,aAAO,UAAU;AACf,YAAI,GAAG,MAAM,MAAM,EAAE,CAAC,GAAG,GAAG,GAAG;AAC7B,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAI,eAAe;AAGnB,QAAI,aAAa,MAAM;AAGvB,QAAI,SAAS,WAAW;AAWxB,aAAS,gBAAgB,KAAK;AAC5B,UAAI,OAAO,KAAK,UACZC,SAAQ,aAAa,MAAM,GAAG;AAElC,UAAIA,SAAQ,GAAG;AACb,eAAO;AAAA,MACT;AACA,UAAI,YAAY,KAAK,SAAS;AAC9B,UAAIA,UAAS,WAAW;AACtB,aAAK,IAAI;AAAA,MACX,OAAO;AACL,eAAO,KAAK,MAAMA,QAAO,CAAC;AAAA,MAC5B;AACA,QAAE,KAAK;AACP,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClCjB;AAAA;AAAA,QAAI,eAAe;AAWnB,aAAS,aAAa,KAAK;AACzB,UAAI,OAAO,KAAK,UACZC,SAAQ,aAAa,MAAM,GAAG;AAElC,aAAOA,SAAQ,IAAI,SAAY,KAAKA,MAAK,EAAE,CAAC;AAAA,IAC9C;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AAAA,QAAI,eAAe;AAWnB,aAAS,aAAa,KAAK;AACzB,aAAO,aAAa,KAAK,UAAU,GAAG,IAAI;AAAA,IAC5C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,eAAe;AAYnB,aAAS,aAAa,KAAK,OAAO;AAChC,UAAI,OAAO,KAAK,UACZC,SAAQ,aAAa,MAAM,GAAG;AAElC,UAAIA,SAAQ,GAAG;AACb,UAAE,KAAK;AACP,aAAK,KAAK,CAAC,KAAK,KAAK,CAAC;AAAA,MACxB,OAAO;AACL,aAAKA,MAAK,EAAE,CAAC,IAAI;AAAA,MACnB;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,iBAAiB;AAArB,QACI,kBAAkB;AADtB,QAEI,eAAe;AAFnB,QAGI,eAAe;AAHnB,QAII,eAAe;AASnB,aAAS,UAAU,SAAS;AAC1B,UAAIC,SAAQ,IACR,SAAS,WAAW,OAAO,IAAI,QAAQ;AAE3C,WAAK,MAAM;AACX,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,QAAQ,QAAQA,MAAK;AACzB,aAAK,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;AAAA,MAC7B;AAAA,IACF;AAGA,cAAU,UAAU,QAAQ;AAC5B,cAAU,UAAU,QAAQ,IAAI;AAChC,cAAU,UAAU,MAAM;AAC1B,cAAU,UAAU,MAAM;AAC1B,cAAU,UAAU,MAAM;AAE1B,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAIC,OAAM,UAAU,MAAM,KAAK;AAE/B,WAAO,UAAUA;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,OAAO;AAAX,QACI,YAAY;AADhB,QAEIC,OAAM;AASV,aAAS,gBAAgB;AACvB,WAAK,OAAO;AACZ,WAAK,WAAW;AAAA,QACd,QAAQ,IAAI;AAAA,QACZ,OAAO,KAAKA,QAAO;AAAA,QACnB,UAAU,IAAI;AAAA,MAChB;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAOA,aAAS,UAAU,OAAO;AACxB,UAAI,OAAO,OAAO;AAClB,aAAQ,QAAQ,YAAY,QAAQ,YAAY,QAAQ,YAAY,QAAQ,YACvE,UAAU,cACV,UAAU;AAAA,IACjB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AAAA,QAAI,YAAY;AAUhB,aAAS,WAAW,KAAK,KAAK;AAC5B,UAAI,OAAO,IAAI;AACf,aAAO,UAAU,GAAG,IAChB,KAAK,OAAO,OAAO,WAAW,WAAW,MAAM,IAC/C,KAAK;AAAA,IACX;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,aAAa;AAWjB,aAAS,eAAe,KAAK;AAC3B,UAAI,SAAS,WAAW,MAAM,GAAG,EAAE,QAAQ,EAAE,GAAG;AAChD,WAAK,QAAQ,SAAS,IAAI;AAC1B,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,aAAa;AAWjB,aAAS,YAAY,KAAK;AACxB,aAAO,WAAW,MAAM,GAAG,EAAE,IAAI,GAAG;AAAA,IACtC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,aAAa;AAWjB,aAAS,YAAY,KAAK;AACxB,aAAO,WAAW,MAAM,GAAG,EAAE,IAAI,GAAG;AAAA,IACtC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,aAAa;AAYjB,aAAS,YAAY,KAAK,OAAO;AAC/B,UAAI,OAAO,WAAW,MAAM,GAAG,GAC3B,OAAO,KAAK;AAEhB,WAAK,IAAI,KAAK,KAAK;AACnB,WAAK,QAAQ,KAAK,QAAQ,OAAO,IAAI;AACrC,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAAA,QAAI,gBAAgB;AAApB,QACI,iBAAiB;AADrB,QAEI,cAAc;AAFlB,QAGI,cAAc;AAHlB,QAII,cAAc;AASlB,aAAS,SAAS,SAAS;AACzB,UAAIC,SAAQ,IACR,SAAS,WAAW,OAAO,IAAI,QAAQ;AAE3C,WAAK,MAAM;AACX,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,QAAQ,QAAQA,MAAK;AACzB,aAAK,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;AAAA,MAC7B;AAAA,IACF;AAGA,aAAS,UAAU,QAAQ;AAC3B,aAAS,UAAU,QAAQ,IAAI;AAC/B,aAAS,UAAU,MAAM;AACzB,aAAS,UAAU,MAAM;AACzB,aAAS,UAAU,MAAM;AAEzB,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA,QAAI,WAAW;AAGf,QAAI,kBAAkB;AA8CtB,aAAS,QAAQ,MAAM,UAAU;AAC/B,UAAI,OAAO,QAAQ,cAAe,YAAY,QAAQ,OAAO,YAAY,YAAa;AACpF,cAAM,IAAI,UAAU,eAAe;AAAA,MACrC;AACA,UAAI,WAAW,WAAW;AACxB,YAAI,OAAO,WACP,MAAM,WAAW,SAAS,MAAM,MAAM,IAAI,IAAI,KAAK,CAAC,GACpD,QAAQ,SAAS;AAErB,YAAI,MAAM,IAAI,GAAG,GAAG;AAClB,iBAAO,MAAM,IAAI,GAAG;AAAA,QACtB;AACA,YAAI,SAAS,KAAK,MAAM,MAAM,IAAI;AAClC,iBAAS,QAAQ,MAAM,IAAI,KAAK,MAAM,KAAK;AAC3C,eAAO;AAAA,MACT;AACA,eAAS,QAAQ,KAAK,QAAQ,SAAS;AACvC,aAAO;AAAA,IACT;AAGA,YAAQ,QAAQ;AAEhB,WAAO,UAAU;AAAA;AAAA;;;ACxEjB;AAAA;AAAA,QAAI,UAAU;AAGd,QAAI,mBAAmB;AAUvB,aAAS,cAAc,MAAM;AAC3B,UAAI,SAAS,QAAQ,MAAM,SAAS,KAAK;AACvC,YAAI,MAAM,SAAS,kBAAkB;AACnC,gBAAM,MAAM;AAAA,QACd;AACA,eAAO;AAAA,MACT,CAAC;AAED,UAAI,QAAQ,OAAO;AACnB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,gBAAgB;AAGpB,QAAI,aAAa;AAGjB,QAAI,eAAe;AASnB,QAAI,eAAe,cAAc,SAAS,QAAQ;AAChD,UAAI,SAAS,CAAC;AACd,UAAI,OAAO,WAAW,CAAC,MAAM,IAAY;AACvC,eAAO,KAAK,EAAE;AAAA,MAChB;AACA,aAAO,QAAQ,YAAY,SAAS,OAAO,QAAQ,OAAO,WAAW;AACnE,eAAO,KAAK,QAAQ,UAAU,QAAQ,cAAc,IAAI,IAAK,UAAU,KAAM;AAAA,MAC/E,CAAC;AACD,aAAO;AAAA,IACT,CAAC;AAED,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AASA,aAAS,SAAS,OAAO,UAAU;AACjC,UAAIC,SAAQ,IACR,SAAS,SAAS,OAAO,IAAI,MAAM,QACnC,SAAS,MAAM,MAAM;AAEzB,aAAO,EAAEA,SAAQ,QAAQ;AACvB,eAAOA,MAAK,IAAI,SAAS,MAAMA,MAAK,GAAGA,QAAO,KAAK;AAAA,MACrD;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAI,SAAS;AAAb,QACI,WAAW;AADf,QAEI,UAAU;AAFd,QAGI,WAAW;AAGf,QAAI,WAAW,IAAI;AAGnB,QAAI,cAAc,SAAS,OAAO,YAAY;AAA9C,QACI,iBAAiB,cAAc,YAAY,WAAW;AAU1D,aAAS,aAAa,OAAO;AAE3B,UAAI,OAAO,SAAS,UAAU;AAC5B,eAAO;AAAA,MACT;AACA,UAAI,QAAQ,KAAK,GAAG;AAElB,eAAO,SAAS,OAAO,YAAY,IAAI;AAAA,MACzC;AACA,UAAI,SAAS,KAAK,GAAG;AACnB,eAAO,iBAAiB,eAAe,KAAK,KAAK,IAAI;AAAA,MACvD;AACA,UAAI,SAAU,QAAQ;AACtB,aAAQ,UAAU,OAAQ,IAAI,SAAU,CAAC,WAAY,OAAO;AAAA,IAC9D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,eAAe;AAuBnB,aAAS,SAAS,OAAO;AACvB,aAAO,SAAS,OAAO,KAAK,aAAa,KAAK;AAAA,IAChD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3BjB;AAAA;AAAA,QAAI,UAAU;AAAd,QACI,QAAQ;AADZ,QAEI,eAAe;AAFnB,QAGI,WAAW;AAUf,aAAS,SAAS,OAAO,QAAQ;AAC/B,UAAI,QAAQ,KAAK,GAAG;AAClB,eAAO;AAAA,MACT;AACA,aAAO,MAAM,OAAO,MAAM,IAAI,CAAC,KAAK,IAAI,aAAa,SAAS,KAAK,CAAC;AAAA,IACtE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAI,WAAW;AAGf,QAAI,WAAW,IAAI;AASnB,aAAS,MAAM,OAAO;AACpB,UAAI,OAAO,SAAS,YAAY,SAAS,KAAK,GAAG;AAC/C,eAAO;AAAA,MACT;AACA,UAAI,SAAU,QAAQ;AACtB,aAAQ,UAAU,OAAQ,IAAI,SAAU,CAAC,WAAY,OAAO;AAAA,IAC9D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,QAAQ;AAUZ,aAAS,QAAQ,QAAQ,MAAM;AAC7B,aAAO,SAAS,MAAM,MAAM;AAE5B,UAAIC,SAAQ,GACR,SAAS,KAAK;AAElB,aAAO,UAAU,QAAQA,SAAQ,QAAQ;AACvC,iBAAS,OAAO,MAAM,KAAKA,QAAO,CAAC,CAAC;AAAA,MACtC;AACA,aAAQA,UAASA,UAAS,SAAU,SAAS;AAAA,IAC/C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvBjB,IAAAC,eAAA;AAAA;AAAA,QAAI,UAAU;AA2Bd,aAASC,KAAI,QAAQ,MAAM,cAAc;AACvC,UAAI,SAAS,UAAU,OAAO,SAAY,QAAQ,QAAQ,IAAI;AAC9D,aAAO,WAAW,SAAY,eAAe;AAAA,IAC/C;AAEA,WAAO,UAAUA;AAAA;AAAA;;;AChCjB;AAAA;AAQA,aAAS,UAAU,OAAO,QAAQ;AAChC,UAAIC,SAAQ,IACR,SAAS,OAAO,QAChB,SAAS,MAAM;AAEnB,aAAO,EAAEA,SAAQ,QAAQ;AACvB,cAAM,SAASA,MAAK,IAAI,OAAOA,MAAK;AAAA,MACtC;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AAGnB,QAAI,UAAU;AASd,aAAS,gBAAgB,OAAO;AAC9B,aAAO,aAAa,KAAK,KAAK,WAAW,KAAK,KAAK;AAAA,IACrD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,kBAAkB;AAAtB,QACI,eAAe;AAGnB,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AAGjC,QAAI,uBAAuB,YAAY;AAoBvC,QAAI,cAAc,gBAAgB,2BAAW;AAAE,aAAO;AAAA,IAAW,EAAE,CAAC,IAAI,kBAAkB,SAAS,OAAO;AACxG,aAAO,aAAa,KAAK,KAAK,eAAe,KAAK,OAAO,QAAQ,KAC/D,CAAC,qBAAqB,KAAK,OAAO,QAAQ;AAAA,IAC9C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnCjB;AAAA;AAAA,QAAI,SAAS;AAAb,QACI,cAAc;AADlB,QAEI,UAAU;AAGd,QAAI,mBAAmB,SAAS,OAAO,qBAAqB;AAS5D,aAAS,cAAc,OAAO;AAC5B,aAAO,QAAQ,KAAK,KAAK,YAAY,KAAK,KACxC,CAAC,EAAE,oBAAoB,SAAS,MAAM,gBAAgB;AAAA,IAC1D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,gBAAgB;AAapB,aAAS,YAAY,OAAO,OAAO,WAAW,UAAU,QAAQ;AAC9D,UAAIC,SAAQ,IACR,SAAS,MAAM;AAEnB,oBAAc,YAAY;AAC1B,iBAAW,SAAS,CAAC;AAErB,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,QAAQ,MAAMA,MAAK;AACvB,YAAI,QAAQ,KAAK,UAAU,KAAK,GAAG;AACjC,cAAI,QAAQ,GAAG;AAEb,wBAAY,OAAO,QAAQ,GAAG,WAAW,UAAU,MAAM;AAAA,UAC3D,OAAO;AACL,sBAAU,QAAQ,KAAK;AAAA,UACzB;AAAA,QACF,WAAW,CAAC,UAAU;AACpB,iBAAO,OAAO,MAAM,IAAI;AAAA,QAC1B;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrCjB;AAAA;AAgBA,aAAS,SAAS,OAAO;AACvB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAUA,aAAS,MAAM,MAAM,SAAS,MAAM;AAClC,cAAQ,KAAK,QAAQ;AAAA,QACnB,KAAK;AAAG,iBAAO,KAAK,KAAK,OAAO;AAAA,QAChC,KAAK;AAAG,iBAAO,KAAK,KAAK,SAAS,KAAK,CAAC,CAAC;AAAA,QACzC,KAAK;AAAG,iBAAO,KAAK,KAAK,SAAS,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,QAClD,KAAK;AAAG,iBAAO,KAAK,KAAK,SAAS,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC;AAAA,MAC7D;AACA,aAAO,KAAK,MAAM,SAAS,IAAI;AAAA,IACjC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpBjB;AAAA;AAAA,QAAI,QAAQ;AAGZ,QAAI,YAAY,KAAK;AAWrB,aAAS,SAAS,MAAM,OAAO,WAAW;AACxC,cAAQ,UAAU,UAAU,SAAa,KAAK,SAAS,IAAK,OAAO,CAAC;AACpE,aAAO,WAAW;AAChB,YAAI,OAAO,WACPC,SAAQ,IACR,SAAS,UAAU,KAAK,SAAS,OAAO,CAAC,GACzC,QAAQ,MAAM,MAAM;AAExB,eAAO,EAAEA,SAAQ,QAAQ;AACvB,gBAAMA,MAAK,IAAI,KAAK,QAAQA,MAAK;AAAA,QACnC;AACA,QAAAA,SAAQ;AACR,YAAI,YAAY,MAAM,QAAQ,CAAC;AAC/B,eAAO,EAAEA,SAAQ,OAAO;AACtB,oBAAUA,MAAK,IAAI,KAAKA,MAAK;AAAA,QAC/B;AACA,kBAAU,KAAK,IAAI,UAAU,KAAK;AAClC,eAAO,MAAM,MAAM,MAAM,SAAS;AAAA,MACpC;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnCjB;AAAA;AAmBA,aAAS,SAAS,OAAO;AACvB,aAAO,WAAW;AAChB,eAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,YAAY;AAEhB,QAAI,iBAAkB,WAAW;AAC/B,UAAI;AACF,YAAI,OAAO,UAAU,QAAQ,gBAAgB;AAC7C,aAAK,CAAC,GAAG,IAAI,CAAC,CAAC;AACf,eAAO;AAAA,MACT,SAAS,GAAG;AAAA,MAAC;AAAA,IACf,EAAE;AAEF,WAAO,UAAU;AAAA;AAAA;;;ACVjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,iBAAiB;AADrB,QAEI,WAAW;AAUf,QAAI,kBAAkB,CAAC,iBAAiB,WAAW,SAAS,MAAM,QAAQ;AACxE,aAAO,eAAe,MAAM,YAAY;AAAA,QACtC,gBAAgB;AAAA,QAChB,cAAc;AAAA,QACd,SAAS,SAAS,MAAM;AAAA,QACxB,YAAY;AAAA,MACd,CAAC;AAAA,IACH;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AACA,QAAI,YAAY;AAAhB,QACI,WAAW;AAGf,QAAI,YAAY,KAAK;AAWrB,aAAS,SAAS,MAAM;AACtB,UAAIC,SAAQ,GACR,aAAa;AAEjB,aAAO,WAAW;AAChB,YAAI,QAAQ,UAAU,GAClB,YAAY,YAAY,QAAQ;AAEpC,qBAAa;AACb,YAAI,YAAY,GAAG;AACjB,cAAI,EAAEA,UAAS,WAAW;AACxB,mBAAO,UAAU,CAAC;AAAA,UACpB;AAAA,QACF,OAAO;AACL,UAAAA,SAAQ;AAAA,QACV;AACA,eAAO,KAAK,MAAM,QAAW,SAAS;AAAA,MACxC;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,kBAAkB;AAAtB,QACI,WAAW;AAUf,QAAI,cAAc,SAAS,eAAe;AAE1C,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,WAAW;AADf,QAEI,cAAc;AAUlB,aAAS,SAAS,MAAM,OAAO;AAC7B,aAAO,YAAY,SAAS,MAAM,OAAO,QAAQ,GAAG,OAAO,EAAE;AAAA,IAC/D;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AACA,QAAI,iBAAiB;AAYrB,aAAS,YAAY,OAAO;AAC1B,WAAK,SAAS,IAAI,OAAO,cAAc;AACvC,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AASA,aAAS,YAAY,OAAO;AAC1B,aAAO,KAAK,SAAS,IAAI,KAAK;AAAA,IAChC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,cAAc;AADlB,QAEI,cAAc;AAUlB,aAAS,SAAS,QAAQ;AACxB,UAAIC,SAAQ,IACR,SAAS,UAAU,OAAO,IAAI,OAAO;AAEzC,WAAK,WAAW,IAAI;AACpB,aAAO,EAAEA,SAAQ,QAAQ;AACvB,aAAK,IAAI,OAAOA,MAAK,CAAC;AAAA,MACxB;AAAA,IACF;AAGA,aAAS,UAAU,MAAM,SAAS,UAAU,OAAO;AACnD,aAAS,UAAU,MAAM;AAEzB,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AAWA,aAAS,cAAc,OAAO,WAAW,WAAW,WAAW;AAC7D,UAAI,SAAS,MAAM,QACfC,SAAQ,aAAa,YAAY,IAAI;AAEzC,aAAQ,YAAYA,WAAU,EAAEA,SAAQ,QAAS;AAC/C,YAAI,UAAU,MAAMA,MAAK,GAAGA,QAAO,KAAK,GAAG;AACzC,iBAAOA;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvBjB;AAAA;AAOA,aAAS,UAAU,OAAO;AACxB,aAAO,UAAU;AAAA,IACnB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACXjB;AAAA;AAUA,aAAS,cAAc,OAAO,OAAO,WAAW;AAC9C,UAAIC,SAAQ,YAAY,GACpB,SAAS,MAAM;AAEnB,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,MAAMA,MAAK,MAAM,OAAO;AAC1B,iBAAOA;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAI,gBAAgB;AAApB,QACI,YAAY;AADhB,QAEI,gBAAgB;AAWpB,aAAS,YAAY,OAAO,OAAO,WAAW;AAC5C,aAAO,UAAU,QACb,cAAc,OAAO,OAAO,SAAS,IACrC,cAAc,OAAO,WAAW,SAAS;AAAA,IAC/C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,cAAc;AAWlB,aAAS,cAAc,OAAO,OAAO;AACnC,UAAI,SAAS,SAAS,OAAO,IAAI,MAAM;AACvC,aAAO,CAAC,CAAC,UAAU,YAAY,OAAO,OAAO,CAAC,IAAI;AAAA,IACpD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AASA,aAAS,kBAAkB,OAAO,OAAO,YAAY;AACnD,UAAIC,SAAQ,IACR,SAAS,SAAS,OAAO,IAAI,MAAM;AAEvC,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,WAAW,OAAO,MAAMA,MAAK,CAAC,GAAG;AACnC,iBAAO;AAAA,QACT;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAQA,aAAS,SAAS,OAAO,KAAK;AAC5B,aAAO,MAAM,IAAI,GAAG;AAAA,IACtB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACZjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAIC,OAAM,UAAU,MAAM,KAAK;AAE/B,WAAO,UAAUA;AAAA;AAAA;;;ACNjB;AAAA;AAYA,aAAS,OAAO;AAAA,IAEhB;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAOA,aAAS,WAAW,KAAK;AACvB,UAAIC,SAAQ,IACR,SAAS,MAAM,IAAI,IAAI;AAE3B,UAAI,QAAQ,SAAS,OAAO;AAC1B,eAAO,EAAEA,MAAK,IAAI;AAAA,MACpB,CAAC;AACD,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAIC,OAAM;AAAV,QACI,OAAO;AADX,QAEI,aAAa;AAGjB,QAAI,WAAW,IAAI;AASnB,QAAI,YAAY,EAAEA,QAAQ,IAAI,WAAW,IAAIA,KAAI,CAAC,EAAC,EAAE,CAAC,CAAC,EAAE,CAAC,KAAM,YAAY,OAAO,SAAS,QAAQ;AAClG,aAAO,IAAIA,KAAI,MAAM;AAAA,IACvB;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,gBAAgB;AADpB,QAEI,oBAAoB;AAFxB,QAGI,WAAW;AAHf,QAII,YAAY;AAJhB,QAKI,aAAa;AAGjB,QAAI,mBAAmB;AAWvB,aAAS,SAAS,OAAO,UAAU,YAAY;AAC7C,UAAIC,SAAQ,IACR,WAAW,eACX,SAAS,MAAM,QACf,WAAW,MACX,SAAS,CAAC,GACV,OAAO;AAEX,UAAI,YAAY;AACd,mBAAW;AACX,mBAAW;AAAA,MACb,WACS,UAAU,kBAAkB;AACnC,YAAI,MAAM,WAAW,OAAO,UAAU,KAAK;AAC3C,YAAI,KAAK;AACP,iBAAO,WAAW,GAAG;AAAA,QACvB;AACA,mBAAW;AACX,mBAAW;AACX,eAAO,IAAI;AAAA,MACb,OACK;AACH,eAAO,WAAW,CAAC,IAAI;AAAA,MACzB;AACA;AACA,eAAO,EAAEA,SAAQ,QAAQ;AACvB,cAAI,QAAQ,MAAMA,MAAK,GACnB,WAAW,WAAW,SAAS,KAAK,IAAI;AAE5C,kBAAS,cAAc,UAAU,IAAK,QAAQ;AAC9C,cAAI,YAAY,aAAa,UAAU;AACrC,gBAAI,YAAY,KAAK;AACrB,mBAAO,aAAa;AAClB,kBAAI,KAAK,SAAS,MAAM,UAAU;AAChC,yBAAS;AAAA,cACX;AAAA,YACF;AACA,gBAAI,UAAU;AACZ,mBAAK,KAAK,QAAQ;AAAA,YACpB;AACA,mBAAO,KAAK,KAAK;AAAA,UACnB,WACS,CAAC,SAAS,MAAM,UAAU,UAAU,GAAG;AAC9C,gBAAI,SAAS,QAAQ;AACnB,mBAAK,KAAK,QAAQ;AAAA,YACpB;AACA,mBAAO,KAAK,KAAK;AAAA,UACnB;AAAA,QACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvEjB;AAAA;AACA,QAAI,mBAAmB;AA4BvB,aAAS,SAAS,OAAO;AACvB,aAAO,OAAO,SAAS,YACrB,QAAQ,MAAM,QAAQ,KAAK,KAAK,SAAS;AAAA,IAC7C;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClCjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,WAAW;AA2Bf,aAAS,YAAY,OAAO;AAC1B,aAAO,SAAS,QAAQ,SAAS,MAAM,MAAM,KAAK,CAAC,WAAW,KAAK;AAAA,IACrE;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChCjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,eAAe;AA2BnB,aAAS,kBAAkB,OAAO;AAChC,aAAO,aAAa,KAAK,KAAK,YAAY,KAAK;AAAA,IACjD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChCjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,WAAW;AADf,QAEI,WAAW;AAFf,QAGI,oBAAoB;AAkBxB,QAAIC,SAAQ,SAAS,SAAS,QAAQ;AACpC,aAAO,SAAS,YAAY,QAAQ,GAAG,mBAAmB,IAAI,CAAC;AAAA,IACjE,CAAC;AAED,WAAO,UAAUA;AAAA;AAAA;;;ACzBjB;AAAA;AACA,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AAUjC,aAAS,QAAQ,QAAQ,KAAK;AAC5B,aAAO,UAAU,QAAQ,eAAe,KAAK,QAAQ,GAAG;AAAA,IAC1D;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClBjB;AAAA;AACA,QAAI,mBAAmB;AAGvB,QAAI,WAAW;AAUf,aAAS,QAAQ,OAAO,QAAQ;AAC9B,UAAI,OAAO,OAAO;AAClB,eAAS,UAAU,OAAO,mBAAmB;AAE7C,aAAO,CAAC,CAAC,WACN,QAAQ,YACN,QAAQ,YAAY,SAAS,KAAK,KAAK,OACrC,QAAQ,MAAM,QAAQ,KAAK,KAAK,QAAQ;AAAA,IACjD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,cAAc;AADlB,QAEI,UAAU;AAFd,QAGI,UAAU;AAHd,QAII,WAAW;AAJf,QAKI,QAAQ;AAWZ,aAAS,QAAQ,QAAQ,MAAM,SAAS;AACtC,aAAO,SAAS,MAAM,MAAM;AAE5B,UAAIC,SAAQ,IACR,SAAS,KAAK,QACd,SAAS;AAEb,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,MAAM,MAAM,KAAKA,MAAK,CAAC;AAC3B,YAAI,EAAE,SAAS,UAAU,QAAQ,QAAQ,QAAQ,GAAG,IAAI;AACtD;AAAA,QACF;AACA,iBAAS,OAAO,GAAG;AAAA,MACrB;AACA,UAAI,UAAU,EAAEA,UAAS,QAAQ;AAC/B,eAAO;AAAA,MACT;AACA,eAAS,UAAU,OAAO,IAAI,OAAO;AACrC,aAAO,CAAC,CAAC,UAAU,SAAS,MAAM,KAAK,QAAQ,KAAK,MAAM,MACvD,QAAQ,MAAM,KAAK,YAAY,MAAM;AAAA,IAC1C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtCjB;AAAA;AAAA,QAAI,UAAU;AAAd,QACI,UAAU;AA6Bd,aAASC,KAAI,QAAQ,MAAM;AACzB,aAAO,UAAU,QAAQ,QAAQ,QAAQ,MAAM,OAAO;AAAA,IACxD;AAEA,WAAO,UAAUA;AAAA;AAAA;;;AClCjB;AAAA;AAAA,QAAI,YAAY;AAShB,aAAS,aAAa;AACpB,WAAK,WAAW,IAAI;AACpB,WAAK,OAAO;AAAA,IACd;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AASA,aAAS,YAAY,KAAK;AACxB,UAAI,OAAO,KAAK,UACZ,SAAS,KAAK,QAAQ,EAAE,GAAG;AAE/B,WAAK,OAAO,KAAK;AACjB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AASA,aAAS,SAAS,KAAK;AACrB,aAAO,KAAK,SAAS,IAAI,GAAG;AAAA,IAC9B;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AASA,aAAS,SAAS,KAAK;AACrB,aAAO,KAAK,SAAS,IAAI,GAAG;AAAA,IAC9B;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACIC,OAAM;AADV,QAEI,WAAW;AAGf,QAAI,mBAAmB;AAYvB,aAAS,SAAS,KAAK,OAAO;AAC5B,UAAI,OAAO,KAAK;AAChB,UAAI,gBAAgB,WAAW;AAC7B,YAAI,QAAQ,KAAK;AACjB,YAAI,CAACA,QAAQ,MAAM,SAAS,mBAAmB,GAAI;AACjD,gBAAM,KAAK,CAAC,KAAK,KAAK,CAAC;AACvB,eAAK,OAAO,EAAE,KAAK;AACnB,iBAAO;AAAA,QACT;AACA,eAAO,KAAK,WAAW,IAAI,SAAS,KAAK;AAAA,MAC3C;AACA,WAAK,IAAI,KAAK,KAAK;AACnB,WAAK,OAAO,KAAK;AACjB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjCjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,aAAa;AADjB,QAEI,cAAc;AAFlB,QAGI,WAAW;AAHf,QAII,WAAW;AAJf,QAKI,WAAW;AASf,aAAS,MAAM,SAAS;AACtB,UAAI,OAAO,KAAK,WAAW,IAAI,UAAU,OAAO;AAChD,WAAK,OAAO,KAAK;AAAA,IACnB;AAGA,UAAM,UAAU,QAAQ;AACxB,UAAM,UAAU,QAAQ,IAAI;AAC5B,UAAM,UAAU,MAAM;AACtB,UAAM,UAAU,MAAM;AACtB,UAAM,UAAU,MAAM;AAEtB,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AASA,aAAS,UAAU,OAAO,UAAU;AAClC,UAAIC,SAAQ,IACR,SAAS,SAAS,OAAO,IAAI,MAAM;AAEvC,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,SAAS,MAAMA,MAAK,GAAGA,QAAO,KAAK,MAAM,OAAO;AAClD;AAAA,QACF;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAAA,QAAI,iBAAiB;AAWrB,aAAS,gBAAgB,QAAQ,KAAK,OAAO;AAC3C,UAAI,OAAO,eAAe,gBAAgB;AACxC,uBAAe,QAAQ,KAAK;AAAA,UAC1B,gBAAgB;AAAA,UAChB,cAAc;AAAA,UACd,SAAS;AAAA,UACT,YAAY;AAAA,QACd,CAAC;AAAA,MACH,OAAO;AACL,eAAO,GAAG,IAAI;AAAA,MAChB;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAAA,QAAI,kBAAkB;AAAtB,QACI,KAAK;AAGT,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AAYjC,aAAS,YAAY,QAAQ,KAAK,OAAO;AACvC,UAAI,WAAW,OAAO,GAAG;AACzB,UAAI,EAAE,eAAe,KAAK,QAAQ,GAAG,KAAK,GAAG,UAAU,KAAK,MACvD,UAAU,UAAa,EAAE,OAAO,SAAU;AAC7C,wBAAgB,QAAQ,KAAK,KAAK;AAAA,MACpC;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3BjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,kBAAkB;AAYtB,aAAS,WAAW,QAAQ,OAAO,QAAQ,YAAY;AACrD,UAAI,QAAQ,CAAC;AACb,iBAAW,SAAS,CAAC;AAErB,UAAIC,SAAQ,IACR,SAAS,MAAM;AAEnB,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,MAAM,MAAMA,MAAK;AAErB,YAAI,WAAW,aACX,WAAW,OAAO,GAAG,GAAG,OAAO,GAAG,GAAG,KAAK,QAAQ,MAAM,IACxD;AAEJ,YAAI,aAAa,QAAW;AAC1B,qBAAW,OAAO,GAAG;AAAA,QACvB;AACA,YAAI,OAAO;AACT,0BAAgB,QAAQ,KAAK,QAAQ;AAAA,QACvC,OAAO;AACL,sBAAY,QAAQ,KAAK,QAAQ;AAAA,QACnC;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACvCjB;AAAA;AASA,aAAS,UAAU,GAAG,UAAU;AAC9B,UAAIC,SAAQ,IACR,SAAS,MAAM,CAAC;AAEpB,aAAO,EAAEA,SAAQ,GAAG;AAClB,eAAOA,MAAK,IAAI,SAASA,MAAK;AAAA,MAChC;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAaA,aAAS,YAAY;AACnB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,OAAO;AAAX,QACI,YAAY;AAGhB,QAAI,cAAc,OAAO,WAAW,YAAY,WAAW,CAAC,QAAQ,YAAY;AAGhF,QAAI,aAAa,eAAe,OAAO,UAAU,YAAY,UAAU,CAAC,OAAO,YAAY;AAG3F,QAAI,gBAAgB,cAAc,WAAW,YAAY;AAGzD,QAAI,SAAS,gBAAgB,KAAK,SAAS;AAG3C,QAAI,iBAAiB,SAAS,OAAO,WAAW;AAmBhD,QAAI,WAAW,kBAAkB;AAEjC,WAAO,UAAU;AAAA;AAAA;;;ACrCjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,WAAW;AADf,QAEI,eAAe;AAGnB,QAAI,UAAU;AAAd,QACI,WAAW;AADf,QAEI,UAAU;AAFd,QAGI,UAAU;AAHd,QAII,WAAW;AAJf,QAKI,UAAU;AALd,QAMI,SAAS;AANb,QAOI,YAAY;AAPhB,QAQI,YAAY;AARhB,QASI,YAAY;AAThB,QAUI,SAAS;AAVb,QAWI,YAAY;AAXhB,QAYI,aAAa;AAEjB,QAAI,iBAAiB;AAArB,QACI,cAAc;AADlB,QAEI,aAAa;AAFjB,QAGI,aAAa;AAHjB,QAII,UAAU;AAJd,QAKI,WAAW;AALf,QAMI,WAAW;AANf,QAOI,WAAW;AAPf,QAQI,kBAAkB;AARtB,QASI,YAAY;AAThB,QAUI,YAAY;AAGhB,QAAI,iBAAiB,CAAC;AACtB,mBAAe,UAAU,IAAI,eAAe,UAAU,IACtD,eAAe,OAAO,IAAI,eAAe,QAAQ,IACjD,eAAe,QAAQ,IAAI,eAAe,QAAQ,IAClD,eAAe,eAAe,IAAI,eAAe,SAAS,IAC1D,eAAe,SAAS,IAAI;AAC5B,mBAAe,OAAO,IAAI,eAAe,QAAQ,IACjD,eAAe,cAAc,IAAI,eAAe,OAAO,IACvD,eAAe,WAAW,IAAI,eAAe,OAAO,IACpD,eAAe,QAAQ,IAAI,eAAe,OAAO,IACjD,eAAe,MAAM,IAAI,eAAe,SAAS,IACjD,eAAe,SAAS,IAAI,eAAe,SAAS,IACpD,eAAe,MAAM,IAAI,eAAe,SAAS,IACjD,eAAe,UAAU,IAAI;AAS7B,aAAS,iBAAiB,OAAO;AAC/B,aAAO,aAAa,KAAK,KACvB,SAAS,MAAM,MAAM,KAAK,CAAC,CAAC,eAAe,WAAW,KAAK,CAAC;AAAA,IAChE;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC3DjB;AAAA;AAOA,aAAS,UAAU,MAAM;AACvB,aAAO,SAAS,OAAO;AACrB,eAAO,KAAK,KAAK;AAAA,MACnB;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACbjB;AAAA;AAAA,QAAI,aAAa;AAGjB,QAAI,cAAc,OAAO,WAAW,YAAY,WAAW,CAAC,QAAQ,YAAY;AAGhF,QAAI,aAAa,eAAe,OAAO,UAAU,YAAY,UAAU,CAAC,OAAO,YAAY;AAG3F,QAAI,gBAAgB,cAAc,WAAW,YAAY;AAGzD,QAAI,cAAc,iBAAiB,WAAW;AAG9C,QAAI,WAAY,WAAW;AACzB,UAAI;AAEF,YAAI,QAAQ,cAAc,WAAW,WAAW,WAAW,QAAQ,MAAM,EAAE;AAE3E,YAAI,OAAO;AACT,iBAAO;AAAA,QACT;AAGA,eAAO,eAAe,YAAY,WAAW,YAAY,QAAQ,MAAM;AAAA,MACzE,SAAS,GAAG;AAAA,MAAC;AAAA,IACf,EAAE;AAEF,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,mBAAmB;AAAvB,QACI,YAAY;AADhB,QAEI,WAAW;AAGf,QAAI,mBAAmB,YAAY,SAAS;AAmB5C,QAAI,eAAe,mBAAmB,UAAU,gBAAgB,IAAI;AAEpE,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,cAAc;AADlB,QAEI,UAAU;AAFd,QAGI,WAAW;AAHf,QAII,UAAU;AAJd,QAKI,eAAe;AAGnB,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AAUjC,aAAS,cAAc,OAAO,WAAW;AACvC,UAAI,QAAQ,QAAQ,KAAK,GACrB,QAAQ,CAAC,SAAS,YAAY,KAAK,GACnC,SAAS,CAAC,SAAS,CAAC,SAAS,SAAS,KAAK,GAC3C,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,UAAU,aAAa,KAAK,GAC1D,cAAc,SAAS,SAAS,UAAU,QAC1C,SAAS,cAAc,UAAU,MAAM,QAAQ,MAAM,IAAI,CAAC,GAC1D,SAAS,OAAO;AAEpB,eAAS,OAAO,OAAO;AACrB,aAAK,aAAa,eAAe,KAAK,OAAO,GAAG,MAC5C,EAAE;AAAA,SAEC,OAAO;AAAA,QAEN,WAAW,OAAO,YAAY,OAAO;AAAA,QAErC,WAAW,OAAO,YAAY,OAAO,gBAAgB,OAAO;AAAA,QAE7D,QAAQ,KAAK,MAAM,KAClB;AACN,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChDjB;AAAA;AACA,QAAI,cAAc,OAAO;AASzB,aAAS,YAAY,OAAO;AAC1B,UAAI,OAAO,SAAS,MAAM,aACtB,QAAS,OAAO,QAAQ,cAAc,KAAK,aAAc;AAE7D,aAAO,UAAU;AAAA,IACnB;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAQA,aAAS,QAAQ,MAAM,WAAW;AAChC,aAAO,SAAS,KAAK;AACnB,eAAO,KAAK,UAAU,GAAG,CAAC;AAAA,MAC5B;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACdjB;AAAA;AAAA,QAAI,UAAU;AAGd,QAAI,aAAa,QAAQ,OAAO,MAAM,MAAM;AAE5C,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,aAAa;AAGjB,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AASjC,aAAS,SAAS,QAAQ;AACxB,UAAI,CAAC,YAAY,MAAM,GAAG;AACxB,eAAO,WAAW,MAAM;AAAA,MAC1B;AACA,UAAI,SAAS,CAAC;AACd,eAAS,OAAO,OAAO,MAAM,GAAG;AAC9B,YAAI,eAAe,KAAK,QAAQ,GAAG,KAAK,OAAO,eAAe;AAC5D,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,gBAAgB;AAApB,QACI,WAAW;AADf,QAEI,cAAc;AA8BlB,aAAS,KAAK,QAAQ;AACpB,aAAO,YAAY,MAAM,IAAI,cAAc,MAAM,IAAI,SAAS,MAAM;AAAA,IACtE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACpCjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,OAAO;AAWX,aAAS,WAAW,QAAQ,QAAQ;AAClC,aAAO,UAAU,WAAW,QAAQ,KAAK,MAAM,GAAG,MAAM;AAAA,IAC1D;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AASA,aAAS,aAAa,QAAQ;AAC5B,UAAI,SAAS,CAAC;AACd,UAAI,UAAU,MAAM;AAClB,iBAAS,OAAO,OAAO,MAAM,GAAG;AAC9B,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,cAAc;AADlB,QAEI,eAAe;AAGnB,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AASjC,aAAS,WAAW,QAAQ;AAC1B,UAAI,CAAC,SAAS,MAAM,GAAG;AACrB,eAAO,aAAa,MAAM;AAAA,MAC5B;AACA,UAAI,UAAU,YAAY,MAAM,GAC5B,SAAS,CAAC;AAEd,eAAS,OAAO,QAAQ;AACtB,YAAI,EAAE,OAAO,kBAAkB,WAAW,CAAC,eAAe,KAAK,QAAQ,GAAG,KAAK;AAC7E,iBAAO,KAAK,GAAG;AAAA,QACjB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChCjB;AAAA;AAAA,QAAI,gBAAgB;AAApB,QACI,aAAa;AADjB,QAEI,cAAc;AAyBlB,aAAS,OAAO,QAAQ;AACtB,aAAO,YAAY,MAAM,IAAI,cAAc,QAAQ,IAAI,IAAI,WAAW,MAAM;AAAA,IAC9E;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC/BjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,SAAS;AAWb,aAAS,aAAa,QAAQ,QAAQ;AACpC,aAAO,UAAU,WAAW,QAAQ,OAAO,MAAM,GAAG,MAAM;AAAA,IAC5D;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,OAAO;AAGX,QAAI,cAAc,OAAO,WAAW,YAAY,WAAW,CAAC,QAAQ,YAAY;AAGhF,QAAI,aAAa,eAAe,OAAO,UAAU,YAAY,UAAU,CAAC,OAAO,YAAY;AAG3F,QAAI,gBAAgB,cAAc,WAAW,YAAY;AAGzD,QAAI,SAAS,gBAAgB,KAAK,SAAS;AAA3C,QACI,cAAc,SAAS,OAAO,cAAc;AAUhD,aAAS,YAAY,QAAQ,QAAQ;AACnC,UAAI,QAAQ;AACV,eAAO,OAAO,MAAM;AAAA,MACtB;AACA,UAAI,SAAS,OAAO,QAChB,SAAS,cAAc,YAAY,MAAM,IAAI,IAAI,OAAO,YAAY,MAAM;AAE9E,aAAO,KAAK,MAAM;AAClB,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AClCjB;AAAA;AAQA,aAAS,UAAU,QAAQ,OAAO;AAChC,UAAIC,SAAQ,IACR,SAAS,OAAO;AAEpB,gBAAU,QAAQ,MAAM,MAAM;AAC9B,aAAO,EAAEA,SAAQ,QAAQ;AACvB,cAAMA,MAAK,IAAI,OAAOA,MAAK;AAAA,MAC7B;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AASA,aAAS,YAAY,OAAO,WAAW;AACrC,UAAIC,SAAQ,IACR,SAAS,SAAS,OAAO,IAAI,MAAM,QACnC,WAAW,GACX,SAAS,CAAC;AAEd,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,QAAQ,MAAMA,MAAK;AACvB,YAAI,UAAU,OAAOA,QAAO,KAAK,GAAG;AAClC,iBAAO,UAAU,IAAI;AAAA,QACvB;AAAA,MACF;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAkBA,aAAS,YAAY;AACnB,aAAO,CAAC;AAAA,IACV;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACtBjB;AAAA;AAAA,QAAI,cAAc;AAAlB,QACI,YAAY;AAGhB,QAAI,cAAc,OAAO;AAGzB,QAAI,uBAAuB,YAAY;AAGvC,QAAI,mBAAmB,OAAO;AAS9B,QAAI,aAAa,CAAC,mBAAmB,YAAY,SAAS,QAAQ;AAChE,UAAI,UAAU,MAAM;AAClB,eAAO,CAAC;AAAA,MACV;AACA,eAAS,OAAO,MAAM;AACtB,aAAO,YAAY,iBAAiB,MAAM,GAAG,SAAS,QAAQ;AAC5D,eAAO,qBAAqB,KAAK,QAAQ,MAAM;AAAA,MACjD,CAAC;AAAA,IACH;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,aAAa;AAUjB,aAAS,YAAY,QAAQ,QAAQ;AACnC,aAAO,WAAW,QAAQ,WAAW,MAAM,GAAG,MAAM;AAAA,IACtD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,UAAU;AAGd,QAAI,eAAe,QAAQ,OAAO,gBAAgB,MAAM;AAExD,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,eAAe;AADnB,QAEI,aAAa;AAFjB,QAGI,YAAY;AAGhB,QAAI,mBAAmB,OAAO;AAS9B,QAAI,eAAe,CAAC,mBAAmB,YAAY,SAAS,QAAQ;AAClE,UAAI,SAAS,CAAC;AACd,aAAO,QAAQ;AACb,kBAAU,QAAQ,WAAW,MAAM,CAAC;AACpC,iBAAS,aAAa,MAAM;AAAA,MAC9B;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACxBjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AAUnB,aAAS,cAAc,QAAQ,QAAQ;AACrC,aAAO,WAAW,QAAQ,aAAa,MAAM,GAAG,MAAM;AAAA,IACxD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,UAAU;AAad,aAAS,eAAe,QAAQ,UAAU,aAAa;AACrD,UAAI,SAAS,SAAS,MAAM;AAC5B,aAAO,QAAQ,MAAM,IAAI,SAAS,UAAU,QAAQ,YAAY,MAAM,CAAC;AAAA,IACzE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AAAA,QAAI,iBAAiB;AAArB,QACI,aAAa;AADjB,QAEI,OAAO;AASX,aAAS,WAAW,QAAQ;AAC1B,aAAO,eAAe,QAAQ,MAAM,UAAU;AAAA,IAChD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,iBAAiB;AAArB,QACI,eAAe;AADnB,QAEI,SAAS;AAUb,aAAS,aAAa,QAAQ;AAC5B,aAAO,eAAe,QAAQ,QAAQ,YAAY;AAAA,IACpD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAI,WAAW,UAAU,MAAM,UAAU;AAEzC,WAAO,UAAU;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAIC,WAAU,UAAU,MAAM,SAAS;AAEvC,WAAO,UAAUA;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,OAAO;AAGX,QAAI,UAAU,UAAU,MAAM,SAAS;AAEvC,WAAO,UAAU;AAAA;AAAA;;;ACNjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACIC,OAAM;AADV,QAEIC,WAAU;AAFd,QAGIC,OAAM;AAHV,QAII,UAAU;AAJd,QAKI,aAAa;AALjB,QAMI,WAAW;AAGf,QAAI,SAAS;AAAb,QACI,YAAY;AADhB,QAEI,aAAa;AAFjB,QAGI,SAAS;AAHb,QAII,aAAa;AAEjB,QAAI,cAAc;AAGlB,QAAI,qBAAqB,SAAS,QAAQ;AAA1C,QACI,gBAAgB,SAASF,IAAG;AADhC,QAEI,oBAAoB,SAASC,QAAO;AAFxC,QAGI,gBAAgB,SAASC,IAAG;AAHhC,QAII,oBAAoB,SAAS,OAAO;AASxC,QAAI,SAAS;AAGb,QAAK,YAAY,OAAO,IAAI,SAAS,IAAI,YAAY,CAAC,CAAC,CAAC,KAAK,eACxDF,QAAO,OAAO,IAAIA,MAAG,KAAK,UAC1BC,YAAW,OAAOA,SAAQ,QAAQ,CAAC,KAAK,cACxCC,QAAO,OAAO,IAAIA,MAAG,KAAK,UAC1B,WAAW,OAAO,IAAI,SAAO,KAAK,YAAa;AAClD,eAAS,SAAS,OAAO;AACvB,YAAI,SAAS,WAAW,KAAK,GACzB,OAAO,UAAU,YAAY,MAAM,cAAc,QACjD,aAAa,OAAO,SAAS,IAAI,IAAI;AAEzC,YAAI,YAAY;AACd,kBAAQ,YAAY;AAAA,YAClB,KAAK;AAAoB,qBAAO;AAAA,YAChC,KAAK;AAAe,qBAAO;AAAA,YAC3B,KAAK;AAAmB,qBAAO;AAAA,YAC/B,KAAK;AAAe,qBAAO;AAAA,YAC3B,KAAK;AAAmB,qBAAO;AAAA,UACjC;AAAA,QACF;AACA,eAAO;AAAA,MACT;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzDjB;AAAA;AACA,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AASjC,aAAS,eAAe,OAAO;AAC7B,UAAI,SAAS,MAAM,QACf,SAAS,IAAI,MAAM,YAAY,MAAM;AAGzC,UAAI,UAAU,OAAO,MAAM,CAAC,KAAK,YAAY,eAAe,KAAK,OAAO,OAAO,GAAG;AAChF,eAAO,QAAQ,MAAM;AACrB,eAAO,QAAQ,MAAM;AAAA,MACvB;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACzBjB;AAAA;AAAA,QAAI,OAAO;AAGX,QAAI,aAAa,KAAK;AAEtB,WAAO,UAAU;AAAA;AAAA;;;ACLjB;AAAA;AAAA,QAAI,aAAa;AASjB,aAAS,iBAAiB,aAAa;AACrC,UAAI,SAAS,IAAI,YAAY,YAAY,YAAY,UAAU;AAC/D,UAAI,WAAW,MAAM,EAAE,IAAI,IAAI,WAAW,WAAW,CAAC;AACtD,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,mBAAmB;AAUvB,aAAS,cAAc,UAAU,QAAQ;AACvC,UAAI,SAAS,SAAS,iBAAiB,SAAS,MAAM,IAAI,SAAS;AACnE,aAAO,IAAI,SAAS,YAAY,QAAQ,SAAS,YAAY,SAAS,UAAU;AAAA,IAClF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AACA,QAAI,UAAU;AASd,aAAS,YAAY,QAAQ;AAC3B,UAAI,SAAS,IAAI,OAAO,YAAY,OAAO,QAAQ,QAAQ,KAAK,MAAM,CAAC;AACvE,aAAO,YAAY,OAAO;AAC1B,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChBjB;AAAA;AAAA,QAAI,SAAS;AAGb,QAAI,cAAc,SAAS,OAAO,YAAY;AAA9C,QACI,gBAAgB,cAAc,YAAY,UAAU;AASxD,aAAS,YAAY,QAAQ;AAC3B,aAAO,gBAAgB,OAAO,cAAc,KAAK,MAAM,CAAC,IAAI,CAAC;AAAA,IAC/D;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,mBAAmB;AAUvB,aAAS,gBAAgB,YAAY,QAAQ;AAC3C,UAAI,SAAS,SAAS,iBAAiB,WAAW,MAAM,IAAI,WAAW;AACvE,aAAO,IAAI,WAAW,YAAY,QAAQ,WAAW,YAAY,WAAW,MAAM;AAAA,IACpF;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,mBAAmB;AAAvB,QACI,gBAAgB;AADpB,QAEI,cAAc;AAFlB,QAGI,cAAc;AAHlB,QAII,kBAAkB;AAGtB,QAAI,UAAU;AAAd,QACI,UAAU;AADd,QAEI,SAAS;AAFb,QAGI,YAAY;AAHhB,QAII,YAAY;AAJhB,QAKI,SAAS;AALb,QAMI,YAAY;AANhB,QAOI,YAAY;AAEhB,QAAI,iBAAiB;AAArB,QACI,cAAc;AADlB,QAEI,aAAa;AAFjB,QAGI,aAAa;AAHjB,QAII,UAAU;AAJd,QAKI,WAAW;AALf,QAMI,WAAW;AANf,QAOI,WAAW;AAPf,QAQI,kBAAkB;AARtB,QASI,YAAY;AAThB,QAUI,YAAY;AAchB,aAAS,eAAe,QAAQ,KAAK,QAAQ;AAC3C,UAAI,OAAO,OAAO;AAClB,cAAQ,KAAK;AAAA,QACX,KAAK;AACH,iBAAO,iBAAiB,MAAM;AAAA,QAEhC,KAAK;AAAA,QACL,KAAK;AACH,iBAAO,IAAI,KAAK,CAAC,MAAM;AAAA,QAEzB,KAAK;AACH,iBAAO,cAAc,QAAQ,MAAM;AAAA,QAErC,KAAK;AAAA,QAAY,KAAK;AAAA,QACtB,KAAK;AAAA,QAAS,KAAK;AAAA,QAAU,KAAK;AAAA,QAClC,KAAK;AAAA,QAAU,KAAK;AAAA,QAAiB,KAAK;AAAA,QAAW,KAAK;AACxD,iBAAO,gBAAgB,QAAQ,MAAM;AAAA,QAEvC,KAAK;AACH,iBAAO,IAAI;AAAA,QAEb,KAAK;AAAA,QACL,KAAK;AACH,iBAAO,IAAI,KAAK,MAAM;AAAA,QAExB,KAAK;AACH,iBAAO,YAAY,MAAM;AAAA,QAE3B,KAAK;AACH,iBAAO,IAAI;AAAA,QAEb,KAAK;AACH,iBAAO,YAAY,MAAM;AAAA,MAC7B;AAAA,IACF;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC5EjB;AAAA;AAAA,QAAI,WAAW;AAGf,QAAI,eAAe,OAAO;AAU1B,QAAI,aAAc,2BAAW;AAC3B,eAAS,SAAS;AAAA,MAAC;AACnB,aAAO,SAAS,OAAO;AACrB,YAAI,CAAC,SAAS,KAAK,GAAG;AACpB,iBAAO,CAAC;AAAA,QACV;AACA,YAAI,cAAc;AAChB,iBAAO,aAAa,KAAK;AAAA,QAC3B;AACA,eAAO,YAAY;AACnB,YAAI,SAAS,IAAI;AACjB,eAAO,YAAY;AACnB,eAAO;AAAA,MACT;AAAA,IACF,EAAE;AAEF,WAAO,UAAU;AAAA;AAAA;;;AC7BjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AADnB,QAEI,cAAc;AASlB,aAAS,gBAAgB,QAAQ;AAC/B,aAAQ,OAAO,OAAO,eAAe,cAAc,CAAC,YAAY,MAAM,IAClE,WAAW,aAAa,MAAM,CAAC,IAC/B,CAAC;AAAA,IACP;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,SAAS;AAAb,QACI,eAAe;AAGnB,QAAI,SAAS;AASb,aAAS,UAAU,OAAO;AACxB,aAAO,aAAa,KAAK,KAAK,OAAO,KAAK,KAAK;AAAA,IACjD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,YAAY;AADhB,QAEI,WAAW;AAGf,QAAI,YAAY,YAAY,SAAS;AAmBrC,QAAI,QAAQ,YAAY,UAAU,SAAS,IAAI;AAE/C,WAAO,UAAU;AAAA;AAAA;;;AC1BjB;AAAA;AAAA,QAAI,SAAS;AAAb,QACI,eAAe;AAGnB,QAAI,SAAS;AASb,aAAS,UAAU,OAAO;AACxB,aAAO,aAAa,KAAK,KAAK,OAAO,KAAK,KAAK;AAAA,IACjD;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACjBjB;AAAA;AAAA,QAAI,YAAY;AAAhB,QACI,YAAY;AADhB,QAEI,WAAW;AAGf,QAAI,YAAY,YAAY,SAAS;AAmBrC,QAAI,QAAQ,YAAY,UAAU,SAAS,IAAI;AAE/C,WAAO,UAAU;AAAA;AAAA;;;AC1BjB,IAAAC,qBAAA;AAAA;AAAA,QAAI,QAAQ;AAAZ,QACI,YAAY;AADhB,QAEI,cAAc;AAFlB,QAGI,aAAa;AAHjB,QAII,eAAe;AAJnB,QAKI,cAAc;AALlB,QAMI,YAAY;AANhB,QAOI,cAAc;AAPlB,QAQI,gBAAgB;AARpB,QASI,aAAa;AATjB,QAUI,eAAe;AAVnB,QAWI,SAAS;AAXb,QAYI,iBAAiB;AAZrB,QAaI,iBAAiB;AAbrB,QAcI,kBAAkB;AAdtB,QAeI,UAAU;AAfd,QAgBI,WAAW;AAhBf,QAiBI,QAAQ;AAjBZ,QAkBI,WAAW;AAlBf,QAmBI,QAAQ;AAnBZ,QAoBI,OAAO;AApBX,QAqBI,SAAS;AAGb,QAAI,kBAAkB;AAAtB,QACI,kBAAkB;AADtB,QAEI,qBAAqB;AAGzB,QAAI,UAAU;AAAd,QACI,WAAW;AADf,QAEI,UAAU;AAFd,QAGI,UAAU;AAHd,QAII,WAAW;AAJf,QAKI,UAAU;AALd,QAMI,SAAS;AANb,QAOI,SAAS;AAPb,QAQI,YAAY;AARhB,QASI,YAAY;AAThB,QAUI,YAAY;AAVhB,QAWI,SAAS;AAXb,QAYI,YAAY;AAZhB,QAaI,YAAY;AAbhB,QAcI,aAAa;AAEjB,QAAI,iBAAiB;AAArB,QACI,cAAc;AADlB,QAEI,aAAa;AAFjB,QAGI,aAAa;AAHjB,QAII,UAAU;AAJd,QAKI,WAAW;AALf,QAMI,WAAW;AANf,QAOI,WAAW;AAPf,QAQI,kBAAkB;AARtB,QASI,YAAY;AAThB,QAUI,YAAY;AAGhB,QAAI,gBAAgB,CAAC;AACrB,kBAAc,OAAO,IAAI,cAAc,QAAQ,IAC/C,cAAc,cAAc,IAAI,cAAc,WAAW,IACzD,cAAc,OAAO,IAAI,cAAc,OAAO,IAC9C,cAAc,UAAU,IAAI,cAAc,UAAU,IACpD,cAAc,OAAO,IAAI,cAAc,QAAQ,IAC/C,cAAc,QAAQ,IAAI,cAAc,MAAM,IAC9C,cAAc,SAAS,IAAI,cAAc,SAAS,IAClD,cAAc,SAAS,IAAI,cAAc,MAAM,IAC/C,cAAc,SAAS,IAAI,cAAc,SAAS,IAClD,cAAc,QAAQ,IAAI,cAAc,eAAe,IACvD,cAAc,SAAS,IAAI,cAAc,SAAS,IAAI;AACtD,kBAAc,QAAQ,IAAI,cAAc,OAAO,IAC/C,cAAc,UAAU,IAAI;AAkB5B,aAAS,UAAU,OAAO,SAAS,YAAY,KAAK,QAAQ,OAAO;AACjE,UAAI,QACA,SAAS,UAAU,iBACnB,SAAS,UAAU,iBACnB,SAAS,UAAU;AAEvB,UAAI,YAAY;AACd,iBAAS,SAAS,WAAW,OAAO,KAAK,QAAQ,KAAK,IAAI,WAAW,KAAK;AAAA,MAC5E;AACA,UAAI,WAAW,QAAW;AACxB,eAAO;AAAA,MACT;AACA,UAAI,CAAC,SAAS,KAAK,GAAG;AACpB,eAAO;AAAA,MACT;AACA,UAAI,QAAQ,QAAQ,KAAK;AACzB,UAAI,OAAO;AACT,iBAAS,eAAe,KAAK;AAC7B,YAAI,CAAC,QAAQ;AACX,iBAAO,UAAU,OAAO,MAAM;AAAA,QAChC;AAAA,MACF,OAAO;AACL,YAAI,MAAM,OAAO,KAAK,GAClB,SAAS,OAAO,WAAW,OAAO;AAEtC,YAAI,SAAS,KAAK,GAAG;AACnB,iBAAO,YAAY,OAAO,MAAM;AAAA,QAClC;AACA,YAAI,OAAO,aAAa,OAAO,WAAY,UAAU,CAAC,QAAS;AAC7D,mBAAU,UAAU,SAAU,CAAC,IAAI,gBAAgB,KAAK;AACxD,cAAI,CAAC,QAAQ;AACX,mBAAO,SACH,cAAc,OAAO,aAAa,QAAQ,KAAK,CAAC,IAChD,YAAY,OAAO,WAAW,QAAQ,KAAK,CAAC;AAAA,UAClD;AAAA,QACF,OAAO;AACL,cAAI,CAAC,cAAc,GAAG,GAAG;AACvB,mBAAO,SAAS,QAAQ,CAAC;AAAA,UAC3B;AACA,mBAAS,eAAe,OAAO,KAAK,MAAM;AAAA,QAC5C;AAAA,MACF;AAEA,gBAAU,QAAQ,IAAI;AACtB,UAAI,UAAU,MAAM,IAAI,KAAK;AAC7B,UAAI,SAAS;AACX,eAAO;AAAA,MACT;AACA,YAAM,IAAI,OAAO,MAAM;AAEvB,UAAI,MAAM,KAAK,GAAG;AAChB,cAAM,QAAQ,SAAS,UAAU;AAC/B,iBAAO,IAAI,UAAU,UAAU,SAAS,YAAY,UAAU,OAAO,KAAK,CAAC;AAAA,QAC7E,CAAC;AAAA,MACH,WAAW,MAAM,KAAK,GAAG;AACvB,cAAM,QAAQ,SAAS,UAAUC,MAAK;AACpC,iBAAO,IAAIA,MAAK,UAAU,UAAU,SAAS,YAAYA,MAAK,OAAO,KAAK,CAAC;AAAA,QAC7E,CAAC;AAAA,MACH;AAEA,UAAI,WAAW,SACV,SAAS,eAAe,aACxB,SAAS,SAAS;AAEvB,UAAI,QAAQ,QAAQ,SAAY,SAAS,KAAK;AAC9C,gBAAU,SAAS,OAAO,SAAS,UAAUA,MAAK;AAChD,YAAI,OAAO;AACT,UAAAA,OAAM;AACN,qBAAW,MAAMA,IAAG;AAAA,QACtB;AAEA,oBAAY,QAAQA,MAAK,UAAU,UAAU,SAAS,YAAYA,MAAK,OAAO,KAAK,CAAC;AAAA,MACtF,CAAC;AACD,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrKjB;AAAA;AAcA,aAAS,KAAK,OAAO;AACnB,UAAI,SAAS,SAAS,OAAO,IAAI,MAAM;AACvC,aAAO,SAAS,MAAM,SAAS,CAAC,IAAI;AAAA,IACtC;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACnBjB;AAAA;AASA,aAAS,UAAU,OAAO,OAAO,KAAK;AACpC,UAAIC,SAAQ,IACR,SAAS,MAAM;AAEnB,UAAI,QAAQ,GAAG;AACb,gBAAQ,CAAC,QAAQ,SAAS,IAAK,SAAS;AAAA,MAC1C;AACA,YAAM,MAAM,SAAS,SAAS;AAC9B,UAAI,MAAM,GAAG;AACX,eAAO;AAAA,MACT;AACA,eAAS,QAAQ,MAAM,IAAM,MAAM,UAAW;AAC9C,iBAAW;AAEX,UAAI,SAAS,MAAM,MAAM;AACzB,aAAO,EAAEA,SAAQ,QAAQ;AACvB,eAAOA,MAAK,IAAI,MAAMA,SAAQ,KAAK;AAAA,MACrC;AACA,aAAO;AAAA,IACT;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC9BjB;AAAA;AAAA,QAAI,UAAU;AAAd,QACI,YAAY;AAUhB,aAAS,OAAO,QAAQ,MAAM;AAC5B,aAAO,KAAK,SAAS,IAAI,SAAS,QAAQ,QAAQ,UAAU,MAAM,GAAG,EAAE,CAAC;AAAA,IAC1E;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,OAAO;AADX,QAEI,SAAS;AAFb,QAGI,QAAQ;AAGZ,QAAI,cAAc,OAAO;AAGzB,QAAI,iBAAiB,YAAY;AAUjC,aAAS,UAAU,QAAQ,MAAM;AAC/B,aAAO,SAAS,MAAM,MAAM;AAG5B,UAAIC,SAAQ,IACR,SAAS,KAAK;AAElB,UAAI,CAAC,QAAQ;AACX,eAAO;AAAA,MACT;AAEA,UAAI,kBAAkB,UAAU,QAAS,OAAO,WAAW,YAAY,OAAO,WAAW;AAEzF,aAAO,EAAEA,SAAQ,QAAQ;AACvB,YAAI,MAAM,KAAKA,MAAK;AAGpB,YAAI,OAAO,QAAQ,UAAU;AAC3B;AAAA,QACF;AAGA,YAAI,QAAQ,eAAe,CAAC,eAAe,KAAK,QAAQ,WAAW,GAAG;AACpE,iBAAO;AAAA,QACT;AAGA,YAAI,QAAQ,iBACPA,SAAQ,IAAK,UACd,OAAO,KAAKA,SAAQ,CAAC,MAAM,YAC3B,KAAKA,SAAQ,CAAC,MAAM,aAAa;AAGnC,cAAI,mBAAmBA,WAAU,GAAG;AAClC;AAAA,UACF;AAEA,iBAAO;AAAA,QACT;AAAA,MACF;AAEA,UAAI,MAAM,OAAO,QAAQ,IAAI;AAC7B,aAAO,OAAO,QAAQ,OAAO,IAAI,MAAM,KAAK,IAAI,CAAC,CAAC;AAAA,IACpD;AAEA,WAAO,UAAU;AAAA;AAAA;;;AChEjB;AAAA;AAAA,QAAI,aAAa;AAAjB,QACI,eAAe;AADnB,QAEI,eAAe;AAGnB,QAAI,YAAY;AAGhB,QAAI,YAAY,SAAS;AAAzB,QACI,cAAc,OAAO;AAGzB,QAAI,eAAe,UAAU;AAG7B,QAAI,iBAAiB,YAAY;AAGjC,QAAI,mBAAmB,aAAa,KAAK,MAAM;AA8B/C,aAAS,cAAc,OAAO;AAC5B,UAAI,CAAC,aAAa,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW;AAC1D,eAAO;AAAA,MACT;AACA,UAAI,QAAQ,aAAa,KAAK;AAC9B,UAAI,UAAU,MAAM;AAClB,eAAO;AAAA,MACT;AACA,UAAI,OAAO,eAAe,KAAK,OAAO,aAAa,KAAK,MAAM;AAC9D,aAAO,OAAO,QAAQ,cAAc,gBAAgB,QAClD,aAAa,KAAK,IAAI,KAAK;AAAA,IAC/B;AAEA,WAAO,UAAU;AAAA;AAAA;;;AC7DjB;AAAA;AAAA,QAAI,gBAAgB;AAWpB,aAAS,gBAAgB,OAAO;AAC9B,aAAO,cAAc,KAAK,IAAI,SAAY;AAAA,IAC5C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,cAAc;AAgBlB,aAAS,QAAQ,OAAO;AACtB,UAAI,SAAS,SAAS,OAAO,IAAI,MAAM;AACvC,aAAO,SAAS,YAAY,OAAO,CAAC,IAAI,CAAC;AAAA,IAC3C;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACrBjB;AAAA;AAAA,QAAI,UAAU;AAAd,QACI,WAAW;AADf,QAEI,cAAc;AASlB,aAAS,SAAS,MAAM;AACtB,aAAO,YAAY,SAAS,MAAM,QAAW,OAAO,GAAG,OAAO,EAAE;AAAA,IAClE;AAEA,WAAO,UAAU;AAAA;AAAA;;;ACfjB;AAAA;AAAA,QAAI,WAAW;AAAf,QACI,YAAY;AADhB,QAEI,YAAY;AAFhB,QAGI,WAAW;AAHf,QAII,aAAa;AAJjB,QAKI,kBAAkB;AALtB,QAMI,WAAW;AANf,QAOI,eAAe;AAGnB,QAAI,kBAAkB;AAAtB,QACI,kBAAkB;AADtB,QAEI,qBAAqB;AAsBzB,QAAIC,QAAO,SAAS,SAAS,QAAQ,OAAO;AAC1C,UAAI,SAAS,CAAC;AACd,UAAI,UAAU,MAAM;AAClB,eAAO;AAAA,MACT;AACA,UAAI,SAAS;AACb,cAAQ,SAAS,OAAO,SAAS,MAAM;AACrC,eAAO,SAAS,MAAM,MAAM;AAC5B,mBAAW,SAAS,KAAK,SAAS;AAClC,eAAO;AAAA,MACT,CAAC;AACD,iBAAW,QAAQ,aAAa,MAAM,GAAG,MAAM;AAC/C,UAAI,QAAQ;AACV,iBAAS,UAAU,QAAQ,kBAAkB,kBAAkB,oBAAoB,eAAe;AAAA,MACpG;AACA,UAAI,SAAS,MAAM;AACnB,aAAO,UAAU;AACf,kBAAU,QAAQ,MAAM,MAAM,CAAC;AAAA,MACjC;AACA,aAAO;AAAA,IACT,CAAC;AAED,WAAO,UAAUA;AAAA;AAAA;;;ICrDJC,WAAW;EACtB,CAAC,gCAAgC,GAAGC;EACpC,CAAC,0CAA0C,GAAGC;AAChD;;;;;ICyCaC,WAAoB;EAC/BC,YAAY;IACVC,QAAQ,CAAA;IACRC,IAAI,EAAEC,IAAIC,UAAS,GAAE;AACnB,UAAI,CAAC,KAAKH,OAAOE,EAAAA,GAAK;AACpB,aAAKF,OAAOE,EAAAA,IAAMC;MACpB;IACF;EACF;EACAC,OAAO;IACLC,WAAW,CAYX;IACAC,aAAa;MACXC,YAAY,CAAA;MACZC,MAAM;QACJC,UAAU,CAAA;QACVC,MAAM,CAAA;MACR;IACF;IACAP,WAAW;MACTI,YAAY,CAAA;MACZC,MAAM;QACJC,UAAU,CAAA;QACVC,MAAM,CAAA;MACR;IACF;EACF;EACAC,4BAA4B,CAAA;EAC5BC,6BAA6BC,IAAE;AAC7B,SAAKF,2BAA2BG,KAAKD,EAAAA;EACvC;EACAE,kBAAkB,EAAEC,WAAWR,MAAM,EAAEC,UAAUC,KAAI,EAAE,GAAE;AACvD,UAAM,EAAEJ,YAAW,IAAK,KAAKF;AAE7B,QAAIY,WAAW;AACbV,kBAAYC,WAAWO,KAAKE,SAAAA;IAC9B;AACAV,gBAAYE,KAAKC,SAASK,KAAKL,QAAAA;AAC/BH,gBAAYE,KAAKE,KAAKI,KAAKJ,IAAAA;EAC7B;EACAO,aAAaC,QAAQ,EAAEF,WAAWR,MAAM,EAAEC,UAAUC,KAAI,EAAE,GAAE;AAC1D,UAAMS,WAAW,KAAKf,MAAMC;AAE5Ba,WAAOE,QAAQ,CAACC,UAAAA;AACd,UAAI,CAACF,SAASE,KAAAA,GAAQ;AACpBF,iBAASE,KAAAA,IAAS;UAChBd,YAAY,CAAA;UACZC,MAAM;YACJC,UAAU,CAAA;YAGVC,MAAM,CAAA;UAGR;QACF;MACF;AAEA,UAAIM,WAAW;AACbG,iBAASE,KAAM,EAACd,WAAWO,KAAKE,SAAAA;MAClC;AACAG,eAASE,KAAAA,EAAOb,KAAKC,SAASK,KAAKL,QAAAA;AACnCU,eAASE,KAAAA,EAAOb,KAAKE,KAAKI,KAAKJ,IAAAA;IACjC,CAAA;EACF;EAEAY,gBAAgBC,QAAQC,QAAQ,MAAI;AAClC,UAAMC,oBAAgBC,WAAAA,SAAI,KAAKtB,OAAO;MAAImB,GAAAA;MAAQ;MAAQ;IAAW,GAAE,CAAA,CAAE,EAAEI,OACzE,CAACC,KAAUC,YAAAA;AACT,YAAMC,WAAWD,QAAQL,KAAAA;AAEzB,aAAO;QAAII,GAAAA;QAAQE,GAAAA;MAAS;IAC9B,GACA,CAAA,CAAE;AAGJ,WAAOL;EACT;EAEAM,yBAAyBC,gBAAgBhB,cAAciB,eAAa;AAElE,QAAI,CAACjB,UAAW,QAAOgB;AAGvB,WAAOA,eAAeE,MAAM;MAAEC,SAAaC,QAAM,EAAGF,MAAMlB,UAAUiB,aAAAA,CAAAA;IAAgB,CAAA;EACtF;EAEAI,cAAcd,QAAQe,cAAcC,MAAI;AACtC,UAAMhC,iBAAamB,WAAAA,SAAI,KAAKtB,OAAO;MAAImB,GAAAA;MAAQ;IAAa,GAAE,CAAA,CAAE;AAEhE,UAAMiB,qBAAqBjC,WAAWoB,OAAO,CAACC,KAAUC,YAAAA;AACtD,YAAMY,oBAAoBZ,QAAQU,IAAAA;AAElC,aAAO;QAAE,GAAGX;QAAK,GAAGa;MAAkB;IACxC,GAAG,CAAA,CAAC;AAEJ,WAAOH,UAAUJ,MAAM;MAAEQ,eAAmBN,QAAM,EAAGF,MAAMM,kBAAAA;IAAoB,CAAA;EACjF;EACAG,wBAAwBC,MAA+BC,aAAoC;AACzF,QAAIC,mBAAeC,iBAAAA,SAAUH,IAAAA;AAE7B,UAAMI,cAAUD,iBAAAA,SAAUF,WAAAA;AAE1B,SAAKlC,2BAA2BS,QAAQ,CAACP,OAAAA;AACvCiC,qBAAejC,GAAGiC,cAAcE,OAAAA;IAClC,CAAA;AAEA,WAAOF;EACT;AACF;;;ACrKMG,IAAAA,2BAA2B,CAACC,MAAmBC,cAAAA;AAInD,SAAOC,OAAOC,KAAKH,IAAAA,EAAMI,OAAO,CAACC,KAAKC,YAAAA;AACpCD,QAAI,GAAGJ,SAAAA,IAAYK,OAAAA,EAAS,IAAIN,KAAKM,OAAQ;AAC7C,WAAOD;EACT,GAAG,CAAA,CAAC;AACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCA,IAAAE,SAAe;EACbC,SAASC,KAAc;AACrBA,QAAIC,YAAYC,QAAAA;AAChBF,QAAIG,YAAY;MACdC,IAAI,WAAWC,QAAU;MACzBC,MAAMC;MACNC,WAAW;QACTC,IAAI,GAAGJ,QAAS;QAChBK,gBAAgB;MAClB;MACAC,aAAaC,YAAYC;MACzBC,WAAW,MAAM,OAAO,mBAAA;MACxBC,UAAU;IACZ,CAAA;AAEAf,QAAIgB,eAAe;MACjBP,IAAIJ;MACJY,MAAMZ;;MAENa,MAAM;QACJC,OAAOC;MACT;IACF,CAAA;EACF;EACAC,YAAa;EAAA;EACb,MAAMC,cAAc,EAAEC,QAAO,GAAyB;AACpD,UAAMC,gBAAgB,MAAMC,QAAQC,IAClCH,QAAQI,IAAI,CAACC,WAAAA;AACX,aAAO,kCAAO,kBAAkBA,MAAO,OAAM,EAC1CC,KAAK,CAAC,EAAEC,SAASC,KAAI,MAAE;AACtB,eAAO;UACLA,MAAMC,yBAAyBD,MAAM1B,QAAAA;UACrCuB;QACF;MACF,CAAA,EACCK,MAAM,MAAA;AACL,eAAO;UACLF,MAAM,CAAA;UACNH;QACF;MACF,CAAA;IACJ,CAAA,CAAA;AAGF,WAAOH,QAAQS,QAAQV,aAAAA;EACzB;AACF;;;ACvDMW,IAAAA,4BAA2B,CAACC,MAAmBC,cAAAA;AAInD,SAAOC,OAAOC,KAAKH,IAAAA,EAAMI,OAAO,CAACC,KAAKC,YAAAA;AACpCD,QAAI,GAAGJ,SAAAA,IAAYK,OAAAA,EAAS,IAAIN,KAAKM,OAAQ;AAC7C,WAAOD;EACT,GAAG,CAAA,CAAC;AACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLA,IAAME,QAAkC;;;EAGtCC,SAASC,KAAQ;AAEfA,QAAIC,qBACF;MACEC,IAAI;MACJC,WAAW;QAAED,IAAI;QAAmCE,gBAAgB;MAAe;OAErF;MACE;QACED,WAAW;UACTD,IAAI;UACJE,gBAAgB;QAClB;QACAF,IAAI;QACJG,IAAI;QACJC,WAAW,MACT,OAAO,wBAAA,EAAoBC,KAAK,CAACC,SAAS;UACxCC,SAASD,IAAIE;UACf;QACFC,aAAaC,aAAYC;MAC3B;IACD,CAAA;AAEHb,QAAIc,eAAe;MACjBZ,IAAI;MACJa,MAAM;IACR,CAAA;EACF;;EAEAC,YAAa;EAAA;EACb,MAAMC,cAAc,EAAEC,QAAO,GAAyB;AACpD,UAAMC,gBAAgB,MAAMC,QAAQC,IAClCH,QAAQI,IAAI,CAACC,WAAAA;AACX,aAAOC,mCAAO,kBAAkBD,MAAO,OAAM,EAC1ChB,KAAK,CAAC,EAAEE,SAASgB,KAAI,MAAE;AACtB,eAAO;UACLA,MAAMC,0BAAyBD,MAAM,OAAA;UACrCF;QACF;MACF,CAAA,EACCI,MAAM,MAAA;AACL,eAAO;UACLF,MAAM,CAAA;UACNF;QACF;MACF,CAAA;IACJ,CAAA,CAAA;AAGF,WAAOH,QAAQQ,QAAQT,aAAAA;EACzB;AACF;;;;;;;;;;;;;AClDO,IAAMU,sBAAsB,CAACC,iBAAAA;AAClC,QAAM,EAAEC,WAAU,IAAKC,YAAAA;AACvB,QAAM,EACJC,QAAQ,EAAEC,MAAMD,OAAM,EAAE,IACtBE,UAAAA;AAEJ,QAAM,CAACC,aAAaC,cAAAA,IAAwBC,eAAgB;IAC1DC,MAAM;IACNC,MAAM;IACNC,UAAU;IACVC,SAAS;MACPC,MAAM,CAAA;IACR;IACA,GAAGb;EACL,CAAA;AAEAc,EAAMC,gBAAU,MAAA;AACd,QAAIZ,UAAU,UAAUA,UAAU,cAAcA,QAAQ;AACtDI,qBAAe,CAACS,eAAe;QAC7B,GAAGA;QACHN,MAAMP,OAAOO;QACbC,UAAUR,OAAOQ;QACnB;IACF;KACC;IAACR;EAAO,CAAA;AAEX,QAAMc,sBAAsB,CAACC,gBAAAA;AAC3B,QAAIA,aAAa;AACfjB,iBAAW,iCAAiC;QAC1CkB,UAAU;QACVC,QAAQC,OAAOC,KAAKJ,YAAYA,YAAYK,SAAS,CAAA,CAAE,EAAE,CAAE;MAC7D,CAAA;AACAhB,qBAAe,CAACiB,UAAU;QAAE,GAAGA;QAAMf,MAAM;QAAGG,SAAS;UAAEC,MAAMK;QAAY;QAAE;IAC/E;EACF;AAEA,QAAMO,uBAAuB,CAACd,aAAAA;AAC5BJ,mBAAe,CAACiB,UAAU;MACxB,GAAGA;MACHb,UAAU,OAAOA,aAAa,WAAWe,SAASf,UAAU,EAAMA,IAAAA;MAClEF,MAAM;MACR;EACF;AAEA,QAAMkB,kBAAkB,CAAClB,SAAAA;AACvBF,mBAAe,CAACiB,UAAU;MAAE,GAAGA;MAAMf;MAAK;EAC5C;AAEA,QAAMmB,mBAAmB,CAAClB,SAAAA;AACxB,QAAIA,MAAM;AACRT,iBAAW,+BAA+B;QACxCkB,UAAU;QACVT;MACF,CAAA;AACAH,qBAAe,CAACiB,UAAU;QAAE,GAAGA;QAAMd;QAAK;IAC5C;EACF;AAEA,QAAMmB,qBAAqB,CAACC,OAAAA;AAC1B,QAAIA,IAAI;AACNvB,qBAAe,CAACiB,UAAU;QAAE,GAAGA;QAAMM;QAAIrB,MAAM;QAAE;WAC5C;AACL,YAAMsB,WAAkB;QAAEtB,MAAM;MAAE;AAElCY,aAAOC,KAAKhB,WAAa0B,EAAAA,QAAQ,CAACC,QAAAA;AAChC,YAAI,CAAC;UAAC;UAAQ;UAAMC,SAASD,GAAM,GAAA;AAChCF,mBAAyDE,GAAI,IAAG,YAE/DA,GAAI;QACR;MACF,CAAA;AAEA1B,qBAAewB,QAAAA;IACjB;EACF;AAEA,QAAMI,qBAAqB,CAACC,QAAyBC,eAAAA;AACnD9B,mBAAe,CAACiB,UAAU;MAAE,GAAGA;MAAMY,QAAQA,UAAU;MAAMC;MAAW;EAC1E;AAEA,SAAO;IACL;MAAE/B;MAAagC,cAAUC,qBAAUjC,aAAa;QAAEkC,QAAQ;MAAM,CAAA;IAAG;IACnE;MACEC,iBAAiBxB;MACjByB,gBAAgBP;MAChBQ,cAAchB;MACdiB,kBAAkBnB;MAClBoB,cAAcjB;MACdkB,gBAAgBjB;IAClB;EACD;AACH;;;ACpGO,IAAMkB,kBAAkB,CAACC,UAAAA;AAC9B,MAAI,CAACA,OAAO;AACV,WAAO,CAAA;EACT;AAEA,SAAOA,MAAMC,IAAI,CAACC,SAASA,KAAKC,UAAU,GAAGD,KAAKE,SAAS,CAAA,CAAA;AAC7D;;;ACWO,IAAMC,kBAAkB,CAACC,aAA8BC,UAAAA;AAC5D,MAAI,CAACD,aAAa;AAChB,WAAOC;EACT;AAEA,QAAMC,gBAAgBC,gBAAgBH,WAAAA;AAEtC,QAAMI,eAAeH,MAAMI,OAAO,CAACC,SAAAA;;AACjC,UAAMC,YAAWD,kCAAME,SAANF,mBAAYG,MAAM,KAAK;AAExC,QAAI,CAACF,UAAU;AACb,aAAO;IACT;AAEA,QAAIL,cAAcQ,SAAS,MAAA,KAAW,CAAC;MAAC;MAAS;MAAS;MAASA,SAASH,QAAW,GAAA;AACrF,aAAO;IACT;AAEA,WAAOL,cAAcQ,SAASH,QAAAA;EAChC,CAAA;AAEA,SAAOH;AACT;;;;;;ACvCA,IAAMO,OAAO,CAAaC,OAAYC,UAAkBC,aAAAA;AACtD,MAAIA,YAAYF,MAAMG,QAAQ;AAC5BD,eAAWF,MAAMG,SAAS;EAC5B;AACAH,QAAMI,OAAOF,UAAU,GAAGF,MAAMI,OAAOH,UAAU,CAAE,EAAC,CAAE,CAAA;AAEtD,SAAOD;AACT;AAEaK,IAAAA,cAAc,CAAaL,OAAYM,QAAeC,WAAAA;AACjE,QAAML,WAAWI,SAAQC;AAEzB,SAAOR,KAAKC,OAAOM,QAAOJ,QAAAA;AAC5B;;;;;;ACUO,IAAMM,sBAAsB,CAACC,WAAAA;;AAClC,QAAMC,OAAyB;IAC7B;MACEC,IAAI;MACJC,OAAO;QAAED,IAAIE,QAAQ,aAAA;QAAgBC,gBAAgB;MAAgB;IACvE;EACD;AAED,OAAIL,sCAAQM,WAARN,mBAAgBM,QAAQ;AAC1BL,SAAKM,KAAK,CAAA,CAAE;EACd;AAEA,MAAIP,iCAAQM,QAAQ;AAClBL,SAAKM,KAAK;MACRL,IAAIF,OAAOM,OAAOJ;MAClBC,OAAOH,OAAOM,OAAOE;MACrBC,MAAMT,OAAOM,OAAOG;IACtB,CAAA;EACF;AAEA,MAAIT,QAAQ;AACVC,SAAKM,KAAK;MACRL,IAAIF,OAAOE;MACXC,OAAOH,OAAOQ;MACdC,MAAMT,OAAOS;IACf,CAAA;EACF;AAEA,SAAOR;AACT;;;;;;;;;ICRaS,UAAU,CAAC,EAAEC,gBAAgBC,gBAAe,MAAgB;AACvE,QAAM,CAACC,MAAMC,OAAAA,IAAiBC,gBAAS,KAAA;AACvC,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,aACEC,yBAACC,GAAQC,MAAI;IAACP;IAAYQ,cAAcP;;UACtCQ,wBAACH,GAAQI,SAAO;QACd,cAAAD,wBAACE,IAAAA;UAAOC,SAAQ;UAAWC,eAAWJ,wBAACK,IAAAA,CAAAA,CAAAA;UAAWC,MAAK;oBACpDZ,cAAc;YAAEa,IAAI;YAAqBC,gBAAgB;UAAU,CAAA;;;UAGxER,wBAACS,eAAAA;QACCC,UAAU,MAAMlB,QAAQ,CAACmB,SAAS,CAACA,IAAAA;QACnCC;QACAC,SAASxB;QACTyB,UAAUxB;;MAGXD,sBACCW,wBAACe,YAAAA;QACC1B;QACA2B,eAAeJ;QACfK,gBAAgB3B;;;;AAK1B;;;;IC/Da4B,WAAW,CAAC,EAAEC,kBAAkBC,SAAQ,MAAiB;AACpE,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,QAAMC,eAAe,CAACC,UAAAA;AACpBL,qBAAiBM,OAAOD,KAAAA,CAAAA;EAC1B;AAEA,aACEE,0BAACC,GAAAA;;UACCD,0BAACE,IAAAA;QACCC,MAAK;QACLC,cAAYT,cAAc;UACxBU,IAAI;UACJC,gBAAgB;QAClB,CAAA;QACAC,UAAUV;QACVC,OAAOJ,SAASc,SAAQ;;cAExBC,yBAACC,IAAAA;YAAmBZ,OAAM;YAAK,UAAA;;cAC/BW,yBAACC,IAAAA;YAAmBZ,OAAM;YAAK,UAAA;;cAC/BW,yBAACC,IAAAA;YAAmBZ,OAAM;YAAK,UAAA;;cAC/BW,yBAACC,IAAAA;YAAmBZ,OAAM;YAAM,UAAA;;;;UAElCW,yBAACE,GAAAA;QAAIC,aAAa;QAChB,cAAAH,yBAACI,GAAAA;UAAWC,WAAU;UAAaC,KAAI;UAAQC,SAAQ;oBACpDrB,cAAc;YACbU,IAAI;YACJC,gBAAgB;UAClB,CAAA;;;;;AAKV;;;;;;;;ACrCA,IAAMW,oBAA0BC,qBAAc;EAAEC,YAAY;EAAGC,WAAW;AAAE,CAAA;IAC/DC,gBAAgB,MAAYC,kBAAWL,iBAAmB;AAS1DM,IAAAA,aAAa,CAAC,EACzBC,UACAL,YACAC,WACAK,QAAQ,aAAY,MACJ;AAChB,QAAMC,kBAAwBC,eAAQ,OAAO;IAAER;IAAYC;EAAU,IAAI;IAACD;IAAYC;EAAU,CAAA;AAEhG,aACEQ,yBAACX,kBAAkBY,UAAQ;IAACC,OAAOJ;IACjC,cAAAE,yBAACG,GAAAA;MAAIC,KAAI;MAAMC,cAAYR;MACzB,cAAAG,yBAACM,GAAAA;QAAKF,KAAI;QAAKG,KAAK;QACjBX;;;;AAKX;;;ACVA,IAAMY,iBAAiBC,GAAOC,CAAAA;;;AAI9B,IAAMC,oBAAoBC;aACb,CAAC,EAAEC,MAAK,MAAOA,MAAMC,OAAO,CAAA,CAAE;mBACxB,CAAC,EAAED,MAAK,MAAOA,MAAME,YAAY;gBACpC,CAAC,EAAEC,SAASH,MAAK,MAAQG,UAAUH,MAAMI,QAAQC,eAAeC,MAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BA8BjE,CAACC,UAAUA,MAAMP,MAAMQ,OAAOC,UAAU;;;;AAKlE,IAAMC,oBAAoBd,GAAOe;IAC7Bb,iBAAkB;;AAGtB,IAAMc,iBAAiBhB,GAAOiB;IAC1Bf,iBAAkB;;AAGtBY,kBAAkBI,eAAe;EAAEC,MAAM;AAAS;AAElD,IAAMC,kBAAkBpB,GAAOc,iBAAAA;WACpB,CAAC,EAAEV,OAAOG,QAAO,MAAQA,UAAUH,MAAMQ,OAAOS,aAAajB,MAAMQ,OAAOU,UAAU;gBAC/E,CAAC,EAAElB,OAAOG,QAAO,MAAQA,UAAUH,MAAMQ,OAAOW,WAAWb,MAAW;;;kBAGpE,CAAC,EAAEN,MAAK,MAAOA,MAAMI,QAAQC,YAAY;;;AAI3D,IAAMe,oBAAoBxB,GAAOc,iBAAAA;;;YAGrB,CAACW,MAAOA,EAAE,eAAgB,IAAGA,EAAErB,MAAMQ,OAAOc,aAAaD,EAAErB,MAAMQ,OAAOe,UAAU;;;;;;cAMhF,CAACF,MAAOA,EAAE,eAAgB,IAAGA,EAAErB,MAAMQ,OAAOc,aAAaD,EAAErB,MAAMQ,OAAOgB,UAAU;;;;IAI5F,CAACH,MACDA,EAAE,eAAA,IACE;;QAGAf,MAAU;;AAGlB,IAAMmB,cAAc7B,GAAOgB,cAAAA;WAChB,CAAC,EAAEZ,MAAK,MAAOA,MAAMQ,OAAOU,UAAU;;AAWjD,IAAMQ,eAAe,CAAC,EAAEC,UAAU,GAAGpB,MAA4B,MAAA;AAC/D,QAAM,EAAEqB,WAAU,IAAKC,cAAAA;AAEvB,QAAMC,WAAWF,eAAe;AAEhC,aACEG,yBAACC,MAAAA;IACC,cAAAC,0BAACb,mBAAAA;MAAkBc,iBAAeJ;MAAUK,UAAUL,WAAW,KAAKxB;MAAY,GAAGC;;YACnFwB,yBAACK,IAAAA;UAAgBT;;YACjBI,yBAACM,IAAAA;UAAYC,eAAW;;;;;AAIhC;AAEA,IAAMC,WAAW,CAAC,EAAEZ,UAAU,GAAGpB,MAA4B,MAAA;AAC3D,QAAM,EAAEqB,YAAYY,UAAS,IAAKX,cAAAA;AAElC,QAAMC,WAAWF,eAAeY;AAEhC,aACET,yBAACC,MAAAA;IACC,cAAAC,0BAACb,mBAAAA;MAAkBc,iBAAeJ;MAAUK,UAAUL,WAAW,KAAKxB;MAAY,GAAGC;;YACnFwB,yBAACK,IAAAA;UAAgBT;;YACjBI,yBAACU,IAAAA;UAAaH,eAAW;;;;;AAIjC;AAEA,IAAMI,WAAW,CAAC,EAAEC,QAAQhB,UAAU,GAAGpB,MAAsB,MAAA;AAC7D,QAAM,EAAEqB,WAAU,IAAKC,cAAAA;AAEvB,QAAMe,WAAWhB,eAAee;AAEhC,aACEZ,yBAACC,MAAAA;IACC,cAAAC,0BAACjB,iBAAAA;MAAiB,GAAGT;MAAOJ,SAASyC;;YACnCb,yBAACK,IAAAA;UAAgBT;;YACjBI,yBAACpC,gBAAAA;UAAe2C,eAAW;UAACO,SAAQ;UAAKC,YAAYF,WAAW,SAAS;UACtED,UAAAA;;;;;AAKX;AAMA,IAAMI,OAAO,CAAC,EAAEpB,UAAU,GAAGpB,MAAAA,UAC3BwB,yBAACC,MAAAA;EACC,cAAAC,0BAACR,aAAAA;IAAa,GAAGlB;IAAOyC,IAAG;;UACzBjB,yBAACK,IAAAA;QAAgBT;;UACjBI,yBAACpC,gBAAAA;QAAe2C,eAAW;QAACW,OAAK;QAAC,UAAA;;;;;AAe3BC,IAAAA,mBAAmB,CAAC,EAC/BtB,YACAuB,cACAC,YAAY,EAAEZ,UAAS,EAAE,MACH;AACtB,QAAM,EAAEa,cAAa,IAAKC,QAAAA;AAE1B,QAAMC,qBAAqB3B,aAAa;AACxC,QAAM4B,iBAAiB5B,aAAa;AAEpC,QAAM6B,aAAa;QACjB1B,yBAACW,UAAAA;MAECC,QAAQ;MACRe,SAAS,MAAA;AACPP,qBAAa,CAAA;MACf;gBAECE,cACC;QAAEM,IAAI;QAA+BC,gBAAgB;SACrD;QAAEC,MAAM;MAAE,CAAA;IARP,GAAA,CAAA;EAWR;AAED,MAAIrB,aAAa,GAAG;AAClB,UAAMsB,QAAQC,MAAMC,KAAK;MAAEC,QAAQzB;KAChC0B,EAAAA,IAAI,CAACC,GAAGC,MAAMA,IAAI,CAAA,EAClBF,IAAI,CAACvB,WAAAA;AACJ,iBACEZ,yBAACW,UAAAA;QAAsBC;QAAgBe,SAAS,MAAMP,aAAaR,MAAAA;kBAChEU,cACC;UAAEM,IAAI;UAA+BC,gBAAgB;WACrD;UAAEC,MAAMlB;QAAO,CAAA;MAHJA,GAAAA,MAAAA;IAOnB,CAAA;AAEF,eACEV,0BAACoC,YAAAA;MAAWzC;MAAwBY;;YAClCT,yBAACL,cAAAA;UAAagC,SAAS,MAAMP,aAAaI,kBAAAA;oBACvCF,cAAc;YACbM,IAAI;YACJC,gBAAgB;UAClB,CAAA;;QAEDE;YACD/B,yBAACQ,UAAAA;UAASmB,SAAS,MAAMP,aAAaK,cAAAA;oBACnCH,cAAc;YACbM,IAAI;YACJC,gBAAgB;UAClB,CAAA;;;;EAIR;AAEA,MAAIU,qBAA+B,CAAA;AACnC,QAAMC,YAA2B,CAAA;AACjC,MAAIC,oBAA8B,CAAA;AAClC,QAAMC,cAA6B,CAAA;AAEnC,MAAIjC,YAAY,GAAG;AACjB+B,cAAUG,SACR3C,yBAACW,UAAAA;MAAyBC,QAAQH;MAAWkB,SAAS,MAAMP,aAAaX,SAAAA;gBACtEa,cACC;QAAEM,IAAI;QAA+BC,gBAAgB;SACrD;QAAEC,MAAMrB;MAAU,CAAA;IAHPA,GAAAA,SAAAA,CAAAA;EAOnB;AAEA,MAAIZ,eAAe,KAAKY,aAAa,GAAG;AACtC8B,yBAAqB;MAAC;IAAE;EAC1B;AAEA,MAAI1C,eAAe,KAAKY,aAAa,GAAG;AACtC,QAAIA,cAAc,GAAG;AACnB8B,2BAAqB;QAAC;QAAG;QAAG;MAAE;eACrB9B,cAAc,GAAG;AAC1B8B,2BAAqB;QAAC;MAAE;WACnB;AACLA,2BAAqB;QAAC;QAAG;MAAE;IAC7B;EACF;AAEA,MAAI1C,eAAe,KAAKY,aAAa,GAAG;AACtC8B,yBAAqB;MAAC;IAAE;EAC1B;AAEA,MAAI1C,eAAeY,aAAaA,aAAa,GAAG;AAC9CgC,wBAAoB;MAAChC,YAAY;IAAE;EACrC;AAEA,MAAIZ,eAAeY,YAAY,KAAKA,YAAY,GAAG;AACjDgC,wBAAoB;MAAC5C,aAAa;MAAGA;MAAYA,aAAa;IAAE;EAClE;AAEA,MAAIA,eAAeY,YAAY,KAAKA,YAAY,KAAKZ,aAAa,GAAG;AACnE4C,wBAAoB;MAAC5C,aAAa;MAAGA,aAAa;MAAGA;MAAYA,aAAa;IAAE;EAClF;AAEA,MAAIA,eAAeY,YAAY,KAAKA,YAAY,GAAG;AACjDgC,wBAAoB;MAAC5C;MAAYA,aAAa;IAAE;EAClD;AAEA4C,oBAAkBG,QAAQ,CAAChC,WAAAA;AACzB4B,cAAUK,YACR3C,0BAACS,UAAAA;MAAsBC;MAAgBe,SAAS,MAAMP,aAAaR,MAAAA;;QAAS;QAC9DA;;IADCA,GAAAA,MAAAA,CAAAA;EAInB,CAAA;AAEA2B,qBAAmBK,QAAQ,CAAChC,WAAAA;AAC1Bc,eAAWiB,SACT3C,yBAACW,UAAAA;MAAsBC;MAAgBe,SAAS,MAAMP,aAAaR,MAAAA;gBAChEU,cACC;QAAEM,IAAI;QAA+BC,gBAAgB;SACrD;QAAEC,MAAMlB;MAAO,CAAA;IAHJA,GAAAA,MAAAA,CAAAA;EAOnB,CAAA;AAEA,MACE,CAAC;IAAC;IAAG;EAAE,EAACkC,SAASjD,UACjBA,KAAAA,cAAcY,YAAY,KAC1BiB,WAAWQ,SAASM,UAAUN,SAAS,GACvC;AACA,UAAMa,sBAAsB;MAAClD,aAAa;MAAGA;MAAYA,aAAa;IAAE;AAExEkD,wBAAoBH,QAAQ,CAAChC,WAAAA;AAC3B8B,kBAAYC,SACV3C,yBAACW,UAAAA;QAAsBC;QAAgBe,SAAS,MAAMP,aAAaR,MAAAA;kBAChEU,cACC;UAAEM,IAAI;UAA+BC,gBAAgB;WACrD;UAAEC,MAAMlB;QAAO,CAAA;MAHJA,GAAAA,MAAAA,CAAAA;IAOnB,CAAA;EACF;AAEA,QAAMoC,+BACJvC,YAAY,KAAMA,cAAc,MAAMZ,eAAe,KAAKA,eAAe;AAC3E,QAAMoD,uBAAuBP,YAAYR,SAAS,KAAKrC,aAAa,KAAKY,YAAY;AAErF,QAAMyC,wBAAwBD,uBAC1BxC,YAAYZ,aAAa,IACzBY,YAAYiB,WAAWQ,SAASM,UAAUN;AAC9C,QAAMiB,kBAAkBF,uBACpBxC,YAAYiB,WAAWQ,SAASM,UAAUN,SAC1CzB,YAAYZ,aAAa;AAE7B,aACEK,0BAACoC,YAAAA;IAAWzC;IAAwBY;;UAClCT,yBAACL,cAAAA;QAAagC,SAAS,MAAMP,aAAaI,kBAAAA;kBACvCF,cAAc;UACbM,IAAI;UACJC,gBAAgB;QAClB,CAAA;;MAEDH;MACAuB,4BACCjD,yBAACgB,MAAAA;kBACEM,cACC;UACEM,IAAI;UACJC,gBAAgB;WAElB;UAAEjB,QAAQsC;QAAsB,CAAA;;MAIrCR;MACAM,oCACChD,yBAACgB,MAAAA;kBACEM,cACC;UACEM,IAAI;UACJC,gBAAgB;WAElB;UAAEjB,QAAQuC;QAAgB,CAAA;;MAI/BX;UACDxC,yBAACQ,UAAAA;QAASmB,SAAS,MAAMP,aAAaK,cAAAA;kBACnCH,cAAc;UACbM,IAAI;UACJC,gBAAgB;QAClB,CAAA;;;;AAIR;;;;;;AC9WO,IAAMuB,cAAc,CAAC,EAAEC,gBAAgBC,aAAa,KAAI,MAAoB;AACjF,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EAAEC,WAAU,IAAKC,YAAAA;AACvB,QAAM,CAACC,QAAQC,SAAU,IAASC,gBAAS,CAAC,CAACP,UAAAA;AAC7C,QAAM,CAACQ,OAAOC,QAAAA,IAAkBF,gBAASP,cAAc,EAAA;AACvD,QAAMU,aAAmBC,cAAuB,IAAA;AAEhDC,EAAMC,uBAAgB,MAAA;AACpB,QAAIR,QAAQ;AACVS,iBAAW,MAAA;;AACTJ,+BAAWK,YAAXL,mBAAoBM,cAAc,aAAlCN,mBAA4CO;SAC3C,CAAA;IACL;KACC;IAACZ;EAAO,CAAA;AAEX,QAAMa,eAAe,MAAA;AACnBZ,cAAU,CAACa,SAAS,CAACA,IAAAA;EACvB;AAEA,QAAMC,cAAc,MAAA;AAClBF,iBAAAA;AACAnB,mBAAe,IAAA;EACjB;AAEA,QAAMsB,eAAe,CAACC,MAAAA;AACpBA,MAAEC,eAAc;AAChBD,MAAEE,gBAAe;AAEjBrB,eAAW,iCAAiC;MAAEsB,UAAU;IAAkB,CAAA;AAC1E1B,mBAAeS,KAAAA;EACjB;AAEA,MAAIH,QAAQ;AACV,eACEqB,yBAACC,OAAAA;MAAIC,KAAKlB;MACR,cAAAgB,yBAACG,IAAAA;QAAWC,UAAUT;QACpB,cAAAK,yBAACK,IAAAA;UACCC,MAAK;UACLC,SAASb;UACTc,UAAU,CAACZ,MAAMb,SAASa,EAAEa,OAAO3B,KAAK;UACxC4B,YAAYnC,cAAc;YACxBoC,IAAIC,QAAQ,oBAAA;YACZC,gBAAgB;UAClB,CAAA;UACAC,cAAW;UACXC,MAAK;UACLjC;UACAkC,aAAazC,cAAc;YACzBoC,IAAIC,QAAQ,oBAAA;YACZC,gBAAgB;UAClB,CAAA;oBAECtC,cAAc;YAAEoC,IAAIC,QAAQ,cAAA;YAAiBC,gBAAgB;UAAsB,CAAA;;;;EAK9F;AAEA,aACEb,yBAACiB,IAAAA;IAAWC,OAAM;IAASC,SAAS3B;IAClC,cAAAQ,yBAACoB,IAAAA,CAAAA,CAAAA;;AAGP;;;ACjFaC,IAAAA,eAAe,CAACC,cAAwBC,OAAO,OAAE;AAC5D,MAAI,CAACA,KAAM,QAAO;AAElB,QAAMC,WAAWD,KAAKE,MAAM,GAAA,EAAK,CAAE;AAEnC,SACEH,aAAaI,SAASF,QAAAA,KACrBF,aAAaI,SAAS,MAAA,KAAW,CAAC;IAAC;IAAS;IAAS;EAAQ,EAACA,SAASF,QAAAA;AAE5E;;;ACsCA,IAAMG,qBAAqBC,GAAOC,CAAAA;;;AAIlC,IAAMC,kBAAkBF,GAAOG,CAAAA;;;cAGjB,CAAC,EAAEC,MAAK,MAAOA,MAAMC,OAAOC,UAAU;;;;AA2E7C,IAAMC,aAAa,CAAC,EACzBC,eAAe,CAAA,GACfC,QAAQC,WACRC,WACAC,SACAC,UAAU,CAAA,GACVC,WAAW,OACXC,YACAC,iBACAC,cACAC,kBACAC,gBACAC,cACAC,gBACAC,aACAC,cACAC,kBACAC,eACAC,YACAC,aACAC,eAAc,MACE;;AAChB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,CAACC,MAAMC,OAAQ,IAAGC,mBAAmBC,iBAAiBC,WAAWC,YAAYC,IAAI;AACvF,QAAMC,aAAaP,SAASK,YAAYC;AAExC,QAAM,EAAEE,MAAMC,eAAeC,WAAWC,uBAAsB,IAAKC,UACjEhB,2CAAaiB,QACb;IACEC,SAASjC,WAAW,CAAC,EAACe,2CAAaiB;EACrC,CAAA;AAGF,QAAME,gBAAgBC,gBAAgBvC,YAAAA;AACtC,QAAMC,SAASC,UAAUsC,IAAI,CAACC,WAAW;IACvC,GAAGA;IACHC,cAAcA,aAAaJ,eAAeG,+BAAOE,IAAAA;IACjDC,MAAM;IACR;AAEA,QAAMC,cAAc,CAACX,yBACjBY,oBAAoBd,aACpBe,IAAAA;AAEJ,QAAMC,kBAAkBC,gBAAgBjD,cAAcC,MAAAA;AACtD,QAAMiD,sBACJF,gBAAgBG,SAAS,KACzB/B,eAAe+B,SAAS,KACxBH,gBAAgBI,MACd,CAACX,UAAUrB,eAAeiC,UAAU,CAACC,cAAcA,UAAUC,OAAOd,MAAMc,EAAE,MAAM,EAAC;AAEvF,QAAMC,uBAAuBR,gBAAgBS,KAC3C,CAAChB,UAAUrB,eAAeiC,UAAU,CAACC,cAAcA,UAAUC,OAAOd,MAAMc,EAAE,MAAM,EAAC;AAErF,QAAMG,cAAc,CAAC,EAACvC,2CAAawC;AACnC,QAAMC,cAAc,CAAC,GAACzC,sDAAa0C,YAAb1C,mBAAsB2C,SAAtB3C,mBAA4BgC,WAAUhC,YAAY0C,QAAQC,KAAKX,SAAS;AAC9F,QAAMY,yBAAyBL,eAAeE;AAC9C,QAAMI,aAAa/D,OAAOkD;AAC1B,QAAMc,cAAc5D,QAAQ8C;AAC5B,QAAMe,wBAAwB,IAAIC,SAAAA;AAGhCxD,mBAAe,EAAA;AACfE,mBAAkBsD,GAAAA,IAAAA;EACpB;AAEA,aACEC,0BAACzE,GAAAA;;MACEqB,wBACCqD,yBAAC1E,GAAAA;QAAI2E,eAAe;QAClB,cAAAF,0BAACG,GAAAA;UAAKC,gBAAe;UAAgBC,YAAW;;aAC5CT,aAAa,KAAKC,cAAc,KAAKL,oBACrCQ,0BAACG,GAAAA;cAAKG,KAAK;cAAGC,MAAK;;gBAChBrE,YAAYwB,kBACXuC,yBAACE,GAAAA;kBACCK,aAAa;kBACbC,cAAc;kBACdC,YAAW;kBACXC,WAAS;kBACTC,aAAY;kBACZC,QAAO;kBAEP,cAAAZ,yBAACa,IAAAA;oBACCC,cAAY9D,cAAc;sBACxBkC,IAAI6B,QAAQ,mBAAA;sBACZC,gBAAgB;oBAClB,CAAA;oBACAC,SACE,CAACpC,uBAAuBM,uBACpB,kBACAN;oBAENqC,iBAAiBvE;;;gBAItBc,kBAAcuC,yBAACmB,YAAAA;kBAAW5E;kBAA4B6E,OAAOtE,2CAAauE;;oBAC3ErB,yBAACsB,SAAAA;kBACCC,iBAAgBzE,gDAAa0C,YAAb1C,mBAAsB2C;kBACtCtD;;;;aAKJwD,aAAa,KAAKC,cAAc,KAAKP,oBACrCU,0BAACG,GAAAA;cAAKsB,YAAW;cAAOC,QAAQ;cAAGpB,KAAK;;oBACtCL,yBAAC3E,iBAAAA;kBAAgBqG,YAAY;kBAAGzB,eAAe;kBAC7C,cAAAD,yBAAC2B,IAAAA;oBACCC,OACEnE,aACIT,cAAc;sBACZkC,IAAI;sBACJ8B,gBAAgB;oBAClB,CAAA,IACAhE,cAAc;sBACZkC,IAAI;sBACJ8B,gBAAgB;oBAClB,CAAA;oBAENa,SAAS,MAAM1E,QAAQM,aAAaF,YAAYuE,OAAOvE,YAAYC,IAAI;8BAEtEC,iBAAauC,yBAAC+B,IAAAA,CAAAA,CAAAA,QAAU/B,yBAACgC,IAAAA,CAAAA,CAAAA;;;oBAG9BhC,yBAACiC,aAAAA;kBAAY3F;kBAAgC4F,YAAYpF,YAAYwC,MAAM;;;;;;;MAOpFvD,YAAWyC,2CAAaM,WAAUN,YAAYM,SAAS,KAAKnB,qBAC3DqC,yBAAC1E,GAAAA;QAAIoG,YAAY;QACf,cAAA1B,yBAACmC,aAAAA;UACC3F;UACAoF,OAAO5E,cAAc;YACnBkC,IAAI6B,QAAQ,8BAAA;YACZC,gBAAgB;UAClB,CAAA;UACAxC;UACA4D,iBAAiBtF,2CAAaiB;;;MAKnC4B,eAAe,KAAKC,gBAAgB,SACnCI,yBAAC1E,GAAAA;QAAI2E,eAAe;QAClB,cAAAD,yBAACqC,aAAAA;UACCC,MAAK;UACLC,OAAO;UACPC,QACE1G,aACA,CAACyD,eACD,CAACF,mBACCW,yBAACyC,IAAAA;YAAOC,SAAQ;YAAYC,eAAW3C,yBAAC4C,IAAAA,CAAAA,CAAAA;YAASf,SAAS3F;sBACvDc,cAAc;cACbkC,IAAI6B,QAAQ,2BAAA;cACZC,gBAAgB;YAClB,CAAA;;UAIN6B;;YAEEnD,yBACI1C,cAAc;cACZkC,IAAI6B,QAAQ,oCAAA;cACZC,gBAAgB;aAElBlF,IAAAA,aAAa,CAACuD,cACZrC,cAAc;cACZkC,IAAI6B,QAAQ,mBAAA;cACZC,gBAAgB;YAClB,CAAA,IACAhE,cAAc;cACZkC,IAAI6B,QAAQ,kCAAA;cACZC,gBAAgB;YAClB,CAAA;;;;MAMb,CAACvD,eAAemC,cAAc,KAAKD,aAAa,UAC/CK,yBAAC8C,WAAAA;QACCnH;QACAgE;QACAC;QACAmD,eAAe,CAAClE,uBAAuBM;QACvC6D,0BAA0B;QAC1BzG;QACAC,gBAAgBqD;QAChBpD;QACAC;QACAuG,aAAarG;QACbsG,aAAavG;QACbwG,MACE;UAAInH,GAAAA,QAAQmC,IAAI,CAACJ,YAAY;YAAE,GAAGA;YAAQQ,MAAM;YAAS;UAAQ3C,GAAAA;QAAO;QAI1EwH,UAAUrG;QACVsG,yBAAyB,CAACpH;QAC1BqH,YAAWxG,2CAAauE,SAAQ;;MAInC5D,kBACCsC,0BAAAwD,8BAAA;;UACG3D,cAAc,SACbI,yBAACwD,gBAAAA;YACCC,QACI,0BAA2B9D,aAAa,KAAM,CAACD,2BAC/C1C,cACE;cACEkC,IAAI6B,QAAQ,oBAAA;cACZC,gBAAgB;eAElB;cAAEuB,OAAO3C;aAEb,KAAA;sBAGD5D,QAAQmC,IAAI,CAACJ,WAAAA;;AACZ,yBACEiC,yBAAC0D,GAAKC,MAAI;gBACRC,KAAK;gBACLC,GAAG;gBACHC,GAAG;gBACHC,IAAI;gBAEJC,WAAU;gBACV5D,YAAW;gBAEX,cAAAJ,yBAACiE,YAAAA;kBACCC,WAAWnG,OAAOoG;kBAClBjF,IAAI,UAAUnB,OAAOmB,EAAE;kBACvB2C,SAAS,MAAMhC,sBAAsB9B,OAAOmB,IAAInB,OAAOqG,IAAI;kBAC3DC,aACE3H,oBACEsD,yBAAC2B,IAAAA;oBACC2C,aAAa;oBACb1C,OAAO5E,cAAc;sBACnBkC,IAAI6B,QAAQ,kBAAA;sBACZC,gBAAgB;oBAClB,CAAA;oBACAa,SAAS,MAAMnF,aAAaqB,MAAAA;oBAE5B,cAAAiC,yBAACuE,IAAAA,CAAAA,CAAAA;;kBAKP,cAAAvE,yBAACwE,gBAAAA;oBACC,cAAAxE,yBAACyE,sBAAAA;sBACC5C,SAAS,MAAMhC,sBAAsB9B,OAAOmB,IAAInB,OAAOqG,IAAI;sBAE3D,cAAArE,0BAACG,GAAAA;wBAAKwE,KAAI;wBAAKV,WAAU;wBAAS5D,YAAW;wBAAQuE,UAAS;;8BAC5D5E,0BAAC7E,oBAAAA;4BACC0J,YAAW;4BACXC,UAAQ;4BACRC,WAAU;;8BAET/G,OAAOoG;kCAGRnE,yBAAC+E,IAAAA;gCAAe,UAAA;;;;8BAElB/E,yBAAC9E,oBAAAA;4BACCwJ,KAAI;4BACJI,WAAU;4BACVpC,SAAQ;4BACRmC,UAAQ;sCAEP7H,cACC;8BACEkC,IAAI6B,QAAQ,sBAAA;8BACZC,gBACE;+BAEJ;8BACEpB,cAAa7B,MAAAA,OAAOiH,aAAPjH,gBAAAA,IAAiBwE;8BAC9B0C,aAAYlH,MAAAA,OAAOmH,UAAPnH,gBAAAA,IAAcwE;4BAC5B,CAAA;;;;;;;cArDP,GAAA,UAAUxE,OAAOmB,EAAE,EAAE;YA8DhC,CAAA;;UAIHS,aAAa,KAAKC,cAAc,SAC/BI,yBAAC1E,GAAAA;YAAIoG,YAAY;YACf,cAAA1B,yBAACmF,IAAAA,CAAAA,CAAAA;;UAIJxF,aAAa,SACZK,yBAAC1E,GAAAA;YAAIoG,YAAY;YACf,cAAA1B,yBAACoF,eAAAA;cACCzJ;cACA2G,MAAK;cACL1G;cACAgB;cACAG;cACAN;cACAgH,QACI,CAAC/D,0BAA2BA,0BAA0BE,cAAc,MACpE9C,YAAYuI,SAAS,KACrBrI,cACE;gBACEkC,IAAI6B,QAAQ,mBAAA;gBACZC,gBAAgB;iBAElB;gBAAEuB,OAAO5C;eAEb,KAAA;;;;;MAQX9C,WAAWyI,YAAY,SACtBvF,0BAACG,GAAAA;QACCC,gBAAe;QACfuB,YAAY;QACZ6D,UAAS;QACTC,QAAQ;QACRC,UAAS;;cAETzF,yBAAC0F,UAAAA;YACCC,UAAU7I,YAAY6I;YACtBtJ;;cAEF2D,yBAAC4F,kBAAAA;YACCC,YAAY/I,YAAYuI;YACxBjJ;YACAS;;;;;;AAMZ;;;;ICvdaiJ,eAAe,CAAC,EAAEC,SAASC,WAAU,MAAqB;AACrE,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,aACEC,0BAACC,GAAMC,QAAM;;UACXC,yBAACC,IAAAA;QAAOC,SAAST;QAASU,SAAQ;kBAC/BR,cAAc;UAAES,IAAI;UAAgCC,gBAAgB;QAAS,CAAA;;MAE/EX,kBACCM,yBAACC,IAAAA;QAAOC,SAASR;kBACdC,cAAc;UAAES,IAAI;UAAiBC,gBAAgB;QAAS,CAAA;;;;AAKzE;;;;;ACRO,IAAMC,eAAe,CAAC,EAC3BC,gBACAC,eACAC,eAAc,MACI;AAClB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,aACEC,0BAACC,GAAAA;IAAKC,WAAU;IAASC,YAAW;IAAUC,KAAK;;UACjDJ,0BAACC,GAAAA;QAAKG,KAAK;QAAGF,WAAU;QAASC,YAAW;;cAC1CE,yBAACC,GAAAA;YAAWC,SAAQ;YAAKC,YAAW;YAAOC,WAAU;sBAClDX,cACC;cACEY,IAAIC,QAAQ,uBAAA;cACZC,gBACE;eAEJ;cAAEC,QAAQlB,eAAemB;YAAO,CAAA;;cAGpCT,yBAACC,GAAAA;YAAWC,SAAQ;YAAKE,WAAU;sBAChCX,cAAc;cACbY,IAAIC,QAAQ,uCAAA;cACZC,gBAAgB;YAClB,CAAA;;;;UAIJP,yBAACU,eAAAA;QACCC,MAAK;QACLC,QAAQtB;QACRC;QACAD;QACAE;;;;AAIR;;;ACPA,IAAMqB,cAAcC,GAAOC,CAAAA;;gBAEX,MAAM,oBAAoB;;AA4BnC,IAAMC,eAAe,CAAC,EAC3BC,eAAe,CAAA,GACfC,WAAW,MACXC,SACAC,YACAC,aACAC,gBACAC,YACAC,WAAW,OACXC,0BAA0B,CAAA,GAC1BC,gBAAe,MACG;AAClB,QAAM,CAACC,aAAaC,cAAAA,IAAwBC,gBAAmCC,MAAAA;AAC/E,QAAM,CAACC,cAAcC,eAAAA,IAAyBH,gBAAgCC,MAAAA;AAC9E,QAAM,EAAEG,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EACJC,SACAC,WACAC,WAAWC,sBACXC,WACAC,aACAC,YAAW,IACTC,2BAAAA;AAEJ,QAAM,CACJ,EAAEC,YAAW,GACb,EACEC,iBACAC,cACAC,kBACAC,cACAC,gBACA1B,gBAAgB2B,oBAAmB,CACpC,IACCC,oBAAoB;IAAEC,QAAQjC;EAAS,CAAA;AAE3C,QAAM,EACJkC,MAAM,EAAEC,YAAYC,SAASC,OAAM,IAAK,CAAA,GACxClB,WAAWmB,iBACXC,OAAOC,YAAW,IAChBC,UAAU;IAAEC,UAAU,CAACzB;IAAS0B,OAAOlB;EAAY,CAAA;AAEvD,QAAM,EACJS,MAAMU,SACNzB,WAAW0B,kBACXN,OAAOO,aAAY,IACjBC,WAAW;IACbC,SAAS/B,WAAW,CAACgC,oBAAoBxB,WAAAA,MAAiBU,yCAAYe,UAAS;IAC/EP,OAAOlB;EACT,CAAA;AAEA,QAAM,CACJ0B,gBACA,EAAEC,WAAWC,YAAYC,eAAeC,gBAAgBC,iBAAgB,CAAE,IACxEC,kBAAkB;IAAC;KAAOlD,uBAAAA;AAE9B,QAAMmD,wBAAwB,MAAA;AAC5B,UAAMC,gBAAgBC,gBAAgB7D,cAAcsC,MAAAA;AAEpD,QAAI,CAAC/B,UAAU;AACb,aAAOM;IACT;AAGA,UAAMiD,kBAAkBF,cAAcG,OACpC,CAACC,UAAUZ,eAAea,UAAU,CAACC,kBAAkBA,cAAcC,OAAOH,MAAMG,EAAE,MAAM,EAAC;AAG7F,QAAIL,gBAAgBM,SAAS,GAAG;AAC9BX,uBAAiBK,eAAAA;WACZ;AACLN,qBAAeI,aAAAA;IACjB;EACF;AAEA,QAAMS,oBAAoB,CAACL,UAAAA;AACzB,WAAOzD,WAAW8C,UAAUW,KAAAA,IAAkBV,WAAWU,KAAAA;EAC3D;AAEA,QAAM5C,YAAYC,wBAAwBkB,mBAAmBO;AAC7D,QAAMwB,WAAW7B,eAAeM;AAEhC,QAAM,CAACwB,WAAWC,YAAAA,IAAsB5D,gBACtCwC,eAAegB,SAAS,IAAI,aAAa,QAAA;AAG3C,MAAIhD,WAAW;AACb,eACEqD,0BAAAC,8BAAA;;YACEC,yBAACC,GAAMC,QAAM;wBACXF,yBAACC,GAAME,OAAK;sBACT9D,cAAc;cACbmD,IAAIY,QAAQ,2BAAA;cACZC,gBAAgB;YAClB,CAAA;;;YAGJL,yBAAC/E,aAAAA;UAAYqF,gBAAe;UAASC,YAAY;UAAGC,eAAe;UACjE,cAAAR,yBAACS,IAAAA;sBACEpE,cAAc;cACbmD,IAAIY,QAAQ,mBAAA;cACZC,gBAAgB;YAClB,CAAA;;;YAGJL,yBAACU,cAAAA;UAAanF;;;;EAGpB;AAEA,MAAIoE,UAAU;AACZ,eACEG,0BAAAC,8BAAA;;YACEC,yBAACC,GAAMC,QAAM;wBACXF,yBAACC,GAAME,OAAK;sBACT9D,cAAc;cACbmD,IAAIY,QAAQ,2BAAA;cACZC,gBAAgB;YAClB,CAAA;;;YAGJL,yBAACW,KAAKC,OAAK,CAAA,CAAA;YACXZ,yBAACU,cAAAA;UAAanF;;;;EAGpB;AAEA,MAAI,CAACgB,SAAS;AACZ,eACEuD,0BAAAC,8BAAA;;YACEC,yBAACC,GAAMC,QAAM;wBACXF,yBAACC,GAAME,OAAK;sBACT9D,cAAc;cACbmD,IAAIY,QAAQ,2BAAA;cACZC,gBAAgB;YAClB,CAAA;;;YAGJL,yBAACW,KAAKE,eAAa,CAAA,CAAA;YACnBb,yBAACU,cAAAA;UAAanF;;;;EAGpB;AAEA,MAAIQ,aAAa;AACf,eACEiE,yBAACc,kBAAAA;MACCvF,SAAS,MAAMS,eAAeE,MAAAA;MAC9BmD,OAAOtD;MACPY;MACAC;MACAC;MACAf;;EAGN;AAEA,MAAIK,cAAc;AAChB,eACE6D,yBAACe,mBAAAA;MACCxD,QAAQpB;MACRZ,SAAS,MAAMa,gBAAgBF,MAAAA;MAC/B8E,UAAS;MACTC,gBAAgBlE,2CAAaQ;;EAGnC;AAEA,QAAM2D,iBAAiB,CAACC,YAAoBC,cAAAA;AAC1C,UAAMC,SAASD,YAAYD;AAC3B,UAAMG,qBAAqB7C,eAAe8C,MAAK;AAC/C,UAAMC,aAAaC,YAAmBH,oBAAoBH,YAAYE,MAAAA;AACtEzC,kBAAc4C,UAAAA;EAChB;AAEA,QAAME,qBAAqB,CAACpG,WAAkBqG,eAAAA;AAC5CjG,mBAAeJ,SAAAA;AACf,QAAI+B,qBAAqB;AACvBA,0BAAoB/B,WAAUqG,UAAAA;IAChC;EACF;AAEA,aACE7B,0BAAAC,8BAAA;;UACEC,yBAACC,GAAMC,QAAM;sBACXF,yBAACC,GAAME,OAAK;oBACT9D,cAAc;YACbmD,IAAIY,QAAQ,2BAAA;YACZC,gBAAgB;UAClB,CAAA;;;UAIJP,0BAAC8B,UAAAA;QAASC,SAAQ;QAASC,OAAOlC;QAAWmC,eAAelC;;cAC1DC,0BAAC3E,GAAAA;YAAK6G,aAAa;YAAGC,cAAc;YAAG1B,YAAY;YAAGD,gBAAe;;kBACnER,0BAACoC,GAAKC,MAAI;;sBACRnC,yBAACkC,GAAKE,SAAO;oBAACN,OAAM;8BACjBzF,cAAc;sBACbmD,IAAIY,QAAQ,kBAAA;sBACZC,gBAAgB;oBAClB,CAAA;;sBAEFP,0BAACoC,GAAKE,SAAO;oBAACN,OAAM;;sBACjBzF,cAAc;wBACbmD,IAAIY,QAAQ,2BAAA;wBACZC,gBAAgB;sBAClB,CAAA;0BACAL,yBAACqC,IAAAA;wBAAMC,YAAY;wBAAI7D,UAAAA,eAAegB;;;;;;kBAG1CK,0BAAC3E,GAAAA;gBAAKoH,KAAK;;sBACTvC,yBAACwC,IAAAA;oBACCX,SAAQ;oBACRY,SAAS,MAAMhH,YAAY;sBAAEH,UAAUyB,2CAAaQ;oBAAO,CAAA;8BAE1DlB,cAAc;sBACbmD,IAAIY,QAAQ,yCAAA;sBACZC,gBAAgB;oBAClB,CAAA;;sBAEFL,yBAACwC,IAAAA;oBAAOC,SAAS,MAAMjH,WAAW;sBAAEF,UAAUyB,2CAAaQ;oBAAO,CAAA;8BAC/DlB,cAAc;sBACbmD,IAAIY,QAAQ,qCAAA;sBACZC,gBAAgB;oBAClB,CAAA;;;;;;cAINL,yBAAC0C,IAAAA,CAAAA,CAAAA;cACD1C,yBAAC2C,IAAAA;0BACC7C,0BAACG,GAAM2C,MAAI;;oBACT5C,yBAACkC,GAAKW,SAAO;kBAACf,OAAM;kBAClB,cAAA9B,yBAAC8C,YAAAA;oBACCzH;oBACAsC;oBACAnB;oBACAD;oBACA2B;oBACA6E,eAAerD;oBACfjB;oBACA7C;oBACAoH,kBAAkBhE;oBAClBiE,aAAajH;oBACbkH,cAAc9G;oBACdqB;oBACAV;oBACAvB;oBACAwB,iBAAiB,CAACmG,YAChBnG,gBAAiBmG,OAAAA;oBAEnBzH,gBAAgBgG;oBAChBzE;oBACAC;oBACAC,cAAc,CAACiG,SAA6BjG,aAAciG,IAAAA;oBAC1DhG;;;oBAGJ4C,yBAACkC,GAAKW,SAAO;kBAACf,OAAM;kBAClB,cAAA9B,yBAACqD,cAAAA;oBACC5E;oBACAsE,eAAerD;oBACf4D,gBAAgBpC;;;;;;;;UAM1BlB,yBAACU,cAAAA;QAAanF;QAAkBI,YAAY,MAAMA,WAAW8C,cAAAA;;;;AAGnE;AAMO,IAAM8E,cAAc,CAAC,EAAEC,OAAO,OAAOjI,SAAS,GAAGkI,UAA6B,MAAA;AACnF,aACEzD,yBAACC,GAAMyD,MAAI;IAACF;IAAYG,cAAcpI;kBACpCyE,yBAACC,GAAM4C,SAAO;MACZ,cAAA7C,yBAAC5E,cAAAA;QAAaG;QAAmB,GAAGkI;;;;AAI5C;AAEA,IAAM7B,WAAW1G,GAAOgH,GAAKwB,IAAI;;;;;;;AClWjC,IAAME,QAAQ;EACZC,aAAa;EACbC,aAAa;EACbC,cAAc;AAChB;AAWO,IAAMC,qBAAqB,CAAC,EACjCC,SACAC,gBACAC,eAAe;EAAC;EAAS;EAAU;EAAU;GAC7CC,WAAW,KAAI,MACS;AACxB,QAAM,CAACC,MAAMC,OAAQ,IAASC,gBAASX,MAAMC,WAAW;AACxD,QAAM,CAACW,UAAUC,WAAAA,IAAqBF,gBAAwB,IAAA;AAE9D,UAAQF,MAAAA;IACN,KAAKT,MAAMC;AACT,iBACEa,0BAACC,aAAAA;QACCR;QACAK;QACAI,MAAI;QACJX;QACAY,YAAYX;QACZY,YAAY,MAAMR,QAAQV,MAAME,WAAW;QAC3CiB,aAAa,MAAMT,QAAQV,MAAMG,YAAY;QAC7CiB,gBAAgB,CAACR,cAAaC,YAAYD,SAAAA;QAC1CJ;;IAIN,KAAKR,MAAMG;AACT,iBACEW,0BAACO,kBAAAA;QACCL,MAAI;QACJX,SAAS,MAAMK,QAAQV,MAAMC,WAAW;QACxCqB,gBAAgBV;;IAItB;AACE,iBACEE,0BAACS,mBAAAA;QAAkBP,MAAI;QAACX,SAAS,MAAMK,QAAQV,MAAMC,WAAW;QAAGW;;EAEzE;AACF;;;;;;;;;;;;;;AClDA,IAAMY,WAAWC,GAAOC,CAAAA;;;AAIxB,IAAMC,sBAAsBF,GAAOG,CAAAA;;;;;;;AAQnC,IAAMC,sBAAsBJ,GAAOG,CAAAA;;;;;;AAOtBE,IAAAA,gBAAgB,CAAC,EAAEC,MAAK,MAAwB;;AAC3D,OAAIA,WAAMC,SAAND,mBAAYE,SAASC,UAAUC,QAAQ;AACzC,eACEC,0BAACT,qBAAAA;MAAoBU,QAAO;MAC1B,cAAAD,0BAACE,cAAAA;QACCC,KAAKC,eAAeT,OAAO,IAAA;QAC3BC,MAAMD,MAAMC;QACZS,KAAKV,MAAMW,mBAAmBX,MAAMY;;;EAI5C;AAEA,OAAIZ,WAAMC,SAAND,mBAAYE,SAASC,UAAUU,QAAQ;AACzC,eACER,0BAACP,qBAAAA;MACC,cAAAO,0BAACS,cAAAA;QACCN,KAAKC,eAAeT,OAAO,IAAA;QAC3BU,KAAKV,MAAMW,mBAAmBX,MAAMY;;;EAI5C;AAEA,OAAIZ,WAAMC,SAAND,mBAAYE,SAASC,UAAUY,QAAQ;AACzC,UAAMC,WAAWP,eAAeT,OAAO,IAAA;AACvC,QAAI,CAACgB,SAAU,QAAO;AAItB,UAAMC,iBAAiBjB,MAAMkB,cACzBF,WACA,GAAGA,QAAWA,GAAAA,SAASd,SAAS,GAAA,IAAO,MAAM,GAAA,aAAgBF,MAAMmB,SAAS;AAEhF,eACEd,0BAACR,GAAAA;MACCuB,KAAI;MACJC,WAAU;MACVC,UAAS;MACTC,KAAKN;MACLP,KAAKV,MAAMW,mBAAmBX,MAAMY;;EAG1C;AAEA,QAAMY,gBAAgBC,qBAAqBzB,MAAM0B,GAAG;AAEpD,aACErB,0BAACZ,UAAAA;IAASkC,OAAM;IAAOrB,QAAO;IAAOsB,gBAAe;IAASC,WAAS;IACpE,cAAAxB,0BAACmB,eAAAA;MAAcM,cAAY9B,MAAMW,mBAAmBX,MAAMY;MAAMe,OAAM;MAAOrB,QAAO;;;AAG1F;;;;;AClEO,IAAMyB,uBAAuB,CAAC,EACnCC,OACAC,eACAC,YACAC,YAAW,MACe;AAC1B,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,aACEC,2BAACC,IAAAA;;MACEL,kBACCM,0BAACC,IAAAA;QACCC,OAAON,cAAc;UACnBO,IAAIC,QAAQ,kBAAA;UACZC,gBAAgB;QAClB,CAAA;QACAC,SAAS,MAAMZ,WAAWF,KAAAA;QAE1B,cAAAQ,0BAACO,IAAAA,CAAAA,CAAAA;;UAILP,0BAACQ,gBAAAA;QAAeC,KAAKC,4BAA4BlB,MAAMiB,GAAG;;MAEzDhB,qBACCO,0BAACC,IAAAA;QACCC,OAAON,cAAc;UACnBO,IAAI;UACJE,gBAAgB;QAClB,CAAA;QACAC,SAAS,MAAMb,cAAcD,KAAAA;QAE7B,cAAAQ,0BAACW,IAAAA,CAAAA,CAAAA;;MAIJhB,mBACCK,0BAACC,IAAAA;QACCC,OAAON,cAAc;UACnBO,IAAIC,QAAQ,mBAAA;UACZC,gBAAgB;QAClB,CAAA;QACAC,SAASX;QAET,cAAAK,0BAACY,IAAAA,CAAAA,CAAAA;;;;AAKX;;;;;;ACrDA,IAAMC,sBAAsBC,GAAOC,CAAAA;;;AAY5B,IAAMC,kBAAkB,CAAC,EAC9BC,WAAW,OACXC,SACAC,YAAW,MACU;AACrB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,CAACC,UAAUC,WAAAA,IAAqBC,gBAAS,KAAA;AAE/C,QAAMC,kBAAkB,CAACC,MAAAA;AACvBA,MAAEC,eAAc;AAChBJ,gBAAY,IAAA;EACd;AAEA,QAAMK,kBAAkB,CAACF,MAAAA;AACvB,QAAI,CAACA,EAAEG,cAAcC,SAASJ,EAAEK,aAAa,GAAW;AACtDR,kBAAY,KAAA;IACd;EACF;AAEA,QAAMS,iBAAiB,CAACN,MAAAA;AACtBA,MAAEC,eAAc;EAClB;AAEA,QAAMM,aAAa,CAACP,MAAAA;;AAClBA,MAAEC,eAAc;AAEhB,SAAID,4BAAGQ,iBAAHR,mBAAiBS,OAAO;AAC1B,YAAMA,QAAQT,EAAEQ,aAAaC;AAC7B,YAAMC,SAA8B,CAAA;AAEpC,eAASC,IAAI,GAAGA,IAAIF,MAAMG,QAAQD,KAAK;AACrC,cAAME,OAAOJ,MAAMK,KAAKH,CAAAA;AACxB,YAAIE,MAAM;AACR,gBAAME,QAAQC,eAAeH,MAAMI,YAAYC,QAAQ;AAEvDR,iBAAOS,KAAKJ,KAAAA;QACd;MACF;AAEAtB,kBAAYiB,MAAAA;IACd;AAEAb,gBAAY,KAAA;EACd;AAEA,aACEuB,2BAACC,GAAAA;IACCC,aAAa1B,WAAW,WAAW2B;IACnCC,aAAa5B,WAAW,QAAQ2B;IAChCE,aAAa7B,WAAW,eAAe2B;IACvCG,WAAU;IACVC,gBAAe;IACfC,YAAW;IACXC,QAAO;IACPC,OAAM;IACNC,KAAI;IACJC,MAAK;IACLzC;IACAC;IACAyC,aAAalC;IACbmC,aAAahC;IACbiC,YAAY7B;IACZ8B,QAAQ7B;IACR8B,KAAK;IACLC,OAAO;MAAEC,QAAQhD,WAAW,gBAAgB;IAAU;;UAEtDiD,0BAACC,IAAAA;QACCC,eAAW;QACXZ,OAAM;QACND,QAAO;QACPc,MAAMpD,WAAW,eAAe;;UAElCiD,0BAACrD,qBAAAA;QACCyD,SAAQ;QACRC,YAAW;QACXC,WAAU;QACVR,OAAO;UAAES,WAAW;QAAS;QAC7BhB,KAAI;kBAEHrC,cAAc;UACbsD,IAAIC,QAAQ,+BAAA;UACZC,gBAAgB;QAClB,CAAA;;;;AAIR;;;ICpEaC,iBAAuBC,kBAClC,CACE,EACEC,QACAC,WAAW,OACXC,OACAC,MACAC,OACAC,aACAC,YACAC,eACAC,+BACAC,aACAC,aACAC,QACAC,YACAC,oBACAC,WAAW,OACXC,oBACAC,gBAAe,GAEjBC,iBAAAA;AAEA,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,CAACC,gBAAgBC,iBAAAA,IAA2BC,gBAAS,KAAA;AAE3D,QAAMC,eAAevB,OAAOe,kBAAmB;AAC/C,QAAMS,eAAe,CAACvB,YAAYS;AAElC,aACEe,2BAAAC,+BAAA;;UACEC,0BAACC,IAAAA;QACCC,KAAKZ;QACLb;QACAC;QACAyB,gBAAgBP,6CAAcQ;QAC9BC,eAAejB;QACfkB,eAAef,cAAc;UAC3BgB,IAAIC,QAAQ,yCAAA;UACZC,gBAAgB;QAClB,CAAA;QACAC,WAAWnB,cAAc;UACvBgB,IAAIC,QAAQ,qCAAA;UACZC,gBAAgB;QAClB,CAAA;QACAzB;QACAC;QACAT;QACAD;QACAY;QACAwB,SACEf,mBACEI,0BAACY,sBAAAA;UACCC,OAAOjB;UACPhB,eAAeN,WAAWwC,SAAYlC;UACtCD,YAAYL,WAAWwC,SAAYnC;UACnCI,aAAac,eAAe,MAAMH,kBAAkB,IAAQoB,IAAAA;QAE5DA,CAAAA,IAAAA;kBAGLzC,OAAO0C,WAAW,QACjBf,0BAACgB,IAAAA;UACCvC,OAAOc,cACL;YACEgB,IAAIC,QAAQ,8BAAA;YACZC,gBAAgB;aAElB;YAAEQ,GAAG;YAAGC,GAAG;UAAE,CAAA;UAGf,cAAAlB,0BAACmB,iBAAAA;YACC7C;YACA8C,SAASzC;YACTG;;QAIJT,CAAAA,IAAAA,OAAOgD,IAAI,CAACR,OAAOS,eACjBtB,0BAACgB,IAAAA;UAECvC,OAAOc,cACL;YACEgB,IAAIC,QAAQ,8BAAA;YACZC,gBAAgB;aAElB;YAAEQ,GAAGK,SAAQ;YAAGJ,GAAG7C,OAAO0C;UAAO,CAAA;UAEnCQ,eAAe,CAACC,UAAAA;AACd9B,8BAAkB,IAAA;AAClBR,+BAAmB2B,OAAOW,KAAAA;UAC5B;UACAC,iBAAe7B,aAAaW,OAAOM,MAAMN;UAEzC,cAAAP,0BAAC0B,eAAAA;YAAcb;;QAdVA,GAAAA,MAAMN,EAAE,CAAA;;UAmBrBP,0BAAC2B,iBAAAA;QACCC,MAAMnC;QACNoC,SAAS,CAACC,gBAAAA;AACRpC,4BAAkB,KAAA;AAGlB,cAAIoC,gBAAgB,MAAM;AACxBjD,0CAAAA;UACF;AACA,cAAIiD,eAAe,OAAOA,gBAAgB,WAAW;AACnD/C,uDAAc+C;UAChB;QACF;QACAjB,OAAOjB;QACPmC,WAAS;QACTC,aAAW;QACXC,aAAW;QACX5C;;;;AAIR,CACA;;;AClJF,IAAM6C,SAAQ;EACZC,aAAa;EACbC,aAAa;EACbC,cAAc;AAChB;AAeaC,IAAAA,oBAA0BC,kBACrC,CACE,EACEC,WAAW,EAAEC,eAAe,MAAMC,WAAW,MAAK,IAAK,CAAA,GACvDC,OACAC,MACAC,WAAW,OACXC,cAAcC,QACdC,MAAAA,OACAC,WAAW,MAAK,GAElBC,iBAAAA;AAEA,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EAAEC,UAAUC,OAAOC,MAAK,IAAKC,SAASR,KAAAA;AAC5C,QAAM,CAACS,eAAeC,gBAAAA,IAA0BC,gBAA2B,CAAA,CAAE;AAC7E,QAAM,CAACC,MAAMC,OAAAA,IAAiBF,gBAA6BZ,MAAAA;AAC3D,QAAM,CAACe,eAAeC,gBAAAA,IAA0BJ,gBAAS,CAAA;AACzD,QAAM,CAACK,eAAeC,gBAAiB,IAASN,gBAAQ;AACxD,QAAM,CAACO,UAAUC,WAAAA,IAAqBR,gBAAwB,IAAA;AAC9D,QAAM,EAAES,mBAAkB,IAAKC,gBAAAA;AAE/BC,EAAMC,iBAAU,MAAA;AAEd,QAAIX,SAASb,QAAW;AACtBW,uBAAiB,CAAA,CAAE;IACrB;KACC;IAACE;EAAK,CAAA;AAET,MAAIY,iBAAyB,CAAA;AAE7B,MAAIC,MAAMC,QAAQpB,KAAQ,GAAA;AACxBkB,qBAAiBlB;EACnB,WAAWA,OAAO;AAChBkB,qBAAiB;MAAClB;IAAM;EAC1B;AAEA,QAAMqB,mBAAmB,CAACC,uBAAAA;AACxB,UAAMtB,SAAQZ,WAAWkC,qBAAqBA,mBAAmB,CAAE;AACnEvB,aAASL,OAAMM,MAAAA;AACfO,YAAQd,MAAAA;EACV;AAEA,QAAM8B,oCAAoC,MAAA;AACxC,QAAIC;AAEJ,QAAIpC,UAAU;AACZ,YAAMkC,qBAAqBJ,eAAeO,OACxC,CAACC,GAAGC,eAAeA,eAAenB,aAAAA;AAEpCgB,kBAAYF,mBAAmBM,SAAS,IAAIN,qBAAqB;WAC5D;AACLE,kBAAY;IACd;AAEA,UAAMxB,SAAQwB;AACdzB,aAASL,OAAMM,MAAAA;AAEfS,qBAAiB,CAAA;EACnB;AAEA,QAAMoB,oBAAoB,CAACC,UAAAA;AACzB,QAAIN;AAEJ,QAAIpC,UAAU;AACZ,YAAMkC,qBAAqBJ,eAAeO,OAAO,CAACM,cAAcA,UAAUC,OAAOF,MAAME,EAAE;AAEzFR,kBAAYF,mBAAmBM,SAAS,IAAIN,qBAAqB;WAC5D;AACLE,kBAAY;IACd;AAEAzB,aAASL,OAAM8B,SAAAA;AAEff,qBAAiB,CAAA;EACnB;AAEA,QAAMwB,kBAAkB,CAACH,UAAAA;AACvB,UAAMR,qBAAqBJ,eAAegB,IAAI,CAACH,cAC7CA,UAAUC,OAAOF,MAAME,KAAKF,QAAQC,SAAAA;AAGtChC,aAASL,OAAMN,WAAWkC,qBAAqBA,mBAAmB,CAAE,CAAA;EACtE;AAEA,QAAMa,sBAAsB,CAC1BC,QACAC,aAAAA;AAEA,UAAMC,gBAAgBC,gBAAgBpD,cAAciD,MAAAA;AAEpD,QAAIE,cAAcV,SAAS,GAAG;AAC5BS,eAASC,aAAAA;WACJ;AACLxB,yBAAmB;QACjB0B,MAAM;QACNC,SAAS;QACTC,SAAS7C,cACP;UACEmC,IAAIW,QAAQ,kCAAA;UACZC,gBAAgB;WAElB;UACEC,YAAY1D,gBAAgB,CAAA,GAAI2D,KAAK,GAAA;QACvC,CAAA;MAEJ,CAAA;IACF;EACF;AAEA,QAAMC,kBAAkB,CAACX,WAAAA;AACvBD,wBAAoBC,QAAQ,CAACE,kBAAAA;AAC3B3B,uBAAiB2B,aAAAA;AACjB/B,cAAQ3B,OAAME,WAAW;IAC3B,CAAA;EACF;AAEA,MAAIM,YAAY8B,eAAeU,SAAS,GAAG;AACzCvC,YAAQ,GAAGA,KAAAA,KAAUmB,gBAAgB,CAAA,MAAOU,eAAeU,MAAM;EACnE;AAEA,QAAMoB,aAAa,MAAA;AACjBvC,qBAAiB,CAACwC,YAAaA,UAAU/B,eAAeU,SAAS,IAAIqB,UAAU,IAAI,CAAA;EACrF;AAEA,QAAMC,iBAAiB,MAAA;AACrBzC,qBAAiB,CAACwC,YAAaA,UAAU,IAAIA,UAAU,IAAI/B,eAAeU,SAAS,CAAA;EACrF;AAEA,QAAMuB,6BAA6B,CAAChD,mBAAAA;AAClCC,qBAAiB,CAACgD,SAAS;MAAIA,GAAAA;MAASjD,GAAAA;IAAc,CAAA;EACxD;AAEA,MAAIkD,0BAA0BnC;AAE9B,MAAIf,cAAcyB,SAAS,GAAG;AAC5B,UAAM0B,uBAAuBf,gBAAgBpD,cAAcgB,aAAAA;AAE3DkD,8BAA0BjE,WACtB;MAAIkE,GAAAA;MAAyBpC,GAAAA;QAC7B;MAACoC,qBAAqB,CAAE;IAAC;EAC/B;AAEA,QAAMC,yBAAyB,CAACzB,UAAAA;AAC9BG,oBAAgBH,KAAAA;EAClB;AAEA,aACE0B,2BAAAC,+BAAA;;UACEC,0BAACC,gBAAAA;QACCC,KAAKhE;QACLwC,QAAQlB;QACR3B;QACAF;QACAG;QACAqE,eAAehC;QACfiC,+BAA+BvC;QAC/BwC,YAAY,MAAMxD,QAAQ3B,OAAMC,WAAW;QAC3CmF,aAAajB;QACbkB,aAAahC;QACbiC,QAAQlB;QACRmB,YAAYjB;QACZkB,oBAAoBb;QACpBtD;QACAX;QACAK;QACA0E,oBAAoB7D;QACpB8D,iBAAgB;;MAGjBhE,SAAS1B,OAAMC,mBACd6E,0BAACa,aAAAA;QACCpF;QACAkE;QACAzC;QACA4D,SAAS,MAAA;AACPjE,kBAAQd,MAAAA;AACRoB,sBAAY,IAAA;QACd;QACA4D,MAAMnE,SAAS1B,OAAMC;QACrB6F,YAAYrD;QACZjC;QACA2E,YAAY,MAAMxD,QAAQ3B,OAAME,WAAW;QAC3C6F,aAAa,MAAMpE,QAAQ3B,OAAMG,YAAY;QAC7C6F,gBAAgB,CAACC,WAAWhE,YAAYgE,MAAAA;QACxCP,iBAAgB;;MAInBhE,SAAS1B,OAAME,mBACd4E,0BAACoB,mBAAAA;QACCL,MAAMnE,SAAS1B,OAAME;QACrB0F,SAAS,MAAMjE,QAAQ3B,OAAMC,WAAW;QACxCkG,oBAAoBrE;QACpBsE,kBAAkB7B;QAClBmB,iBAAgB;QAChB1D;QACAuB;;MAIH7B,SAAS1B,OAAMG,oBACd2E,0BAACuB,kBAAAA;QACCR,MAAMnE,SAAS1B,OAAMG;QACrByF,SAAS,MAAMjE,QAAQ3B,OAAMC,WAAW;QACxCqG,gBAAgBtE;;;;AAK1B,CACA;;;;;;;ACvPF,IAAAuE,UAAuB;;;ACAvB,IAAAC,UAAuB;;;ACAvB,IAAAC,UAAuB;AAMvB,SAAS,iBACP,qBACA,gBAA0B,yCAAY,UACtC;AACA,QAAM,kBAAkB,eAAe,mBAAmB;AAEpD,EAAA,kBAAU,MAAM;AACpB,UAAM,gBAAgB,CAAC,UAAyB;AAC9C,UAAI,MAAM,QAAQ,UAAU;AAC1B,wBAAgB,KAAK;MACvB;IACF;AACA,kBAAc,iBAAiB,WAAW,eAAe,EAAE,SAAS,KAAK,CAAC;AAC1E,WAAO,MAAM,cAAc,oBAAoB,WAAW,eAAe,EAAE,SAAS,KAAK,CAAC;EAC5F,GAAG,CAAC,iBAAiB,aAAa,CAAC;AACrC;;;ADqIM,IAAAC,uBAAA;AA/IN,IAAM,yBAAyB;AAC/B,IAAM,iBAAiB;AACvB,IAAM,uBAAuB;AAC7B,IAAM,gBAAgB;AAEtB,IAAI;AAEJ,IAAM,0BAAgC,sBAAc;EAClD,QAAQ,oBAAI,IAA6B;EACzC,wCAAwC,oBAAI,IAA6B;EACzE,UAAU,oBAAI,IAAmC;AACnD,CAAC;AAsCD,IAAM,mBAAyB;EAC7B,CAAC,OAAO,iBAAiB;AACvB,UAAM;MACJ,8BAA8B;MAC9B;MACA;MACA;MACA;MACA;MACA,GAAG;IACL,IAAI;AACJ,UAAM,UAAgB,mBAAW,uBAAuB;AACxD,UAAM,CAAC,MAAM,OAAO,IAAU,iBAAyC,IAAI;AAC3E,UAAM,iBAAgB,6BAAM,mBAAiB,yCAAY;AACzD,UAAM,CAAC,EAAE,KAAK,IAAU,iBAAS,CAAC,CAAC;AACnC,UAAM,eAAe,gBAAgB,cAAc,CAACC,UAAS,QAAQA,KAAI,CAAC;AAC1E,UAAM,SAAS,MAAM,KAAK,QAAQ,MAAM;AACxC,UAAM,CAAC,4CAA4C,IAAI,CAAC,GAAG,QAAQ,sCAAsC,EAAE,MAAM,EAAE;AACnH,UAAM,oDAAoD,OAAO,QAAQ,4CAA6C;AACtH,UAAMC,SAAQ,OAAO,OAAO,QAAQ,IAAI,IAAI;AAC5C,UAAM,8BAA8B,QAAQ,uCAAuC,OAAO;AAC1F,UAAM,yBAAyBA,UAAS;AAExC,UAAM,qBAAqB,sBAAsB,CAAC,UAAU;AAC1D,YAAM,SAAS,MAAM;AACrB,YAAM,wBAAwB,CAAC,GAAG,QAAQ,QAAQ,EAAE,KAAK,CAAC,WAAW,OAAO,SAAS,MAAM,CAAC;AAC5F,UAAI,CAAC,0BAA0B,sBAAuB;AACtD,mEAAuB;AACvB,6DAAoB;AACpB,UAAI,CAAC,MAAM,iBAAkB;IAC/B,GAAG,aAAa;AAEhB,UAAM,eAAe,gBAAgB,CAAC,UAAU;AAC9C,YAAM,SAAS,MAAM;AACrB,YAAM,kBAAkB,CAAC,GAAG,QAAQ,QAAQ,EAAE,KAAK,CAAC,WAAW,OAAO,SAAS,MAAM,CAAC;AACtF,UAAI,gBAAiB;AACrB,uDAAiB;AACjB,6DAAoB;AACpB,UAAI,CAAC,MAAM,iBAAkB;IAC/B,GAAG,aAAa;AAEhB,qBAAiB,CAAC,UAAU;AAC1B,YAAM,iBAAiBA,WAAU,QAAQ,OAAO,OAAO;AACvD,UAAI,CAAC,eAAgB;AACrB,yDAAkB;AAClB,UAAI,CAAC,MAAM,oBAAoB,WAAW;AACxC,cAAM,eAAe;AACrB,kBAAU;MACZ;IACF,GAAG,aAAa;AAEV,IAAA,kBAAU,MAAM;AACpB,UAAI,CAAC,KAAM;AACX,UAAI,6BAA6B;AAC/B,YAAI,QAAQ,uCAAuC,SAAS,GAAG;AAC7D,sCAA4B,cAAc,KAAK,MAAM;AACrD,wBAAc,KAAK,MAAM,gBAAgB;QAC3C;AACA,gBAAQ,uCAAuC,IAAI,IAAI;MACzD;AACA,cAAQ,OAAO,IAAI,IAAI;AACvB,qBAAe;AACf,aAAO,MAAM;AACX,YACE,+BACA,QAAQ,uCAAuC,SAAS,GACxD;AACA,wBAAc,KAAK,MAAM,gBAAgB;QAC3C;MACF;IACF,GAAG,CAAC,MAAM,eAAe,6BAA6B,OAAO,CAAC;AAQxD,IAAA,kBAAU,MAAM;AACpB,aAAO,MAAM;AACX,YAAI,CAAC,KAAM;AACX,gBAAQ,OAAO,OAAO,IAAI;AAC1B,gBAAQ,uCAAuC,OAAO,IAAI;AAC1D,uBAAe;MACjB;IACF,GAAG,CAAC,MAAM,OAAO,CAAC;AAEZ,IAAA,kBAAU,MAAM;AACpB,YAAM,eAAe,MAAM,MAAM,CAAC,CAAC;AACnC,eAAS,iBAAiB,gBAAgB,YAAY;AACtD,aAAO,MAAM,SAAS,oBAAoB,gBAAgB,YAAY;IACxE,GAAG,CAAC,CAAC;AAEL,eACE;MAAC,UAAU;MAAV;QACE,GAAG;QACJ,KAAK;QACL,OAAO;UACL,eAAe,8BACX,yBACE,SACA,SACF;UACJ,GAAG,MAAM;QACX;QACA,gBAAgB,qBAAqB,MAAM,gBAAgB,aAAa,cAAc;QACtF,eAAe,qBAAqB,MAAM,eAAe,aAAa,aAAa;QACnF,sBAAsB;UACpB,MAAM;UACN,mBAAmB;QACrB;MAAA;IACF;EAEJ;AACF;AAEA,iBAAiB,cAAc;AAM/B,IAAM,cAAc;AAKpB,IAAM,yBAA+B,mBAGnC,CAAC,OAAO,iBAAiB;AACzB,QAAM,UAAgB,mBAAW,uBAAuB;AACxD,QAAM,MAAY,eAAsC,IAAI;AAC5D,QAAM,eAAe,gBAAgB,cAAc,GAAG;AAEhD,EAAA,kBAAU,MAAM;AACpB,UAAM,OAAO,IAAI;AACjB,QAAI,MAAM;AACR,cAAQ,SAAS,IAAI,IAAI;AACzB,aAAO,MAAM;AACX,gBAAQ,SAAS,OAAO,IAAI;MAC9B;IACF;EACF,GAAG,CAAC,QAAQ,QAAQ,CAAC;AAErB,aAAO,0BAAC,UAAU,KAAV,EAAe,GAAG,OAAO,KAAK,aAAA,CAAc;AACtD,CAAC;AAED,uBAAuB,cAAc;AAYrC,SAAS,sBACP,sBACA,gBAA0B,yCAAY,UACtC;AACA,QAAM,2BAA2B,eAAe,oBAAoB;AACpE,QAAM,8BAAoC,eAAO,KAAK;AACtD,QAAM,iBAAuB,eAAO,MAAM;EAAC,CAAC;AAEtC,EAAA,kBAAU,MAAM;AACpB,UAAM,oBAAoB,CAAC,UAAwB;AACjD,UAAI,MAAM,UAAU,CAAC,4BAA4B,SAAS;AAGxD,YAASC,4CAAT,WAAoD;AAClD;YACE;YACA;YACA;YACA,EAAE,UAAU,KAAK;UACnB;QACF;AAPS,YAAA,2CAAAA;AAFT,cAAM,cAAc,EAAE,eAAe,MAAM;AAuB3C,YAAI,MAAM,gBAAgB,SAAS;AACjC,wBAAc,oBAAoB,SAAS,eAAe,OAAO;AACjE,yBAAe,UAAUA;AACzB,wBAAc,iBAAiB,SAAS,eAAe,SAAS,EAAE,MAAM,KAAK,CAAC;QAChF,OAAO;AACLA,oDAAyC;QAC3C;MACF,OAAO;AAGL,sBAAc,oBAAoB,SAAS,eAAe,OAAO;MACnE;AACA,kCAA4B,UAAU;IACxC;AAcA,UAAM,UAAU,OAAO,WAAW,MAAM;AACtC,oBAAc,iBAAiB,eAAe,iBAAiB;IACjE,GAAG,CAAC;AACJ,WAAO,MAAM;AACX,aAAO,aAAa,OAAO;AAC3B,oBAAc,oBAAoB,eAAe,iBAAiB;AAClE,oBAAc,oBAAoB,SAAS,eAAe,OAAO;IACnE;EACF,GAAG,CAAC,eAAe,wBAAwB,CAAC;AAE5C,SAAO;;IAEL,sBAAsB,MAAO,4BAA4B,UAAU;EACrE;AACF;AAMA,SAAS,gBACP,gBACA,gBAA0B,yCAAY,UACtC;AACA,QAAM,qBAAqB,eAAe,cAAc;AACxD,QAAM,4BAAkC,eAAO,KAAK;AAE9C,EAAA,kBAAU,MAAM;AACpB,UAAM,cAAc,CAAC,UAAsB;AACzC,UAAI,MAAM,UAAU,CAAC,0BAA0B,SAAS;AACtD,cAAM,cAAc,EAAE,eAAe,MAAM;AAC3C,qCAA6B,eAAe,oBAAoB,aAAa;UAC3E,UAAU;QACZ,CAAC;MACH;IACF;AACA,kBAAc,iBAAiB,WAAW,WAAW;AACrD,WAAO,MAAM,cAAc,oBAAoB,WAAW,WAAW;EACvE,GAAG,CAAC,eAAe,kBAAkB,CAAC;AAEtC,SAAO;IACL,gBAAgB,MAAO,0BAA0B,UAAU;IAC3D,eAAe,MAAO,0BAA0B,UAAU;EAC5D;AACF;AAEA,SAAS,iBAAiB;AACxB,QAAM,QAAQ,IAAI,YAAY,cAAc;AAC5C,WAAS,cAAc,KAAK;AAC9B;AAEA,SAAS,6BACPC,OACA,SACA,QACA,EAAE,SAAS,GACX;AACA,QAAM,SAAS,OAAO,cAAc;AACpC,QAAM,QAAQ,IAAI,YAAYA,OAAM,EAAE,SAAS,OAAO,YAAY,MAAM,OAAO,CAAC;AAChF,MAAI,QAAS,QAAO,iBAAiBA,OAAM,SAA0B,EAAE,MAAM,KAAK,CAAC;AAEnF,MAAI,UAAU;AACZ,gCAA4B,QAAQ,KAAK;EAC3C,OAAO;AACL,WAAO,cAAc,KAAK;EAC5B;AACF;;;AE3VA,IAAAC,UAAuB;AA2MnB,IAAAC,uBAAA;AAtMJ,IAAM,qBAAqB;AAC3B,IAAM,uBAAuB;AAC7B,IAAM,gBAAgB,EAAE,SAAS,OAAO,YAAY,KAAK;AAQzD,IAAM,mBAAmB;AAgCzB,IAAM,aAAmB,mBAA+C,CAAC,OAAO,iBAAiB;AAC/F,QAAM;IACJ,OAAO;IACP,UAAU;IACV,kBAAkB;IAClB,oBAAoB;IACpB,GAAG;EACL,IAAI;AACJ,QAAM,CAAC,WAAW,YAAY,IAAU,iBAA6B,IAAI;AACzE,QAAM,mBAAmB,eAAe,oBAAoB;AAC5D,QAAM,qBAAqB,eAAe,sBAAsB;AAChE,QAAM,wBAA8B,eAA2B,IAAI;AACnE,QAAM,eAAe,gBAAgB,cAAc,CAAC,SAAS,aAAa,IAAI,CAAC;AAE/E,QAAM,aAAmB,eAAO;IAC9B,QAAQ;IACR,QAAQ;AACN,WAAK,SAAS;IAChB;IACA,SAAS;AACP,WAAK,SAAS;IAChB;EACF,CAAC,EAAE;AAGG,EAAA,kBAAU,MAAM;AACpB,QAAI,SAAS;AACX,UAASC,iBAAT,SAAuB,OAAmB;AACxC,YAAI,WAAW,UAAU,CAAC,UAAW;AACrC,cAAM,SAAS,MAAM;AACrB,YAAI,UAAU,SAAS,MAAM,GAAG;AAC9B,gCAAsB,UAAU;QAClC,OAAO;AACL,gBAAM,sBAAsB,SAAS,EAAE,QAAQ,KAAK,CAAC;QACvD;MACF,GAESC,kBAAT,SAAwB,OAAmB;AACzC,YAAI,WAAW,UAAU,CAAC,UAAW;AACrC,cAAM,gBAAgB,MAAM;AAY5B,YAAI,kBAAkB,KAAM;AAI5B,YAAI,CAAC,UAAU,SAAS,aAAa,GAAG;AACtC,gBAAM,sBAAsB,SAAS,EAAE,QAAQ,KAAK,CAAC;QACvD;MACF,GAKSC,mBAAT,SAAyB,WAA6B;AACpD,cAAM,iBAAiB,SAAS;AAChC,YAAI,mBAAmB,SAAS,KAAM;AACtC,mBAAW,YAAY,WAAW;AAChC,cAAI,SAAS,aAAa,SAAS,EAAG,OAAM,SAAS;QACvD;MACF;AA1CS,UAAA,gBAAAF,gBAUA,iBAAAC,iBA0BA,kBAAAC;AAQT,eAAS,iBAAiB,WAAWF,cAAa;AAClD,eAAS,iBAAiB,YAAYC,eAAc;AACpD,YAAM,mBAAmB,IAAI,iBAAiBC,gBAAe;AAC7D,UAAI,UAAW,kBAAiB,QAAQ,WAAW,EAAE,WAAW,MAAM,SAAS,KAAK,CAAC;AAErF,aAAO,MAAM;AACX,iBAAS,oBAAoB,WAAWF,cAAa;AACrD,iBAAS,oBAAoB,YAAYC,eAAc;AACvD,yBAAiB,WAAW;MAC9B;IACF;EACF,GAAG,CAAC,SAAS,WAAW,WAAW,MAAM,CAAC;AAEpC,EAAA,kBAAU,MAAM;AACpB,QAAI,WAAW;AACb,uBAAiB,IAAI,UAAU;AAC/B,YAAM,2BAA2B,SAAS;AAC1C,YAAM,sBAAsB,UAAU,SAAS,wBAAwB;AAEvE,UAAI,CAAC,qBAAqB;AACxB,cAAM,aAAa,IAAI,YAAY,oBAAoB,aAAa;AACpE,kBAAU,iBAAiB,oBAAoB,gBAAgB;AAC/D,kBAAU,cAAc,UAAU;AAClC,YAAI,CAAC,WAAW,kBAAkB;AAChC,qBAAW,YAAY,sBAAsB,SAAS,CAAC,GAAG,EAAE,QAAQ,KAAK,CAAC;AAC1E,cAAI,SAAS,kBAAkB,0BAA0B;AACvD,kBAAM,SAAS;UACjB;QACF;MACF;AAEA,aAAO,MAAM;AACX,kBAAU,oBAAoB,oBAAoB,gBAAgB;AAKlE,mBAAW,MAAM;AACf,gBAAM,eAAe,IAAI,YAAY,sBAAsB,aAAa;AACxE,oBAAU,iBAAiB,sBAAsB,kBAAkB;AACnE,oBAAU,cAAc,YAAY;AACpC,cAAI,CAAC,aAAa,kBAAkB;AAClC,kBAAM,4BAA4B,SAAS,MAAM,EAAE,QAAQ,KAAK,CAAC;UACnE;AAEA,oBAAU,oBAAoB,sBAAsB,kBAAkB;AAEtE,2BAAiB,OAAO,UAAU;QACpC,GAAG,CAAC;MACN;IACF;EACF,GAAG,CAAC,WAAW,kBAAkB,oBAAoB,UAAU,CAAC;AAGhE,QAAM,gBAAsB;IAC1B,CAAC,UAA+B;AAC9B,UAAI,CAAC,QAAQ,CAAC,QAAS;AACvB,UAAI,WAAW,OAAQ;AAEvB,YAAM,WAAW,MAAM,QAAQ,SAAS,CAAC,MAAM,UAAU,CAAC,MAAM,WAAW,CAAC,MAAM;AAClF,YAAM,iBAAiB,SAAS;AAEhC,UAAI,YAAY,gBAAgB;AAC9B,cAAME,aAAY,MAAM;AACxB,cAAM,CAAC,OAAO,IAAI,IAAI,iBAAiBA,UAAS;AAChD,cAAM,4BAA4B,SAAS;AAG3C,YAAI,CAAC,2BAA2B;AAC9B,cAAI,mBAAmBA,WAAW,OAAM,eAAe;QACzD,OAAO;AACL,cAAI,CAAC,MAAM,YAAY,mBAAmB,MAAM;AAC9C,kBAAM,eAAe;AACrB,gBAAI,KAAM,OAAM,OAAO,EAAE,QAAQ,KAAK,CAAC;UACzC,WAAW,MAAM,YAAY,mBAAmB,OAAO;AACrD,kBAAM,eAAe;AACrB,gBAAI,KAAM,OAAM,MAAM,EAAE,QAAQ,KAAK,CAAC;UACxC;QACF;MACF;IACF;IACA,CAAC,MAAM,SAAS,WAAW,MAAM;EACnC;AAEA,aACE,0BAAC,UAAU,KAAV,EAAc,UAAU,IAAK,GAAG,YAAY,KAAK,cAAc,WAAW,cAAA,CAAe;AAE9F,CAAC;AAED,WAAW,cAAc;AAUzB,SAAS,WAAW,YAA2B,EAAE,SAAS,MAAM,IAAI,CAAC,GAAG;AACtE,QAAM,2BAA2B,SAAS;AAC1C,aAAW,aAAa,YAAY;AAClC,UAAM,WAAW,EAAE,OAAO,CAAC;AAC3B,QAAI,SAAS,kBAAkB,yBAA0B;EAC3D;AACF;AAKA,SAAS,iBAAiB,WAAwB;AAChD,QAAM,aAAa,sBAAsB,SAAS;AAClD,QAAM,QAAQ,YAAY,YAAY,SAAS;AAC/C,QAAM,OAAO,YAAY,WAAW,QAAQ,GAAG,SAAS;AACxD,SAAO,CAAC,OAAO,IAAI;AACrB;AAYA,SAAS,sBAAsB,WAAwB;AACrD,QAAM,QAAuB,CAAC;AAC9B,QAAM,SAAS,SAAS,iBAAiB,WAAW,WAAW,cAAc;IAC3E,YAAY,CAAC,SAAc;AACzB,YAAM,gBAAgB,KAAK,YAAY,WAAW,KAAK,SAAS;AAChE,UAAI,KAAK,YAAY,KAAK,UAAU,cAAe,QAAO,WAAW;AAIrE,aAAO,KAAK,YAAY,IAAI,WAAW,gBAAgB,WAAW;IACpE;EACF,CAAC;AACD,SAAO,OAAO,SAAS,EAAG,OAAM,KAAK,OAAO,WAA0B;AAGtE,SAAO;AACT;AAMA,SAAS,YAAY,UAAyB,WAAwB;AACpE,aAAW,WAAW,UAAU;AAE9B,QAAI,CAAC,SAAS,SAAS,EAAE,MAAM,UAAU,CAAC,EAAG,QAAO;EACtD;AACF;AAEA,SAAS,SAAS,MAAmB,EAAE,KAAK,GAA2B;AACrE,MAAI,iBAAiB,IAAI,EAAE,eAAe,SAAU,QAAO;AAC3D,SAAO,MAAM;AAEX,QAAI,SAAS,UAAa,SAAS,KAAM,QAAO;AAChD,QAAI,iBAAiB,IAAI,EAAE,YAAY,OAAQ,QAAO;AACtD,WAAO,KAAK;EACd;AACA,SAAO;AACT;AAEA,SAAS,kBAAkB,SAAmE;AAC5F,SAAO,mBAAmB,oBAAoB,YAAY;AAC5D;AAEA,SAAS,MAAM,SAAkC,EAAE,SAAS,MAAM,IAAI,CAAC,GAAG;AAExE,MAAI,WAAW,QAAQ,OAAO;AAC5B,UAAM,2BAA2B,SAAS;AAE1C,YAAQ,MAAM,EAAE,eAAe,KAAK,CAAC;AAErC,QAAI,YAAY,4BAA4B,kBAAkB,OAAO,KAAK;AACxE,cAAQ,OAAO;EACnB;AACF;AAOA,IAAM,mBAAmB,uBAAuB;AAEhD,SAAS,yBAAyB;AAEhC,MAAI,QAAyB,CAAC;AAE9B,SAAO;IACL,IAAI,YAA2B;AAE7B,YAAM,mBAAmB,MAAM,CAAC;AAChC,UAAI,eAAe,kBAAkB;AACnC,6DAAkB;MACpB;AAEA,cAAQ,YAAY,OAAO,UAAU;AACrC,YAAM,QAAQ,UAAU;IAC1B;IAEA,OAAO,YAA2B;;AAChC,cAAQ,YAAY,OAAO,UAAU;AACrC,kBAAM,CAAC,MAAP,mBAAU;IACZ;EACF;AACF;AAEA,SAAS,YAAe,OAAY,MAAS;AAC3C,QAAM,eAAe,CAAC,GAAG,KAAK;AAC9B,QAAMC,SAAQ,aAAa,QAAQ,IAAI;AACvC,MAAIA,WAAU,IAAI;AAChB,iBAAa,OAAOA,QAAO,CAAC;EAC9B;AACA,SAAO;AACT;AAEA,SAAS,YAAY,OAAsB;AACzC,SAAO,MAAM,OAAO,CAAC,SAAS,KAAK,YAAY,GAAG;AACpD;;;ACtVA,IAAAC,UAAuB;AACvB,uBAAqB;AAyBO,IAAAC,uBAAA;AAjB5B,IAAM,cAAc;AAWpB,IAAM,SAAe,mBAAuC,CAAC,OAAO,iBAAiB;;AACnF,QAAM,EAAE,WAAW,eAAe,GAAG,YAAY,IAAI;AACrD,QAAM,CAAC,SAAS,UAAU,IAAU,iBAAS,KAAK;AAClD,mBAAgB,MAAM,WAAW,IAAI,GAAG,CAAC,CAAC;AAC1C,QAAM,YAAY,iBAAkB,aAAW,8CAAY,aAAZ,mBAAsB;AACrE,SAAO,YACH,iBAAAC,QAAS,iBAAa,0BAAC,UAAU,KAAV,EAAe,GAAG,aAAa,KAAK,aAAA,CAAc,GAAI,SAAS,IACtF;AACN,CAAC;AAED,OAAO,cAAc;;;AC9BrB,IAAAC,UAAuB;ACAvB,IAAAC,UAAuB;AAWhB,SAAS,gBACd,cACA,SACA;AACA,SAAa,mBAAW,CAAC,OAAwB,UAA4C;AAC3F,UAAM,YAAa,QAAQ,KAAK,EAAU,KAAK;AAC/C,WAAO,aAAa;EACtB,GAAG,YAAY;AACjB;ADTA,IAAM,WAAoC,CAAC,UAAU;AACnD,QAAM,EAAE,SAAS,SAAS,IAAI;AAC9B,QAAM,WAAW,YAAY,OAAO;AAEpC,QAAM,QACJ,OAAO,aAAa,aAChB,SAAS,EAAE,SAAS,SAAS,UAAU,CAAC,IAClC,iBAAS,KAAK,QAAQ;AAGlC,QAAM,MAAM,gBAAgB,SAAS,KAAK,cAAc,KAAK,CAAC;AAC9D,QAAM,aAAa,OAAO,aAAa;AACvC,SAAO,cAAc,SAAS,YAAkB,qBAAa,OAAO,EAAE,IAAI,CAAC,IAAI;AACjF;AAEA,SAAS,cAAc;AAMvB,SAAS,YAAY,SAAkB;AACrC,QAAM,CAAC,MAAM,OAAO,IAAU,iBAAsB;AACpD,QAAM,YAAkB,eAAmC,IAAI;AAC/D,QAAM,iBAAuB,eAAO,OAAO;AAC3C,QAAM,uBAA6B,eAAe,MAAM;AACxD,QAAM,eAAe,UAAU,YAAY;AAC3C,QAAM,CAAC,OAAO,IAAI,IAAI,gBAAgB,cAAc;IAClD,SAAS;MACP,SAAS;MACT,eAAe;IACjB;IACA,kBAAkB;MAChB,OAAO;MACP,eAAe;IACjB;IACA,WAAW;MACT,OAAO;IACT;EACF,CAAC;AAEK,EAAA,kBAAU,MAAM;AACpB,UAAM,uBAAuB,iBAAiB,UAAU,OAAO;AAC/D,yBAAqB,UAAU,UAAU,YAAY,uBAAuB;EAC9E,GAAG,CAAC,KAAK,CAAC;AAEV,mBAAgB,MAAM;AACpB,UAAM,SAAS,UAAU;AACzB,UAAM,aAAa,eAAe;AAClC,UAAM,oBAAoB,eAAe;AAEzC,QAAI,mBAAmB;AACrB,YAAM,oBAAoB,qBAAqB;AAC/C,YAAM,uBAAuB,iBAAiB,MAAM;AAEpD,UAAI,SAAS;AACX,aAAK,OAAO;MACd,WAAW,yBAAyB,WAAU,iCAAQ,aAAY,QAAQ;AAGxE,aAAK,SAAS;MAChB,OAAO;AAOL,cAAM,cAAc,sBAAsB;AAE1C,YAAI,cAAc,aAAa;AAC7B,eAAK,eAAe;QACtB,OAAO;AACL,eAAK,SAAS;QAChB;MACF;AAEA,qBAAe,UAAU;IAC3B;EACF,GAAG,CAAC,SAAS,IAAI,CAAC;AAElB,mBAAgB,MAAM;AACpB,QAAI,MAAM;AACR,UAAI;AACJ,YAAM,cAAc,KAAK,cAAc,eAAe;AAMtD,YAAM,qBAAqB,CAAC,UAA0B;AACpD,cAAM,uBAAuB,iBAAiB,UAAU,OAAO;AAG/D,cAAM,qBAAqB,qBAAqB,SAAS,IAAI,OAAO,MAAM,aAAa,CAAC;AACxF,YAAI,MAAM,WAAW,QAAQ,oBAAoB;AAW/C,eAAK,eAAe;AACpB,cAAI,CAAC,eAAe,SAAS;AAC3B,kBAAM,kBAAkB,KAAK,MAAM;AACnC,iBAAK,MAAM,oBAAoB;AAK/B,wBAAY,YAAY,WAAW,MAAM;AACvC,kBAAI,KAAK,MAAM,sBAAsB,YAAY;AAC/C,qBAAK,MAAM,oBAAoB;cACjC;YACF,CAAC;UACH;QACF;MACF;AACA,YAAM,uBAAuB,CAAC,UAA0B;AACtD,YAAI,MAAM,WAAW,MAAM;AAEzB,+BAAqB,UAAU,iBAAiB,UAAU,OAAO;QACnE;MACF;AACA,WAAK,iBAAiB,kBAAkB,oBAAoB;AAC5D,WAAK,iBAAiB,mBAAmB,kBAAkB;AAC3D,WAAK,iBAAiB,gBAAgB,kBAAkB;AACxD,aAAO,MAAM;AACX,oBAAY,aAAa,SAAS;AAClC,aAAK,oBAAoB,kBAAkB,oBAAoB;AAC/D,aAAK,oBAAoB,mBAAmB,kBAAkB;AAC9D,aAAK,oBAAoB,gBAAgB,kBAAkB;MAC7D;IACF,OAAO;AAGL,WAAK,eAAe;IACtB;EACF,GAAG,CAAC,MAAM,IAAI,CAAC;AAEf,SAAO;IACL,WAAW,CAAC,WAAW,kBAAkB,EAAE,SAAS,KAAK;IACzD,KAAW,oBAAY,CAACC,UAAsB;AAC5C,gBAAU,UAAUA,QAAO,iBAAiBA,KAAI,IAAI;AACpD,cAAQA,KAAI;IACd,GAAG,CAAC,CAAC;EACP;AACF;AAIA,SAAS,iBAAiB,QAAoC;AAC5D,UAAO,iCAAQ,kBAAiB;AAClC;AAOA,SAAS,cAAc,SAA2D;;AAEhF,MAAI,UAAS,YAAO,yBAAyB,QAAQ,OAAO,KAAK,MAApD,mBAAuD;AACpE,MAAI,UAAU,UAAU,oBAAoB,UAAU,OAAO;AAC7D,MAAI,SAAS;AACX,WAAQ,QAAgB;EAC1B;AAGA,YAAS,YAAO,yBAAyB,SAAS,KAAK,MAA9C,mBAAiD;AAC1D,YAAU,UAAU,oBAAoB,UAAU,OAAO;AACzD,MAAI,SAAS;AACX,WAAO,QAAQ,MAAM;EACvB;AAGA,SAAO,QAAQ,MAAM,OAAQ,QAAgB;AAC/C;;;AE/LA,IAAAC,UAAuB;AAGvB,IAAI,QAAQ;AAeZ,SAAS,iBAAiB;AAElB,EAAA,kBAAU,MAAM;AACpB,UAAM,aAAa,SAAS,iBAAiB,0BAA0B;AACvE,aAAS,KAAK,sBAAsB,cAAc,WAAW,CAAC,KAAK,iBAAiB,CAAC;AACrF,aAAS,KAAK,sBAAsB,aAAa,WAAW,CAAC,KAAK,iBAAiB,CAAC;AACpF;AAEA,WAAO,MAAM;AACX,UAAI,UAAU,GAAG;AACf,iBAAS,iBAAiB,0BAA0B,EAAE,QAAQ,CAAC,SAAS,KAAK,OAAO,CAAC;MACvF;AACA;IACF;EACF,GAAG,CAAC,CAAC;AAEP;AAEA,SAAS,mBAAmB;AAE1B,QAAM,UAAU,SAAS,cAAc,MAAM;AAC7C,UAAQ,aAAa,0BAA0B,EAAE;AACjD,UAAQ,WAAW;AACnB,UAAQ,MAAM,UAAU;AACxB,UAAQ,MAAM,UAAU;AACxB,UAAQ,MAAM,WAAW;AACzB,UAAQ,MAAM,gBAAgB;AAC9B,SAAO;AACT;;;AC7CA,IAAAC,UAAuB;;;ACAvB,IAAAC,UAAuB;;;ACAhB,IAAI,YAAY,oBAAoB;;;ADI3C,IAAI,UAAU,WAAY;AACtB;AACJ;AAIA,IAAI,eAAqB,mBAAW,SAAU,OAAO,WAAW;AAC5D,MAAI,MAAY,eAAO,IAAI;AAC3B,MAAI,KAAW,iBAAS;AAAA,IACpB,iBAAiB;AAAA,IACjB,gBAAgB;AAAA,IAChB,oBAAoB;AAAA,EACxB,CAAC,GAAG,YAAY,GAAG,CAAC,GAAG,eAAe,GAAG,CAAC;AAC1C,MAAI,eAAe,MAAM,cAAc,WAAW,MAAM,UAAU,YAAY,MAAM,WAAW,kBAAkB,MAAM,iBAAiB,UAAU,MAAM,SAAS,SAAS,MAAM,QAAQ,UAAU,MAAM,SAAS,aAAa,MAAM,YAAY,cAAc,MAAM,aAAa,QAAQ,MAAM,OAAO,iBAAiB,MAAM,gBAAgB,KAAK,MAAM,IAAI,YAAY,OAAO,SAAS,QAAQ,IAAI,UAAU,MAAM,SAAS,OAAO,OAAO,OAAO,CAAC,gBAAgB,YAAY,aAAa,mBAAmB,WAAW,UAAU,WAAW,cAAc,eAAe,SAAS,kBAAkB,MAAM,SAAS,CAAC;AACvlB,MAAI,UAAU;AACd,MAAI,eAAe,aAAa,CAAC,KAAK,SAAS,CAAC;AAChD,MAAI,iBAAiB,SAAS,SAAS,CAAC,GAAG,IAAI,GAAG,SAAS;AAC3D,SAAc;AAAA,IAAoB;AAAA,IAAU;AAAA,IACxC,WAAkB,sBAAc,SAAS,EAAE,SAAS,WAAW,iBAAkC,QAAgB,YAAwB,aAA0B,OAAc,cAA4B,gBAAgB,CAAC,CAAC,gBAAgB,SAAS,KAAK,QAAiB,CAAC;AAAA,IAC/Q,eAAsB,qBAAmB,iBAAS,KAAK,QAAQ,GAAG,SAAS,SAAS,CAAC,GAAG,cAAc,GAAG,EAAE,KAAK,aAAa,CAAC,CAAC,IAAY,sBAAc,WAAW,SAAS,CAAC,GAAG,gBAAgB,EAAE,WAAsB,KAAK,aAAa,CAAC,GAAG,QAAQ;AAAA,EAAE;AACjQ,CAAC;AACD,aAAa,eAAe;AAAA,EACxB,SAAS;AAAA,EACT,iBAAiB;AAAA,EACjB,OAAO;AACX;AACA,aAAa,aAAa;AAAA,EACtB,WAAW;AAAA,EACX,WAAW;AACf;;;AEjCA,IAAAC,UAAuB;;;ACDvB,IAAI,mBAAmB;AACvB,IAAI,OAAO,WAAW,aAAa;AAC/B,MAAI;AACI,cAAU,OAAO,eAAe,CAAC,GAAG,WAAW;AAAA,MAC/C,KAAK,WAAY;AACb,2BAAmB;AACnB,eAAO;AAAA,MACX;AAAA,IACJ,CAAC;AAED,WAAO,iBAAiB,QAAQ,SAAS,OAAO;AAEhD,WAAO,oBAAoB,QAAQ,SAAS,OAAO;AAAA,EACvD,SACO,KAAK;AACR,uBAAmB;AAAA,EACvB;AACJ;AAdY;AAeL,IAAI,aAAa,mBAAmB,EAAE,SAAS,MAAM,IAAI;;;AClBhE,IAAI,uBAAuB,SAAU,MAAM;AAEvC,SAAO,KAAK,YAAY;AAC5B;AACA,IAAI,uBAAuB,SAAU,MAAM,UAAU;AACjD,MAAI,EAAE,gBAAgB,UAAU;AAC5B,WAAO;AAAA,EACX;AACA,MAAI,SAAS,OAAO,iBAAiB,IAAI;AACzC;AAAA;AAAA,IAEA,OAAO,QAAQ,MAAM;AAAA,IAEjB,EAAE,OAAO,cAAc,OAAO,aAAa,CAAC,qBAAqB,IAAI,KAAK,OAAO,QAAQ,MAAM;AAAA;AACvG;AACA,IAAI,0BAA0B,SAAU,MAAM;AAAE,SAAO,qBAAqB,MAAM,WAAW;AAAG;AAChG,IAAI,0BAA0B,SAAU,MAAM;AAAE,SAAO,qBAAqB,MAAM,WAAW;AAAG;AACzF,IAAI,0BAA0B,SAAU,MAAM,MAAM;AACvD,MAAI,gBAAgB,KAAK;AACzB,MAAI,UAAU;AACd,KAAG;AAEC,QAAI,OAAO,eAAe,eAAe,mBAAmB,YAAY;AACpE,gBAAU,QAAQ;AAAA,IACtB;AACA,QAAI,eAAe,uBAAuB,MAAM,OAAO;AACvD,QAAI,cAAc;AACd,UAAI,KAAK,mBAAmB,MAAM,OAAO,GAAG,eAAe,GAAG,CAAC,GAAG,eAAe,GAAG,CAAC;AACrF,UAAI,eAAe,cAAc;AAC7B,eAAO;AAAA,MACX;AAAA,IACJ;AACA,cAAU,QAAQ;AAAA,EACtB,SAAS,WAAW,YAAY,cAAc;AAC9C,SAAO;AACX;AACA,IAAI,sBAAsB,SAAU,IAAI;AACpC,MAAI,YAAY,GAAG,WAAW,eAAe,GAAG,cAAc,eAAe,GAAG;AAChF,SAAO;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACJ;AACA,IAAI,sBAAsB,SAAU,IAAI;AACpC,MAAI,aAAa,GAAG,YAAY,cAAc,GAAG,aAAa,cAAc,GAAG;AAC/E,SAAO;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACJ;AACA,IAAI,yBAAyB,SAAU,MAAM,MAAM;AAC/C,SAAO,SAAS,MAAM,wBAAwB,IAAI,IAAI,wBAAwB,IAAI;AACtF;AACA,IAAI,qBAAqB,SAAU,MAAM,MAAM;AAC3C,SAAO,SAAS,MAAM,oBAAoB,IAAI,IAAI,oBAAoB,IAAI;AAC9E;AACA,IAAI,qBAAqB,SAAU,MAAM,WAAW;AAMhD,SAAO,SAAS,OAAO,cAAc,QAAQ,KAAK;AACtD;AACO,IAAI,eAAe,SAAU,MAAM,WAAW,OAAO,aAAa,cAAc;AACnF,MAAI,kBAAkB,mBAAmB,MAAM,OAAO,iBAAiB,SAAS,EAAE,SAAS;AAC3F,MAAI,QAAQ,kBAAkB;AAE9B,MAAI,SAAS,MAAM;AACnB,MAAI,eAAe,UAAU,SAAS,MAAM;AAC5C,MAAI,qBAAqB;AACzB,MAAI,kBAAkB,QAAQ;AAC9B,MAAI,kBAAkB;AACtB,MAAI,qBAAqB;AACzB,KAAG;AACC,QAAI,CAAC,QAAQ;AACT;AAAA,IACJ;AACA,QAAI,KAAK,mBAAmB,MAAM,MAAM,GAAG,WAAW,GAAG,CAAC,GAAG,WAAW,GAAG,CAAC,GAAG,WAAW,GAAG,CAAC;AAC9F,QAAI,gBAAgB,WAAW,WAAW,kBAAkB;AAC5D,QAAI,YAAY,eAAe;AAC3B,UAAI,uBAAuB,MAAM,MAAM,GAAG;AACtC,2BAAmB;AACnB,8BAAsB;AAAA,MAC1B;AAAA,IACJ;AACA,QAAI,WAAW,OAAO;AAGtB,aAAU,YAAY,SAAS,aAAa,KAAK,yBAAyB,SAAS,OAAO;AAAA,EAC9F;AAAA;AAAA,IAEC,CAAC,gBAAgB,WAAW,SAAS;AAAA,IAEjC,iBAAiB,UAAU,SAAS,MAAM,KAAK,cAAc;AAAA;AAElE,MAAI,oBACE,gBAAgB,KAAK,IAAI,eAAe,IAAI,KAAO,CAAC,gBAAgB,QAAQ,kBAAmB;AACjG,yBAAqB;AAAA,EACzB,WACS,CAAC,oBACJ,gBAAgB,KAAK,IAAI,kBAAkB,IAAI,KAAO,CAAC,gBAAgB,CAAC,QAAQ,qBAAsB;AACxG,yBAAqB;AAAA,EACzB;AACA,SAAO;AACX;;;AFrGO,IAAI,aAAa,SAAU,OAAO;AACrC,SAAO,oBAAoB,QAAQ,CAAC,MAAM,eAAe,CAAC,EAAE,SAAS,MAAM,eAAe,CAAC,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC;AACjH;AACO,IAAI,aAAa,SAAU,OAAO;AAAE,SAAO,CAAC,MAAM,QAAQ,MAAM,MAAM;AAAG;AAChF,IAAI,aAAa,SAAU,KAAK;AAC5B,SAAO,OAAO,aAAa,MAAM,IAAI,UAAU;AACnD;AACA,IAAI,eAAe,SAAU,GAAG,GAAG;AAAE,SAAO,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAC,MAAM,EAAE,CAAC;AAAG;AAC5E,IAAI,gBAAgB,SAAU,IAAI;AAAE,SAAO,4BAA4B,OAAO,IAAI,mDAAmD,EAAE,OAAO,IAAI,2BAA2B;AAAG;AAChL,IAAI,YAAY;AAChB,IAAI,YAAY,CAAC;AACV,SAAS,oBAAoB,OAAO;AACvC,MAAI,qBAA2B,eAAO,CAAC,CAAC;AACxC,MAAI,gBAAsB,eAAO,CAAC,GAAG,CAAC,CAAC;AACvC,MAAI,aAAmB,eAAO;AAC9B,MAAI,KAAW,iBAAS,WAAW,EAAE,CAAC;AACtC,MAAI,QAAc,iBAAS,cAAc,EAAE,CAAC;AAC5C,MAAI,YAAkB,eAAO,KAAK;AAClC,EAAM,kBAAU,WAAY;AACxB,cAAU,UAAU;AAAA,EACxB,GAAG,CAAC,KAAK,CAAC;AACV,EAAM,kBAAU,WAAY;AACxB,QAAI,MAAM,OAAO;AACb,eAAS,KAAK,UAAU,IAAI,uBAAuB,OAAO,EAAE,CAAC;AAC7D,UAAI,UAAU,cAAc,CAAC,MAAM,QAAQ,OAAO,IAAI,MAAM,UAAU,CAAC,GAAG,IAAI,UAAU,GAAG,IAAI,EAAE,OAAO,OAAO;AAC/G,cAAQ,QAAQ,SAAU,IAAI;AAAE,eAAO,GAAG,UAAU,IAAI,uBAAuB,OAAO,EAAE,CAAC;AAAA,MAAG,CAAC;AAC7F,aAAO,WAAY;AACf,iBAAS,KAAK,UAAU,OAAO,uBAAuB,OAAO,EAAE,CAAC;AAChE,gBAAQ,QAAQ,SAAU,IAAI;AAAE,iBAAO,GAAG,UAAU,OAAO,uBAAuB,OAAO,EAAE,CAAC;AAAA,QAAG,CAAC;AAAA,MACpG;AAAA,IACJ;AACA;AAAA,EACJ,GAAG,CAAC,MAAM,OAAO,MAAM,QAAQ,SAAS,MAAM,MAAM,CAAC;AACrD,MAAI,oBAA0B,oBAAY,SAAU,OAAO,QAAQ;AAC/D,QAAK,aAAa,SAAS,MAAM,QAAQ,WAAW,KAAO,MAAM,SAAS,WAAW,MAAM,SAAU;AACjG,aAAO,CAAC,UAAU,QAAQ;AAAA,IAC9B;AACA,QAAI,QAAQ,WAAW,KAAK;AAC5B,QAAI,aAAa,cAAc;AAC/B,QAAI,SAAS,YAAY,QAAQ,MAAM,SAAS,WAAW,CAAC,IAAI,MAAM,CAAC;AACvE,QAAI,SAAS,YAAY,QAAQ,MAAM,SAAS,WAAW,CAAC,IAAI,MAAM,CAAC;AACvE,QAAI;AACJ,QAAI,SAAS,MAAM;AACnB,QAAI,gBAAgB,KAAK,IAAI,MAAM,IAAI,KAAK,IAAI,MAAM,IAAI,MAAM;AAEhE,QAAI,aAAa,SAAS,kBAAkB,OAAO,OAAO,SAAS,SAAS;AACxE,aAAO;AAAA,IACX;AAEA,QAAI,YAAY,OAAO,aAAa;AACpC,QAAI,aAAa,aAAa,UAAU;AACxC,QAAI,sBAAsB,aAAa,eAAe,UAAU,WAAW,SAAS,MAAM,IAAI;AAC9F,QAAI,qBAAqB;AACrB,aAAO;AAAA,IACX;AACA,QAAI,+BAA+B,wBAAwB,eAAe,MAAM;AAChF,QAAI,CAAC,8BAA8B;AAC/B,aAAO;AAAA,IACX;AACA,QAAI,8BAA8B;AAC9B,oBAAc;AAAA,IAClB,OACK;AACD,oBAAc,kBAAkB,MAAM,MAAM;AAC5C,qCAA+B,wBAAwB,eAAe,MAAM;AAAA,IAEhF;AACA,QAAI,CAAC,8BAA8B;AAC/B,aAAO;AAAA,IACX;AACA,QAAI,CAAC,WAAW,WAAW,oBAAoB,UAAU,UAAU,SAAS;AACxE,iBAAW,UAAU;AAAA,IACzB;AACA,QAAI,CAAC,aAAa;AACd,aAAO;AAAA,IACX;AACA,QAAI,gBAAgB,WAAW,WAAW;AAC1C,WAAO,aAAa,eAAe,QAAQ,OAAO,kBAAkB,MAAM,SAAS,QAAQ,IAAI;AAAA,EACnG,GAAG,CAAC,CAAC;AACL,MAAI,gBAAsB,oBAAY,SAAU,QAAQ;AACpD,QAAI,QAAQ;AACZ,QAAI,CAAC,UAAU,UAAU,UAAU,UAAU,SAAS,CAAC,MAAM,OAAO;AAEhE;AAAA,IACJ;AACA,QAAI,QAAQ,YAAY,QAAQ,WAAW,KAAK,IAAI,WAAW,KAAK;AACpE,QAAI,cAAc,mBAAmB,QAAQ,OAAO,SAAU,GAAG;AAAE,aAAO,EAAE,SAAS,MAAM,SAAS,EAAE,WAAW,MAAM,UAAU,MAAM,WAAW,EAAE,iBAAiB,aAAa,EAAE,OAAO,KAAK;AAAA,IAAG,CAAC,EAAE,CAAC;AAEvM,QAAI,eAAe,YAAY,QAAQ;AACnC,UAAI,MAAM,YAAY;AAClB,cAAM,eAAe;AAAA,MACzB;AACA;AAAA,IACJ;AAEA,QAAI,CAAC,aAAa;AACd,UAAI,cAAc,UAAU,QAAQ,UAAU,CAAC,GAC1C,IAAI,UAAU,EACd,OAAO,OAAO,EACd,OAAO,SAAU,MAAM;AAAE,eAAO,KAAK,SAAS,MAAM,MAAM;AAAA,MAAG,CAAC;AACnE,UAAI,aAAa,WAAW,SAAS,IAAI,kBAAkB,OAAO,WAAW,CAAC,CAAC,IAAI,CAAC,UAAU,QAAQ;AACtG,UAAI,YAAY;AACZ,YAAI,MAAM,YAAY;AAClB,gBAAM,eAAe;AAAA,QACzB;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ,GAAG,CAAC,CAAC;AACL,MAAI,eAAqB,oBAAY,SAAUC,OAAM,OAAO,QAAQ,QAAQ;AACxE,QAAI,QAAQ,EAAE,MAAMA,OAAM,OAAc,QAAgB,QAAgB,cAAc,yBAAyB,MAAM,EAAE;AACvH,uBAAmB,QAAQ,KAAK,KAAK;AACrC,eAAW,WAAY;AACnB,yBAAmB,UAAU,mBAAmB,QAAQ,OAAO,SAAU,GAAG;AAAE,eAAO,MAAM;AAAA,MAAO,CAAC;AAAA,IACvG,GAAG,CAAC;AAAA,EACR,GAAG,CAAC,CAAC;AACL,MAAI,mBAAyB,oBAAY,SAAU,OAAO;AACtD,kBAAc,UAAU,WAAW,KAAK;AACxC,eAAW,UAAU;AAAA,EACzB,GAAG,CAAC,CAAC;AACL,MAAI,cAAoB,oBAAY,SAAU,OAAO;AACjD,iBAAa,MAAM,MAAM,WAAW,KAAK,GAAG,MAAM,QAAQ,kBAAkB,OAAO,MAAM,QAAQ,OAAO,CAAC;AAAA,EAC7G,GAAG,CAAC,CAAC;AACL,MAAI,kBAAwB,oBAAY,SAAU,OAAO;AACrD,iBAAa,MAAM,MAAM,WAAW,KAAK,GAAG,MAAM,QAAQ,kBAAkB,OAAO,MAAM,QAAQ,OAAO,CAAC;AAAA,EAC7G,GAAG,CAAC,CAAC;AACL,EAAM,kBAAU,WAAY;AACxB,cAAU,KAAK,KAAK;AACpB,UAAM,aAAa;AAAA,MACf,iBAAiB;AAAA,MACjB,gBAAgB;AAAA,MAChB,oBAAoB;AAAA,IACxB,CAAC;AACD,aAAS,iBAAiB,SAAS,eAAe,UAAU;AAC5D,aAAS,iBAAiB,aAAa,eAAe,UAAU;AAChE,aAAS,iBAAiB,cAAc,kBAAkB,UAAU;AACpE,WAAO,WAAY;AACf,kBAAY,UAAU,OAAO,SAAU,MAAM;AAAE,eAAO,SAAS;AAAA,MAAO,CAAC;AACvE,eAAS,oBAAoB,SAAS,eAAe,UAAU;AAC/D,eAAS,oBAAoB,aAAa,eAAe,UAAU;AACnE,eAAS,oBAAoB,cAAc,kBAAkB,UAAU;AAAA,IAC3E;AAAA,EACJ,GAAG,CAAC,CAAC;AACL,MAAI,kBAAkB,MAAM,iBAAiB,QAAQ,MAAM;AAC3D,SAAc;AAAA,IAAoB;AAAA,IAAU;AAAA,IACxC,QAAc,sBAAc,OAAO,EAAE,QAAQ,cAAc,EAAE,EAAE,CAAC,IAAI;AAAA,IACpE,kBAAwB,sBAAc,iBAAiB,EAAE,YAAY,MAAM,YAAY,SAAS,MAAM,QAAQ,CAAC,IAAI;AAAA,EAAI;AAC/H;AACA,SAAS,yBAAyB,MAAM;AACpC,MAAI,eAAe;AACnB,SAAO,SAAS,MAAM;AAClB,QAAI,gBAAgB,YAAY;AAC5B,qBAAe,KAAK;AACpB,aAAO,KAAK;AAAA,IAChB;AACA,WAAO,KAAK;AAAA,EAChB;AACA,SAAO;AACX;;;AGhKA,IAAO,kBAAQ,cAAc,WAAW,mBAAmB;;;ANC3D,IAAI,oBAA0B,mBAAW,SAAU,OAAO,KAAK;AAAE,SAAc,sBAAc,cAAc,SAAS,CAAC,GAAG,OAAO,EAAE,KAAU,SAAS,gBAAQ,CAAC,CAAC;AAAI,CAAC;AACnK,kBAAkB,aAAa,aAAa;AAC5C,IAAO,sBAAQ;;;AR8DX,IAAAC,uBAAA;AA9CJ,IAAM,cAAc;AAGpB,IAAM,CAAC,qBAAqB,iBAAiB,IAAI,mBAAmB,WAAW;AAc/E,IAAM,CAAC,gBAAgB,gBAAgB,IAAI,oBAAwC,WAAW;AAU9F,IAAM,SAAgC,CAAC,UAAoC;AACzE,QAAM;IACJ;IACA;IACA,MAAM;IACN;IACA;IACA,QAAQ;EACV,IAAI;AACJ,QAAM,aAAmB,eAA0B,IAAI;AACvD,QAAM,aAAmB,eAA6B,IAAI;AAC1D,QAAM,CAAC,MAAM,OAAO,IAAI,qBAAqB;IAC3C,MAAM;IACN,aAAa,eAAe;IAC5B,UAAU;IACV,QAAQ;EACV,CAAC;AAED,aACE;IAAC;IAAA;MACC,OAAO;MACP;MACA;MACA,WAAW,MAAM;MACjB,SAAS,MAAM;MACf,eAAe,MAAM;MACrB;MACA,cAAc;MACd,cAAoB,oBAAY,MAAM,QAAQ,CAAC,aAAa,CAAC,QAAQ,GAAG,CAAC,OAAO,CAAC;MACjF;MAEC;IAAA;EACH;AAEJ;AAEA,OAAO,cAAc;AAMrB,IAAM,eAAe;AAMrB,IAAM,gBAAsB;EAC1B,CAAC,OAAwC,iBAAiB;AACxD,UAAM,EAAE,eAAe,GAAG,aAAa,IAAI;AAC3C,UAAM,UAAU,iBAAiB,cAAc,aAAa;AAC5D,UAAM,qBAAqB,gBAAgB,cAAc,QAAQ,UAAU;AAC3E,eACE;MAAC,UAAU;MAAV;QACC,MAAK;QACL,iBAAc;QACd,iBAAe,QAAQ;QACvB,iBAAe,QAAQ;QACvB,cAAY,SAAS,QAAQ,IAAI;QAChC,GAAG;QACJ,KAAK;QACL,SAAS,qBAAqB,MAAM,SAAS,QAAQ,YAAY;MAAA;IACnE;EAEJ;AACF;AAEA,cAAc,cAAc;AAM5B,IAAMC,eAAc;AAGpB,IAAM,CAAC,gBAAgB,gBAAgB,IAAI,oBAAwCA,cAAa;EAC9F,YAAY;AACd,CAAC;AAgBD,IAAM,eAA4C,CAAC,UAA0C;AAC3F,QAAM,EAAE,eAAe,YAAY,UAAU,UAAU,IAAI;AAC3D,QAAM,UAAU,iBAAiBA,cAAa,aAAa;AAC3D,aACE,0BAAC,gBAAA,EAAe,OAAO,eAAe,YACnC,UAAM,iBAAS,IAAI,UAAU,CAAC,cAC7B,0BAAC,UAAA,EAAS,SAAS,cAAc,QAAQ,MACvC,cAAA,0BAAC,QAAA,EAAgB,SAAO,MAAC,WACtB,UAAA,MAAA,CACH,EAAA,CACF,CACD,EAAA,CACH;AAEJ;AAEA,aAAa,cAAcA;AAM3B,IAAM,eAAe;AAWrB,IAAM,gBAAsB;EAC1B,CAAC,OAAwC,iBAAiB;AACxD,UAAM,gBAAgB,iBAAiB,cAAc,MAAM,aAAa;AACxE,UAAM,EAAE,aAAa,cAAc,YAAY,GAAG,aAAa,IAAI;AACnE,UAAM,UAAU,iBAAiB,cAAc,MAAM,aAAa;AAClE,WAAO,QAAQ,YACb,0BAAC,UAAA,EAAS,SAAS,cAAc,QAAQ,MACvC,cAAA,0BAAC,mBAAA,EAAmB,GAAG,cAAc,KAAK,aAAA,CAAc,EAAA,CAC1D,IACE;EACN;AACF;AAEA,cAAc,cAAc;AAM5B,IAAM,OAAO,WAAW,4BAA4B;AAEpD,IAAM,oBAA0B;EAC9B,CAAC,OAA4C,iBAAiB;AAC5D,UAAM,EAAE,eAAe,GAAG,aAAa,IAAI;AAC3C,UAAM,UAAU,iBAAiB,cAAc,aAAa;AAC5D;;;UAGE,0BAAC,qBAAA,EAAa,IAAI,MAAM,gBAAc,MAAC,QAAQ,CAAC,QAAQ,UAAU,GAChE,cAAA;QAAC,UAAU;QAAV;UACC,cAAY,SAAS,QAAQ,IAAI;UAChC,GAAG;UACJ,KAAK;UAEL,OAAO,EAAE,eAAe,QAAQ,GAAG,aAAa,MAAM;QAAA;MACxD,EAAA,CACF;;EAEJ;AACF;AAMA,IAAM,eAAe;AAWrB,IAAM,gBAAsB;EAC1B,CAAC,OAAwC,iBAAiB;AACxD,UAAM,gBAAgB,iBAAiB,cAAc,MAAM,aAAa;AACxE,UAAM,EAAE,aAAa,cAAc,YAAY,GAAG,aAAa,IAAI;AACnE,UAAM,UAAU,iBAAiB,cAAc,MAAM,aAAa;AAClE,eACE,0BAAC,UAAA,EAAS,SAAS,cAAc,QAAQ,MACtC,UAAA,QAAQ,YACP,0BAAC,oBAAA,EAAoB,GAAG,cAAc,KAAK,aAAA,CAAc,QAEzD,0BAAC,uBAAA,EAAuB,GAAG,cAAc,KAAK,aAAA,CAAc,EAAA,CAEhE;EAEJ;AACF;AAEA,cAAc,cAAc;AAQ5B,IAAM,qBAA2B;EAC/B,CAAC,OAA4C,iBAAiB;AAC5D,UAAM,UAAU,iBAAiB,cAAc,MAAM,aAAa;AAClE,UAAM,aAAmB,eAAuB,IAAI;AACpD,UAAM,eAAe,gBAAgB,cAAc,QAAQ,YAAY,UAAU;AAG3E,IAAA,kBAAU,MAAM;AACpB,YAAM,UAAU,WAAW;AAC3B,UAAI,QAAS,QAAO,WAAW,OAAO;IACxC,GAAG,CAAC,CAAC;AAEL,eACE;MAAC;MAAA;QACE,GAAG;QACJ,KAAK;QAGL,WAAW,QAAQ;QACnB,6BAA2B;QAC3B,kBAAkB,qBAAqB,MAAM,kBAAkB,CAAC,UAAU;;AACxE,gBAAM,eAAe;AACrB,wBAAQ,WAAW,YAAnB,mBAA4B;QAC9B,CAAC;QACD,sBAAsB,qBAAqB,MAAM,sBAAsB,CAAC,UAAU;AAChF,gBAAM,gBAAgB,MAAM,OAAO;AACnC,gBAAM,gBAAgB,cAAc,WAAW,KAAK,cAAc,YAAY;AAC9E,gBAAM,eAAe,cAAc,WAAW,KAAK;AAInD,cAAI,aAAc,OAAM,eAAe;QACzC,CAAC;QAGD,gBAAgB;UAAqB,MAAM;UAAgB,CAAC,UAC1D,MAAM,eAAe;QACvB;MAAA;IACF;EAEJ;AACF;AAIA,IAAM,wBAA8B;EAClC,CAAC,OAA4C,iBAAiB;AAC5D,UAAM,UAAU,iBAAiB,cAAc,MAAM,aAAa;AAClE,UAAM,0BAAgC,eAAO,KAAK;AAClD,UAAM,2BAAiC,eAAO,KAAK;AAEnD,eACE;MAAC;MAAA;QACE,GAAG;QACJ,KAAK;QACL,WAAW;QACX,6BAA6B;QAC7B,kBAAkB,CAAC,UAAU;;AAC3B,sBAAM,qBAAN,+BAAyB;AAEzB,cAAI,CAAC,MAAM,kBAAkB;AAC3B,gBAAI,CAAC,wBAAwB,QAAS,eAAQ,WAAW,YAAnB,mBAA4B;AAElE,kBAAM,eAAe;UACvB;AAEA,kCAAwB,UAAU;AAClC,mCAAyB,UAAU;QACrC;QACA,mBAAmB,CAAC,UAAU;;AAC5B,sBAAM,sBAAN,+BAA0B;AAE1B,cAAI,CAAC,MAAM,kBAAkB;AAC3B,oCAAwB,UAAU;AAClC,gBAAI,MAAM,OAAO,cAAc,SAAS,eAAe;AACrD,uCAAyB,UAAU;YACrC;UACF;AAKA,gBAAM,SAAS,MAAM;AACrB,gBAAM,mBAAkB,aAAQ,WAAW,YAAnB,mBAA4B,SAAS;AAC7D,cAAI,gBAAiB,OAAM,eAAe;AAM1C,cAAI,MAAM,OAAO,cAAc,SAAS,aAAa,yBAAyB,SAAS;AACrF,kBAAM,eAAe;UACvB;QACF;MAAA;IACF;EAEJ;AACF;AA4BA,IAAM,oBAA0B;EAC9B,CAAC,OAA4C,iBAAiB;AAC5D,UAAM,EAAE,eAAe,WAAW,iBAAiB,kBAAkB,GAAG,aAAa,IAAI;AACzF,UAAM,UAAU,iBAAiB,cAAc,aAAa;AAC5D,UAAM,aAAmB,eAAuB,IAAI;AACpD,UAAM,eAAe,gBAAgB,cAAc,UAAU;AAI7D,mBAAe;AAEf,eACE,2BAAA,+BAAA,EACE,UAAA;UAAA;QAAC;QAAA;UACC,SAAO;UACP,MAAI;UACJ,SAAS;UACT,kBAAkB;UAClB,oBAAoB;UAEpB,cAAA;YAAC;YAAA;cACC,MAAK;cACL,IAAI,QAAQ;cACZ,oBAAkB,QAAQ;cAC1B,mBAAiB,QAAQ;cACzB,cAAY,SAAS,QAAQ,IAAI;cAChC,GAAG;cACJ,KAAK;cACL,WAAW,MAAM,QAAQ,aAAa,KAAK;YAAA;UAC7C;QAAA;MACF;UAEE,2BAAA,+BAAA,EACE,UAAA;YAAA,0BAAC,cAAA,EAAa,SAAS,QAAQ,QAAA,CAAS;YACxC,0BAAC,oBAAA,EAAmB,YAAwB,eAAe,QAAQ,cAAA,CAAe;MAAA,EAAA,CACpF;IAAA,EAAA,CAEJ;EAEJ;AACF;AAMA,IAAM,aAAa;AAMnB,IAAM,cAAoB;EACxB,CAAC,OAAsC,iBAAiB;AACtD,UAAM,EAAE,eAAe,GAAG,WAAW,IAAI;AACzC,UAAM,UAAU,iBAAiB,YAAY,aAAa;AAC1D,eAAO,0BAAC,UAAU,IAAV,EAAa,IAAI,QAAQ,SAAU,GAAG,YAAY,KAAK,aAAA,CAAc;EAC/E;AACF;AAEA,YAAY,cAAc;AAM1B,IAAM,mBAAmB;AAMzB,IAAM,oBAA0B;EAC9B,CAAC,OAA4C,iBAAiB;AAC5D,UAAM,EAAE,eAAe,GAAG,iBAAiB,IAAI;AAC/C,UAAM,UAAU,iBAAiB,kBAAkB,aAAa;AAChE,eAAO,0BAAC,UAAU,GAAV,EAAY,IAAI,QAAQ,eAAgB,GAAG,kBAAkB,KAAK,aAAA,CAAc;EAC1F;AACF;AAEA,kBAAkB,cAAc;AAMhC,IAAM,aAAa;AAKnB,IAAM,cAAoB;EACxB,CAAC,OAAsC,iBAAiB;AACtD,UAAM,EAAE,eAAe,GAAG,WAAW,IAAI;AACzC,UAAM,UAAU,iBAAiB,YAAY,aAAa;AAC1D,eACE;MAAC,UAAU;MAAV;QACC,MAAK;QACJ,GAAG;QACJ,KAAK;QACL,SAAS,qBAAqB,MAAM,SAAS,MAAM,QAAQ,aAAa,KAAK,CAAC;MAAA;IAChF;EAEJ;AACF;AAEA,YAAY,cAAc;AAI1B,SAAS,SAAS,MAAe;AAC/B,SAAO,OAAO,SAAS;AACzB;AAEA,IAAM,qBAAqB;AAE3B,IAAM,CAAC,iBAAiB,iBAAiB,IAAI,eAAc,oBAAoB;EAC7E,aAAa;EACb,WAAW;EACX,UAAU;AACZ,CAAC;AAID,IAAM,eAA4C,CAAC,EAAE,QAAQ,MAAM;AACjE,QAAM,sBAAsB,kBAAkB,kBAAkB;AAEhE,QAAM,UAAU,KAAK,oBAAoB,WAAW,mBAAmB,oBAAoB,SAAS;;4BAE1E,oBAAoB,SAAS;;4EAEmB,oBAAoB,QAAQ;AAEhG,EAAA,kBAAU,MAAM;AACpB,QAAI,SAAS;AACX,YAAM,WAAW,SAAS,eAAe,OAAO;AAChD,UAAI,CAAC,SAAU,SAAQ,MAAM,OAAO;IACtC;EACF,GAAG,CAAC,SAAS,OAAO,CAAC;AAErB,SAAO;AACT;AAEA,IAAM,2BAA2B;AAOjC,IAAM,qBAAwD,CAAC,EAAE,YAAY,cAAc,MAAM;AAC/F,QAAM,4BAA4B,kBAAkB,wBAAwB;AAC5E,QAAM,UAAU,6EAA6E,0BAA0B,WAAW;AAE5H,EAAA,kBAAU,MAAM;;AACpB,UAAM,iBAAgB,gBAAW,YAAX,mBAAoB,aAAa;AAEvD,QAAI,iBAAiB,eAAe;AAClC,YAAM,iBAAiB,SAAS,eAAe,aAAa;AAC5D,UAAI,CAAC,eAAgB,SAAQ,KAAK,OAAO;IAC3C;EACF,GAAG,CAAC,SAAS,YAAY,aAAa,CAAC;AAEvC,SAAO;AACT;AAEA,IAAM,OAAO;AAEb,IAAMC,UAAS;AAEf,IAAM,UAAU;AAChB,IAAM,QAAQ;AACd,IAAM,cAAc;;;AetiBpB,IAAMC,mBAAmCC;AACzC,IAAMC,oBAAoDC;;;ACsB1D,IAAMC,sBAAsB,CAAC,EAAEC,OAAOC,SAAQ,MAAwC;AACpF,aACEC,2BAACC,GAAAA;IAAKC,WAAU;IAASC,YAAW;IAAaC,aAAa;;UAC5DC,0BAAQC,OAAK;QACX,cAAAD,0BAACE,GAAAA;UAAWC,SAAQ;UAASV,UAAAA;;;UAE/BO,0BAAQI,aAAW;QACjB,cAAAJ,0BAACE,GAAAA;UAAWC,SAAQ;UAAKE,WAAU;UAChCX,UAAAA;;;;;AAKX;AAEA,IAAMY,mBAAmBC,GAAOX,CAAAA;aACnB,CAAC,EAAEY,MAAK,MAAOA,MAAMC,OAAO,CAAA,CAAE;mBACxB,CAAC,EAAED,MAAK,MAAO,GAAGA,MAAME,YAAY,QAAQF,MAAME,YAAY,EAAE;;;;;;;AAQnF,IAAMC,sBAAsBJ,GAAcN,KAAK;;;;AAW/C,IAAMW,eAAe,CAAC,EAAEC,QAAQC,UAAUC,WAAU,MAAqB;AACvE,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,MAAIJ,WAAW,SAAS;AACtB,eACElB,2BAACgB,qBAAAA;;YACCX,0BAACM,kBAAAA;UAAiBY,YAAW;UAC3B,cAAAlB,0BAACmB,IAAAA;YAAMC,MAAK;;;YAEdpB,0BAACR,qBAAAA;UACCC,OAAOuB,cAAc;YACnBK,IAAIC,kBAAkB,wBAAA;YACtBC,gBAAgB;UAClB,CAAA;UACA7B,UAAUsB,cAAc;YACtBK,IAAIC,kBAAkB,iCAAA;YACtBC,gBAAgB;UAClB,CAAA;;;;EAIR;AAEA,MAAIV,WAAW,WAAW;AACxB,eACElB,2BAACgB,qBAAAA;;YACCX,0BAACM,kBAAAA;UAAiBY,YAAW;UAC3B,cAAAlB,0BAACwB,IAAAA;YAAMJ,MAAK;;;YAEdpB,0BAACR,qBAAAA;UACCC,OAAOuB,cAAc;YACnBK,IAAIC,kBAAkB,yBAAA;YACtBC,gBAAgB;UAClB,CAAA;UACA7B,UAAUsB,cACR;YACEK,IAAIC,kBAAkB,kCAAA;YACtBC,gBAAgB;aAElB;YAAEE,OAAOV;UAAW,CAAA;;;;EAK9B;AAEA,MAAIF,WAAW,YAAY;AACzB,eACElB,2BAACgB,qBAAAA;;YACCX,0BAACM,kBAAAA;UAAiBY,YAAW;UAC3B,cAAAlB,0BAAC0B,IAAAA;YAAYN,MAAK;;;YAEpBpB,0BAACR,qBAAAA;UACCC,OAAOuB,cAAc;YACnBK,IAAIC,kBAAkB,0BAAA;YACtBC,gBAAgB;UAClB,CAAA;UACA7B,UAAUsB,cAAc;YACtBK,IAAIC,kBAAkB,mCAAA;YACtBC,gBAAgB;UAClB,CAAA;;;;EAIR;AAEA,MAAIV,WAAW,aAAa;AAC1B,UAAMc,qBAAqBb,WAAWc,KAAKC,MAAMf,QAAY,IAAA;AAE7D,eACEnB,2BAACgB,qBAAAA;;YACCX,0BAACM,kBAAAA;UAAiBY,YAAW;UAC3B,cAAAlB,0BAAC8B,IAAAA;YAAOV,MAAK;;;YAEfpB,0BAACR,qBAAAA;UACCC,OAAOuB,cACL;YACEK,IAAIC,kBAAkB,qCAAA;YACtBC,gBAAgB;aAElB;YACEQ,OAAOhB;YACPiB,YAAYL;UACd,CAAA;;;;EAKV;AAEA,SAAO;AACT;AAEA,IAAMM,mBAAmB1B,GAAO2B,EAAAA;;;;;AAMhC,IAAMC,iBAAiB5B,GAAO6B;;;eAGf,CAAC,EAAEC,aAAY,MAAQA,eAAe,mBAAmB,cAAgB;;AAGxF,IAAMC,mBAAmB;EACvBC,WAAW;IAAErB,YAAY;EAAa;EACtCsB,UAAU;IAAEtB,YAAY;EAAa;EACrCuB,SAAS;IAAEvB,YAAY;EAAa;EACpCwB,OAAO;IAAExB,YAAY;EAAY;AACnC;AAEA,IAAMyB,eAAe,CAAC,EAAEC,YAAW,MAA+B;AAChE,QAAM,EAAE5B,cAAa,IAAKC,QAAAA;AAE1B,QAAM,EAAE4B,aAAa/B,UAAUgC,OAAOC,UAAUhC,WAAU,IAAKiC,kBAC7D,CAACC,UAAUA,MAAMC,cAAc;AAEjC,QAAMC,WAAWC,iBAAAA;AACjB,QAAM,CAACC,mBAAAA,IAAuBC,qCAAAA;AAE9B,QAAMC,aAAazC,aAAa;AAChC,QAAM0C,gBAAgBD,cAAcT,MAAMW,MAAM,CAACC,MAAMA,EAAE7C,WAAW,WAAA;AACpE,QAAM8C,eAAeJ,cAAcT,MAAMc,SAAS,KAAKd,MAAMW,MAAM,CAACC,MAAMA,EAAE7C,WAAW,OAAA;AACvF,QAAMgD,oBAAoBf,MAAMgB,KAAK,CAACJ,MAAMA,EAAE7C,WAAW,WAAA;AACzD,QAAMkD,YAAYR,cAAcC,iBAAiB,CAACG,gBAAgB,CAACE;AACnE,QAAMhD,UAAU,MAAA;AACd,QAAI8C,aAAc,QAAO;AACzB,QAAII,UAAW,QAAO;AACtB,QAAIF,kBAAmB,QAAO;AAE9B,WAAO;KACT;AAEA,QAAMG,eAAe,MAAA;AACnBC,gBAAYlB,QAAAA;AACZI,aAASe,aAAAA,CAAAA;EACX;AAEA,QAAMC,cAAc,YAAA;AAClB,QAAI;AACF,YAAMd,oBAAAA,EAAsBe,OAAM;IACpC,QAAQ;IAER;EACF;AAEA,QAAMC,uBAAuB,MAAA;AAC3BlB,aAASmB,eAAAA,CAAAA;EACX;AAEA,aACE3E,2BAACC,GAAAA;IACCsB,YAAYoB,iBAAiBzB,MAAO,EAACK;IACrCqD,gBAAe;IACfC,QAAQ;IACRC,WAAS;;UAETzE,0BAACY,cAAAA;QAAaC;QAAgBC;QAAoBC;;UAClDpB,2BAACC,GAAAA;QAAK8E,KAAK;;UACR,CAAClB,qBACAxD,0BAAC2E,IAAAA;YAAWC,SAASZ;YAAca,YAAW;sBAC3C7D,cAAc;cACbK,IAAIC,kBAAkB,wBAAA;cACtBC,gBAAgB;YAClB,CAAA;;UAGHsC,yBACC7D,0BAAC2E,IAAAA;YAAWC,SAAST;YAAaU,YAAW;sBAC1C7D,cAAc;cACbK,IAAIC,kBAAkB,uBAAA;cACtBC,gBAAgB;YAClB,CAAA;;cAGJvB,0BAACiC,kBAAAA;YACC2C,SAASP;YACTS,OAAO9D,cAAc;cACnBK,IAAIC,kBACFuB,cAAc,6BAA6B,0BAAA;cAE7CtB,gBAAgBsB,cAAc,aAAa;YAC7C,CAAA;YACA1C,SAAQ;YAER,cAAAH,0BAACmC,gBAAAA;cAAeE,cAAcQ;cAC5B,cAAA7C,0BAAC+E,IAAAA,CAAAA,CAAAA;;;UAGJxB,kBACCvD,0BAACiC,kBAAAA;YACC2C,SAAShC;YACTkC,OAAO9D,cAAc;cACnBK,IAAIC,kBAAkB,uBAAA;cACtBC,gBAAgB;YAClB,CAAA;YACApB,SAAQ;YAER,cAAAH,0BAACmB,IAAAA,CAAAA,CAAAA;;;;;;AAMb;AAMA,IAAM6D,gBAAgBC;;;;;;;;AAStB,IAAMC,mBAAmB3E,GAAO4E;;YAEpB,CAAC,EAAE3E,MAAK,MAAOA,MAAMC,OAAO,CAAA,CAAE;sBACpB,CAAC,EAAED,MAAK,MAAOA,MAAM4E,OAAOC,UAAU;;;;;;;;;;;;wBAYpC,CAAC,EAAE7E,MAAK,MAAOA,MAAM4E,OAAOE,UAAU;;iBAE7CN,aAAc;;;AAI/B,IAAMO,UAAU,CAAC,EACfC,MACAC,UACAC,SAAQ,MAKT;AACC,aACE/F,2BAACC,GAAAA;IAAKC,WAAU;IAASC,YAAW;IAAUyE,gBAAe;IAASG,KAAK;IAAGiB,OAAM;;UAClFhG,2BAACC,GAAAA;QAAK8E,KAAK;;UACRc;cACDxF,0BAACE,GAAAA;YAAWC,SAAQ;YAAQ0E,YAAW;YAAWe,UAAQ;YACvDH,UAAAA;;;;MAGJC;;;AAGP;AAEA,IAAMG,kBAAkB,CAAC,EAAEC,KAAI,MAA0B;AACvD,QAAM,EAAE9E,cAAa,IAAKC,QAAAA;AAC1B,QAAM8E,UAAUD,KAAKjF,WAAW;AAChC,QAAMmF,gBAAgBF,KAAKjF,WAAW;AACtC,QAAMoF,cAAcH,KAAKjF,WAAW;AACpC,QAAMqF,cAAcJ,KAAKjF,WAAW;AAEpC,MAAImF,eAAe;AACjB,eACErG,2BAAC4F,SAAAA;MAAQC,UAAMxF,0BAACmG,IAAAA;QAAuB/E,MAAK;;MAAmBqE,UAAUK,KAAKM;;YAC5EpG,0BAACE,GAAAA;UAAWC,SAAQ;UAAKE,WAAU;oBAChCW,cAAc;YACbK,IAAIC,kBAAkB,gCAAA;YACtBC,gBAAgB;UAClB,CAAA;;YAEFvB,0BAACkF,kBAAAA,CAAAA,CAAAA;;;EAGP;AAEA,MAAIa,SAAS;AACX,eACE/F,0BAACuF,SAAAA;MAAQC,UAAMxF,0BAACqG,IAAAA;QAAYjF,MAAK;;MAAgBqE,UAAUK,KAAKM;MAC9D,cAAApG,0BAACE,GAAAA;QAAWC,SAAQ;QAAKE,WAAU;QAChCyF,UAAAA,KAAKpD;;;EAId;AAEA,MAAIwD,aAAa;AACf,eACElG,0BAACuF,SAAAA;MAAQC,UAAMxF,0BAAC0B,IAAAA;QAAYN,MAAK;;MAAiBqE,UAAUK,KAAKM;MAC/D,cAAApG,0BAACE,GAAAA;QAAWC,SAAQ;QAAKE,WAAU;kBAChCW,cAAc;UACbK,IAAIC,kBAAkB,+BAAA;UACtBC,gBAAgB;QAClB,CAAA;;;EAIR;AAEA,MAAI0E,aAAa;AACf,eACEjG,0BAACuF,SAAAA;MAAQC,UAAMxF,0BAACsG,IAAAA;QAAYlF,MAAK;;MAAiBqE,UAAUK,KAAKM;MAC/D,cAAApG,0BAACE,GAAAA;QAAWC,SAAQ;QAAKE,WAAU;kBAChCW,cAAc;UACbK,IAAIC,kBAAkB,+BAAA;UACtBC,gBAAgB;QAClB,CAAA;;;EAIR;AAEA,SAAO;AACT;AAEA,IAAMgF,iBAAgBhG,GAAciG,OAAO;;YAE/B,CAAC,EAAEhG,MAAK,MAAOA,MAAMC,OAAO,CAAA,CAAE;WAC/B,CAAC,EAAED,MAAK,MAAOA,MAAMC,OAAO,CAAA,CAAE;;sBAEnB,CAAC,EAAED,MAAK,MAAOA,MAAM4E,OAAOqB,QAAQ;mBACvC,CAAC,EAAEjG,MAAK,MAAOA,MAAME,YAAY;gBACpC,CAAC,EAAEF,MAAK,MAAOA,MAAMkG,QAAQC,WAAW;;;sBAGlC,CAAC,EAAEnG,MAAK,MAAOA,MAAM4E,OAAOwB,UAAU;;;;;;AAO5D,IAAMC,qBAAqBtG,GAAOX,CAAAA;;;;SAIzB,CAAC,EAAEY,MAAK,MAAOA,MAAMC,OAAO,CAAA,CAAE;;;AAIvC,IAAMqG,kBAAkBvG,GAAO4E;;wBAEP,CAAC,EAAE4B,WAAU,MAAQA,aAAa,QAAQ,KAAO;;;;;;;IAQ5DC,uBAAuB,MAAA;AAClC,QAAM7D,WAAWC,iBAAAA;AACjB,QAAM,EAAE6D,WAAWpE,aAAaC,MAAK,IAAKE,kBAAiB,CAACC,UAAUA,MAAMC,cAAc;AAE1F,QAAMgE,cAAcpE,MAAMqE,KAAK,CAACzD,MAAMA,EAAE7C,WAAW,WAAA;AACnD,QAAMuG,iBAAiBtE,MACpBuE,OAAO,CAAC3D,MAAMA,EAAE7C,WAAW,cAAc6C,EAAE7C,WAAW,WAAW6C,EAAE7C,WAAW,WAC9EyG,EAAAA,KAAK,CAACC,GAAGC,MAAAA;AAER,UAAMC,WAA+C;MACnD/E,OAAO;MACPgF,WAAW;MACXC,UAAU;MACVpF,WAAW;MACXqF,SAAS;IACX;AACA,WAAOH,SAASF,EAAE1G,MAAM,IAAI4G,SAASD,EAAE3G,MAAM;EAC/C,CAAA;AAEF,QAAM+B,cAAc,MAAA;AAClBO,aAAS0E,oBAAAA,CAAAA;EACX;AAEA,aACE7H,0BAAQ8H,MAAI;IAACC,MAAMd;IAAWe,OAAO;kBACnChI,0BAAQiI,SAAM;MACZ,cAAAtI,2BAAC4G,gBAAAA;;;QAGC2B,eAAY;;cAEZlI,0BAAC2C,cAAAA;YAAaC;;cAEd5C,0BAAC8G,iBAAAA;YAAgBC,YAAY,CAAClE;YAC5B,cAAA7C,0BAACmI,GAAAA;cACC,cAAAxI,2BAACC,GAAAA;gBACCC,WAAU;gBACVC,YAAW;gBACX4E,KAAK;gBACL0D,YAAY;gBACZC,eAAe;gBACftI,aAAa;gBACbuI,cAAc;;kBAEbpB,mBAAelH,0BAAC6F,iBAAAA;oBAAgBC,MAAMoB;;kBAEtCE,eAAexD,SAAS,SACvB5D,0BAAC6G,oBAAAA;oBACEO,UAAAA,eAAemB,IAAI,CAACzC,aACnB9F,0BAAC6F,iBAAAA;sBAAiCC;oBAAZA,GAAAA,KAAK0C,KAAK,CAAA;;;;;;;;;;AAWtD;;;;;;AC9dO,IAAMC,4BAA2B,CAACC,MAAoBC,cAAAA;AAC3D,MAAI,CAACA,WAAU;AACb,UAAM,IAAIC,UAAU,yBAAA;EACtB;AAEA,SAAOC,OAAOC,KAAKJ,IAAAA,EAAMK,OAAO,CAACC,KAAmBC,YAAAA;AAClDD,QAAI,GAAGL,SAAAA,IAAYM,OAAAA,EAAS,IAAIP,KAAKO,OAAQ;AAE7C,WAAOD;EACT,GAAG,CAAA,CAAC;AACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGA,IAAME,OAAOC,UAAUC,OAAOF;AAE9B,IAAMG,SAAkC;EACtCC,SAASC,KAAc;AACrBA,QAAIC,YAAY;MACdC,IAAI,WAAWC,SAAU;MACzBC,MAAMC;MACNC,WAAW;QACTC,IAAI,GAAGJ,SAAS;QAChBK,gBAAgB;MAClB;MACAC,aAAaC,aAAYC;MACzBC,WAAW,MAAA;AACT,eAAO,OAAO,mBAAA,EAAmBC,KAAK,CAACC,SAAS;UAAEC,SAASD,IAAIE;UAAO;MACxE;MACAC,UAAU;IACZ,CAAA;AAEA,QAAIC,OAAOrB,OAAOsB,OAAOC,UAAU,sBAAyB,GAAA;AAC1DpB,UAAIqB,YAAY;QAAEC,gBAAgBC;MAAsB,CAAA;AAExDvB,UAAIwB,cAAc;QAChB;UACE7B,MAAM;UACNiB,WAAWa;QACb;MACD,CAAA;AAEDzB,UAAIC,YAAY;QACdC,IAAI,oBAAoBC,SAAU;QAClCC,MAAMsB;QACNpB,WAAW;UACTC,IAAI,GAAGJ,SAAS;UAChBK,gBAAgB;QAClB;QACAC,aAAaC,aAAYC;QACzBC,WAAW,MAAA;AACT,iBAAO,OAAO,mBAAA,EAAgBC,KAAK,CAACC,SAAS;YAC3CC,SAASD,IAAIa;YACf;QACF;QACAV,UAAU;MACZ,CAAA;IACF;AAEAjB,QAAI4B,gBAAgB,UAAU;MAC5BrB,IAAI;MACJL,IAAI;MACJI,WAAW;QACTC,IAAIsB,QAAQ,aAAA;QACZrB,gBAAgB;MAClB;MACA,MAAMI,YAAAA;AACJ,cAAM,EAAEkB,sBAAqB,IAAK,MAAM,OAAO,4BAAA;AAC/C,eAAO;UAAEf,SAASe;QAAsB;MAC1C;MACArB,aAAaC,aAAYqB;IAC3B,CAAA;AAEA/B,QAAIgC,UAAU;MACZC,MAAM;MACNrB,WAAWsB;IACb,CAAA;AACAlC,QAAIwB,cAAc;MAChB;QACE7B,MAAM;QACNiB,WAAWuB;MACb;IACD,CAAA;AAEDnC,QAAIoC,eAAe;MACjB7B,IAAIJ;MACJR;IACF,CAAA;EACF;EACA,MAAM0C,cAAc,EAAEC,QAAO,GAAyB;AACpD,UAAMC,gBAAgB,MAAMC,QAAQC,IAClCH,QAAQI,IAAI,CAACC,WAAAA;AACX,aAAO,kCAAO,kBAAkBA,MAAO,OAAM,EAC1C9B,KAAK,CAAC,EAAEE,SAAS6B,KAAI,MAAE;AACtB,eAAO;UACLA,MAAMC,0BAAyBD,MAAMzC,SAAAA;UACrCwC;QACF;MACF,CAAA,EACCG,MAAM,MAAA;AACL,eAAO;UACLF,MAAM,CAAA;UACND;QACF;MACF,CAAA;IACJ,CAAA,CAAA;AAGF,WAAOH,QAAQO,QAAQR,aAAAA;EACzB;AACF;;;;;;;;ACxGA,IAAMS,uBAAsBC,GAAOC,CAAAA;;;AAiBnC,IAAMC,uBAAuB,CAAC,EAC5BC,aACAC,aAAa,OACbC,WACAC,MAAAA,OACAC,UACAC,MAAK,MACqB;AAC1B,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,CAACC,QAAQC,SAAAA,IAAmBC,iBAAS,KAAA;AAE3C,QAAMC,eAAe,CAACN,WAAAA;AACpB,QAAIJ,cAAcI,QAAO;AACvB,aAAOD,SAAS;QAAEQ,QAAQ;UAAET,MAAAA;UAAME,OAAAA;UAAOQ,MAAM;QAAW;MAAE,CAAA;IAC9D;AAEA,QAAI,CAACR,QAAO;AACV,aAAOI,UAAU,IAAA;IACnB;AAEA,WAAO;EACT;AAEA,QAAMK,gBAAgB,MAAA;AACpBV,aAAS;MAAEQ,QAAQ;QAAET,MAAAA;QAAME,OAAO;QAAOQ,MAAM;MAAW;IAAE,CAAA;EAC9D;AAEA,QAAME,QAAQb,UAAUc,KACpBV,cACE;IAAEU,IAAId,UAAUc;IAAIC,gBAAgBf,UAAUe;KAC9C;IAAE,GAAGf,UAAUgB;GAEjBf,IAAAA;AAEJ,QAAMgB,OAAOnB,cACTM,cACE;IAAEU,IAAIhB,YAAYgB;IAAIC,gBAAgBjB,YAAYiB;KAClD;IAAE,GAAGjB,YAAYkB;GAEnB,IAAA;AAEJ,aACEE,2BAACC,GAAOC,MAAI;IAACC,MAAMf;IAAQgB,cAAcf;;UACvCW,2BAACK,GAAMH,MAAI;QAACH;QAAYhB,MAAMA;;cAC5BuB,0BAACC,IAAAA;YAASC,iBAAiBjB;YAAckB,SAASxB;YAC/CU,UAAAA;;cAEHW,0BAACD,GAAMK,MAAI,CAAA,CAAA;;;UAEbV,2BAACC,GAAOU,SAAO;;cACbL,0BAACL,GAAOW,QAAM;sBACX1B,cAAc;cACbU,IAAIiB,eAAe,kCAAA;cACnBhB,gBAAgB;YAClB,CAAA;;cAEFS,0BAACL,GAAOa,MAAI;YAACC,UAAMT,0BAACU,IAAAA,CAAAA,CAAAA;YAClB,cAAAhB,2BAACiB,GAAAA;cAAKC,WAAU;cAASC,YAAW;cAAUC,KAAK;;oBACjDd,0BAACW,GAAAA;kBAAKI,gBAAe;kBACnB,cAAAf,0BAAC9B,sBAAAA;8BACEU,cAAc;sBACbU,IAAIiB,eAAe,oCAAA;sBACnBhB,gBACE;oBACJ,CAAA;;;oBAGJS,0BAACW,GAAAA;kBAAKI,gBAAe;kBACnB,cAAAf,0BAAC5B,GAAAA;oBAAW4C,YAAW;8BACpBpC,cAAc;sBACbU,IAAIiB,eAAe,iCAAA;sBACnBhB,gBAAgB;oBAClB,CAAA;;;;;;cAKRG,2BAACC,GAAOsB,QAAM;;kBACZjB,0BAACL,GAAOuB,QAAM;gBACZ,cAAAlB,0BAACmB,IAAAA;kBAAOC,SAAQ;4BACbxC,cAAc;oBACbU,IAAI;oBACJC,gBAAgB;kBAClB,CAAA;;;kBAGJS,0BAACL,GAAO0B,QAAM;gBACZ,cAAArB,0BAACmB,IAAAA;kBAAOC,SAAQ;kBAAeE,SAASlC;4BACrCR,cAAc;oBACbU,IAAIiB,eAAe,2CAAA;oBACnBhB,gBAAgB;kBAClB,CAAA;;;;;;;;;AAOd;;;;;;;;;;ACvHA,IAAMgC,eAAe;AAErB,IAAMC,wBAAwBC,QAAQC,gBAAgB;EACpDC,WAAW,CAACC,aAAa;IACvBC,iCAAiCD,QAAQE,MAOvC;MACAA,OAAO,CAAC,EAAEC,YAAYC,gBAAgBC,MAAK,OAAQ;QACjDC,KACEF,mBAAmBT,eACf,2CAA2CU,KAAAA,KAC3C,+CAA+CA,KAAM,IAAGF,UAAY;QAC1EI,QAAQ;;MAEVC,cAAc,CAACC,QAAQC,OAAO,EAAEP,YAAYE,OAAOD,eAAc,MAAO;QACtE;UACEO,MAAM;UACNC,IAAIR,mBAAmBT,eAAe,GAAGU,KAAAA,IAASF,UAAAA,KAAeE;QACnE;MACD;IACH,CAAA;;AAEJ,CAAA;AAEa,IAAA,EAAEQ,wCAAuC,IAAKjB;;;AClBpD,IAAMkB,+BAA+B,CAAC,EAC3CC,YACAC,OACAC,eAAc,MACsB;;AACpC,QAAM,EAAEC,mBAAkB,IAAKC,gBAAAA;AAC/B,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAMC,WAAWC,YAAAA;AAEjB,QAAM,CAACC,mBAAmBC,oBAAAA,IAA8BC,iBAEtD,IAAA;AAOF,QAAM,EAAEC,MAAMC,eAAc,IAAKC,wCAAwC;IACvEd;IACAC;IACAC;EACF,CAAA;AAEA,QAAMa,eACJF,sDAAgBD,SAAhBC,mBAAsBG,YAAW,gBAAgBP,sBAAsB;AACzE,QAAM,EAAEG,MAAMK,QAAO,IAAKH,wCACxB;IAAEd;IAAyBC;IAAeC;KAC1C;IACEgB,MAAM,CAACH;IACPI,iBAAiB;EACnB,CAAA;AAGF,QAAMC,OAAMH,mCAASL,UAAQC,iDAAgBD;AAC7C,QAAMS,mBAAmBD,2BAAKJ;AAE9B,QAAMM,qBAA2BC,oBAAY,MAAA;AAC3ChB,aACEiB,SAASC,KAAKC,eAAe;MAC3B;;QAEEC,MAAM;QACNC,IAAI1B,mBAAmB,iBAAiB,GAAGD,KAAAA,IAASD,UAAAA,KAAeC;MACrE;IACD,CAAA,CAAA;KAEF;IAACM;IAAUL;IAAgBD;IAAOD;EAAW,CAAA;AAGhD6B,EAAMC,kBAAU,MAAA;AACd,QAAI,CAACT,iBAAkB;AAGvB,QAAIZ,sBAAsB,gBAAgBY,qBAAqB,aAAa;AAC1ElB,yBAAmB;QACjBwB,MAAM;QACNI,SAAS1B,cAAc;UACrBuB,IAAII,eAAe,uCAAA;UACnBC,gBAAgB;QAClB,CAAA;MACF,CAAA;AACAX,yBAAAA;IACF;AAEA,QAAIb,sBAAsB,gBAAgBY,qBAAqB,UAAU;AACvElB,yBAAmB;QACjBwB,MAAM;QACNI,SAAS1B,cAAc;UACrBuB,IAAII,eAAe,oCAAA;UACnBC,gBAAgB;QAClB,CAAA;MACF,CAAA;AACAX,yBAAAA;IACF;AAGA,QAAIb,sBAAsBY,kBAAkB;AAC1CX,2BAAqBW,gBAAAA;IACvB;KACC;IACDA;IACAZ;IACAC;IACAP;IACAE;IACAiB;EACD,CAAA;AAED,SAAO;IACLN,QAAQI,2BAAKJ;EACf;AACF;;;;;;;;AC1GA,IAAMkB,mBAAmB;EACvB;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACD;AAED,IAAMC,qCAAqC,CACzCC,aAC6CC,WAAAA,SAAID,MAAM;EAAC;EAAQ;AAAY,CAAA;;;AC3BxEE,IAAAA,aAAa,CAACC,QAAgBA,IAAIC,OAAO,CAAA,EAAGC,YAAW,IAAKF,IAAIG,MAAM,CAAA;;;AC0B3E,IACKC,UAAmB,MAAA;AAEvB,QAAMC,SAASC,UAAAA;AAEf,QAAMC,kBAAkBC,QAAQ,WAAW,CAACC,UAAUA,MAAMC,WAAW;AACvE,QAAMC,UAAgBC,gBAAQ,MAAA;AAC5B,UAAMF,cAAcH,gBAAgBM,OAAO,CAACC,eAAeA,WAAWC,YAAYV,OAAOW,IAAI;AAE7F,WAAON,YAAYO,OACjB,CAACC,KAAKJ,eAAAA;;AACJ,YAAM,CAACK,eAAgB,IAAGL,WAAWM,OAAOC,MAAM,GAAA,EAAKC,MAAM,EAAC;AAC9D,YAAMC,gBAAgB,MAAMC,WAAWL,eAAkB,CAAA;AAEzDD,UAAIK,aAAAA,QAAiBE,aAAAA,SAAMP,IAAIK,aAAAA,KAAkB,CAAA,KAAIT,gBAAWY,eAAXZ,mBAAuBa,YAAW,CAAA,CAAE;AAEzF,aAAOT;OAET;MAAEU,WAAW,CAAA;MAAIC,SAAS,CAAA;MAAIC,WAAW,CAAA;MAAIC,WAAW,CAAA;MAAIC,YAAY,CAAA;IAAG,CAAA;KAE5E;IAAC3B,OAAOW;IAAMT;EAAgB,CAAA;AAGjC,QAAM,EAAE0B,OAAM,IAAKC,YACjB;;IAEEC,gBAAgB9B,OAAO8B;IACvBC,OAAO/B,OAAOW;KAEhB;IACEqB,MAAM;EACR,CAAA;AAGF,MAAIC,mCAAmCL,iCAAQM,aAAgB,GAAA;AAC7D,WAAO;MACLC,SAASP,OAAOM,cAAcE,KAAKC;MACnC,GAAG/B;IACL;EACF;AAEA,SAAO;IACL6B,SAAS;IACT,GAAG7B;EACL;AACF;;;ACnEA,IAAMgC,eAAeC,QAAQC,gBAAgB;EAC3CC,kBAAkB;EAClBC,WAAW,CAACC,aAAa;IACvBC,2BAA2BD,QAAQE,MAKjC;MACAA,OAAO,CAAC,EAAEC,OAAO,GAAGC,OAAAA,OAAc;QAChCC,KAAK,qCAAqCF,KAAAA;QAC1CG,QAAQ;QACRC,QAAQ;UACNH;QACF;;MAEFI,mBAAmB,CAACC,aAAsDA,SAASC;IACrF,CAAA;;AAEJ,CAAA;AAEM,IAAA,EAAEC,kCAAiC,IAAKhB;;;ACrBxCiB,IAAAA,YAAY,CAChBC,MACAC,QACAC,eAAAA;AAEA,QAAMC,cAAcC,aAAaJ,MAAM;IACrC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACD,CAAA;AAED,QAAMK,wCAAwCC,0BAC5CH,aACAF,QACAC,YACA;IAAC;IAAY;EAAW,CAAA;AAG1B,SAAOG;AACT;AAEA,IAAMD,eAAe,CAACJ,MAAYO,WAAAA;AAChC,SAAOC,OAAOC,KAAKT,IAAAA,EAAMU,OAAO,CAACC,KAAKC,YAAAA;AACpC,QAAIL,OAAOM,SAASD,OAAU,GAAA;AAC5B,aAAOD;IACT;AACAA,QAAIC,OAAAA,IAAWZ,KAAKY,OAAQ;AAC5B,WAAOD;EACT,GAAG,CAAA,CAAC;AACN;AAEA,IAAML,4BAA4B,CAChCN,MACAC,QACAC,YACAK,WAAAA;AAEA,SAAOC,OAAOC,KAAKT,IAAAA,EAAMU,OAAO,CAACC,KAAKC,YAAAA;AACpC,UAAME,YAAYb,OAAOc,WAAWH,OAAAA,KAAY;MAAEI,MAAMC;IAAU;AAElE,QAAIV,OAAOM,SAASC,UAAUE,IAAI,GAAG;AACnC,aAAOL;IACT;AAEA,QAAIG,UAAUE,SAAS,eAAe;AACpCL,UAAIC,OAAQ,IAAGZ,KAAKY,OAAAA,EAASM,IAAI,CAACC,gBAAqBC,WAAAA;AACrD,cAAM,EAAEC,IAAIC,GAAG,GAAGC,KAAM,IAAGjB,0BACzBa,gBACAjB,WAAWiB,eAAeK,WAAW,GACrCtB,YACAK,MAAAA;AAGF,eAAO;UACL,GAAGgB;UACHE,cAAcL,SAAQ;QACxB;MACF,CAAA;IACF,WAAWN,UAAUE,SAAS,aAAa;AACzC,YAAM,EAAEU,YAAYC,UAAS,IAAKb;AAElC,UAAIY,YAAY;AACdf,YAAIC,OAAAA,KAAYZ,KAAKY,OAAQ,KAAI,CAAA,GAAIM,IAAI,CAACU,WAAgBR,WAAAA;AACxD,gBAAM,EAAEC,IAAIC,GAAG,GAAGC,KAAAA,IAASjB,0BACzBsB,WACA1B,WAAWyB,SAAAA,GACXzB,YACAK,MAAAA;AAGF,iBAAO;YACL,GAAGgB;YACHE,cAAcL,SAAQ;UACxB;QACF,CAAA;MACF,WAAWpB,KAAKY,OAAAA,GAAU;AACxB,cAAM,EAAES,IAAIC,GAAG,GAAGC,KAAAA,IAASjB,0BACzBN,KAAKY,OAAAA,GACLV,WAAWyB,SAAAA,GACXzB,YACAK,MAAAA;AAGFI,YAAIC,OAAAA,IAAWW;MACjB;WACK;AACLZ,UAAIC,OAAAA,IAAWZ,KAAKY,OAAQ;IAC9B;AAEA,WAAOD;EACT,GAAG,CAAA,CAAC;AACN;;;;;;ACtEA,IAAMkB,2BAA2B,CAACC,WAAAA;AAChC,SACE,OAAOA,WAAW,YAAYA,WAAW,QAAQ,QAAQA,UAAU,oBAAoBA;AAE3F;AAEA,IAAMC,sBAAsB,CAAC,EAC3BC,SAAS,SACTC,kBACAC,OAAM,MACmB;AACzB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAM1B,QAAMC,cAAc,CAACC,KAAaC,UAAAA;AAChC,QAAI,OAAOA,UAAU,UAAU;AAC7B,aAAO,GAAGD,GAAAA,KAAQC,KAAO;eAChBV,yBAAyBU,KAAQ,GAAA;AAC1C,aAAO,GAAGD,GAAAA,KAAQH,cAAcI,KAAQ,CAAA;IAC1C,WAAWC,MAAMC,QAAQF,KAAQ,GAAA;AAC/B,aAAOA,MAAMG,IAAI,CAACC,MAAMN,YAAYC,KAAKK,CAAIC,CAAAA,EAAAA,KAAK,GAAA;eACzC,OAAOL,UAAU,YAAY,CAACC,MAAMC,QAAQF,KAAQ,GAAA;AAC7D,aAAOM,OAAOC,QAAQP,KAAAA,EACnBG,IAAI,CAAC,CAACK,GAAGJ,CAAAA,MAAON,YAAYU,GAAGJ,CAAAA,CAAAA,EAC/BC,KAAK,GAAA;WACH;AAIL,aAAO;IACT;EACF;AAEA,MAAIX,kBAAkB;AACpB,UAAMe,2BAA2BH,OAAOC,QAAQb,gBAAAA,EAC7CS,IAAI,CAAC,CAACJ,KAAKC,KAAM,MAAA;AAChB,aAAOF,YAAYC,KAAKC,KAAAA;IAC1B,CAAA,EACCK,KAAK,GAAA;AAER,eACEK,2BAACC,GAAAA;MAAKC,KAAK;;YACTC,0BAACC,IAAAA;UAAYC,MAAK;;YAClBF,0BAACG,IAAAA;UAAQC,OAAOR;UACd,cAAAI,0BAACK,GAAAA;YACCC,UAAU;YACVC,WAAU;YACVC,SAAQ;YACRC,YAAW;YACXC,UAAQ;YAEPd,UAAAA;;;;;EAKX;AAEA,QAAMe,mBAAmB,MAAA;AACvB,QAAI7B,WAAW,gBAAgB;AAC7B,UAAIF,WAAW,aAAa;AAC1B,eAAO;UACLgC,UAAMZ,0BAACa,IAAAA;YAAYX,MAAK;;UACxBY,MAAM/B,cAAc;YAClBgC,IAAI;YACJC,gBAAgB;UAClB,CAAA;UACAT,WAAW;UACXE,YAAY;QACd;iBACS7B,WAAW,YAAY;AAChC,eAAO;UACLgC,UAAMZ,0BAACiB,IAAAA;YAAuBf,MAAK;;UACnCY,MAAM/B,cAAc;YAClBgC,IAAI;YACJC,gBAAgB;UAClB,CAAA;QACF;aACK;AACL,eAAO;UACLJ,UAAMZ,0BAACa,IAAAA;YAAYX,MAAK;;UACxBY,MAAM/B,cAAc;YAClBgC,IAAI;YACJC,gBAAgB;UAClB,CAAA;QACF;MACF;WACK;AACL,UAAIpC,WAAW,SAAS;AACtB,eAAO;UACLgC,UAAMZ,0BAACa,IAAAA;YAAYX,MAAK;;UACxBY,MAAM/B,cAAc;YAClBgC,IAAI;YACJC,gBAAgB;UAClB,CAAA;UACAT,WAAW;UACXE,YAAY;QACd;aACK;AACL,eAAO;UACLG,UAAMZ,0BAACa,IAAAA;YAAYX,MAAK;;UACxBY,MAAM/B,cAAc;YAClBgC,IAAI;YACJC,gBAAgB;UAClB,CAAA;UACAT,WAAW;UACXE,YAAY;QACd;MACF;IACF;EACF;AAEA,QAAM,EAAEG,MAAME,MAAMP,YAAY,cAAcE,aAAa,SAAQ,IAAKE,iBAAAA;AAExE,aACEd,2BAACC,GAAAA;IAAKC,KAAK;;MACRa;UACDZ,0BAACK,GAAAA;QAAWE;QAAsBE;QAC/BK,UAAAA;;;;AAIT;AAMA,IAAMI,YAAY,CAACC,eAA4BnB,0BAACK,GAAAA;EAAWI,YAAW;EAAQU,UAAAA;;AAiB9E,IAAMC,wBAAwB,CAAC,EAC7BC,SACAC,MACAC,iBACA1C,mBAAmB,CAAA,GACnBC,OAAM,MACqB;AAC3B,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,QAAMwC,eAAeC,SACnB,yBACA,CAACC,UAAUA,MAAMF,YAAY;AAG/B,QAAMG,2BAA2B,MAAA;AAC/B,UAAMC,wBAAwBN,KAAKO,OAA+B,CAACC,KAAK,EAAEC,QAAQnD,OAAM,MAAE;AACxFkD,UAAIC,MAAAA,IAAUnD;AACd,aAAOkD;IACT,GAAG,CAAA,CAAC;AACJ,UAAME,oBAAoBvC,OAAOwC,KAAKpD,gBAAAA;AAEtC,UAAMqD,iBAAiBV,aAAaW,OAClC,CAAC,EAAEJ,OAAM,MAAOH,sBAAsBG,MAAO,MAAK,WAAA,EAClDK;AAEF,UAAMC,aAAab,aAAaW,OAC9B,CAAC,EAAEJ,OAAM,OACNH,sBAAsBG,MAAO,MAAK,WACjCH,sBAAsBG,MAAAA,MAAY,eACpC,CAACC,kBAAkBM,SAASP,MAAAA,CAAAA,EAC9BK;AAEF,UAAMG,kBAAkBP,kBAAkBI;AAC1C,UAAMI,YACJ1D,WAAW,iBACP,+EACA;AAEN,UAAMkC,iBACJlC,WAAW,iBACP,wUACA;AAEN,WAAOC,cACL;MACEgC,IAAIyB;MACJxB;OAEF;MACEuB;MACAF;MACAH;MACAO,GAAGvB;IACL,CAAA;EAEJ;AAEA,aACErB,2BAAC6C,GAAMC,MAAI;;UACT3C,0BAACK,GAAAA;QAAYsB,UAAAA,yBAAAA;;UACb3B,0BAAC4C,GAAAA;QAAIC,WAAW;sBACdhD,2BAACiD,MAAMC,SAAO;;gBACZlD,2BAACiD,MAAME,MAAI;;oBACThD,0BAAC8C,MAAMG,oBAAkB,CAAA,CAAA;gBACxB5B,QAAQ/B,IAAI,CAAC4D,aACZlD,0BAAC8C,MAAMK,YAAU;kBAAkB,GAAGD;gBAAfA,GAAAA,KAAKE,IAAI,CAAA;;;gBAGpCpD,0BAAC8C,MAAMH,MAAI;wBACRrB,KAAKhC,IAAI,CAAC,EAAEyC,QAAQnD,OAAM,GAAIyE,WAAAA;;AAC7B,sBAAMC,SAAQzE,qDAAmBkD,YAAW;AAE5C,sBAAMwB,gBACJ3E,WAAW,UAAU,YAAYA,WAAW,cAAc,YAAY;AAExE,uBAAOA,UAAUmD,aACflC,2BAACiD,MAAMU,KAAG;;wBACRxD,0BAAC8C,MAAMW,cAAY;sBAAC1C,IAAIgB;sBAAQ2B,cAAY,UAAU3B,MAAQ;;wBAC9D/B,0BAAC8C,MAAMa,MAAI;sBACT,cAAA3D,0BAACK,GAAAA;wBAAWG,SAAQ;wBAAQD,WAAU;wBACnCnB,UAAAA,MAAMC,QAAQkC,eACXA,KAAAA,qBAAgBqC,KAAK,CAACC,gBAAgBA,YAAYC,SAAS/B,MAAAA,MAA3DR,mBAAoE6B,OACpErB;;;wBAGR/B,0BAAC8C,MAAMa,MAAI;sBACT,cAAA3D,0BAAC4C,GAAAA;wBAAImB,SAAQ;wBACX,cAAA/D,0BAACgE,IAAAA;0BACCD,SAAQ;0BACRE,aAAY;0BACZC,cAAa;0BACbC,YAAW;0BACXC,eAAc;0BACdC,MAAM;0BACN7D,SAAS+C;0BAET,cAAAvD,0BAACK,GAAAA;4BAAWiE,KAAI;4BAAO9D,SAAQ;4BAAKC,YAAW;sCAC5C8D,WAAW3F,MAAAA;;;;;wBAKpBoB,0BAAC8C,MAAMa,MAAI;sBACT,cAAA3D,0BAACrB,qBAAAA;wBAAoBE,kBAAkByE;wBAAO1E;wBAAgBE;;;wBAEhEkB,0BAAC8C,MAAMa,MAAI;sBACT,cAAA3D,0BAACwE,IAAAA;wBACCF,KAAKG;wBACLC,IAAI;0BACFC,YAAQC,uBAAU;4BAAEC,SAAS;8BAAEC,MAAM;gCAAE/C;8BAAO;4BAAE;0BAAE,CAAA;wBACpD;wBACA3B,OAAOrB,cACL;0BACEgC,IAAIgE,eAAe,4BAAA;0BACnB/D,gBAAgB;2BAElB;0BACEoC,MAAMrB;wBACR,CAAA;wBAEFvB,SAAQ;wBAER,cAAAR,0BAACgF,IAAAA,CAAAA,CAAAA;;;;mBA9CS3B,MAkDd,IAAA;cACN,CAAA;;;;;;;AAMZ;;;ACvPA,IAAM4B,iBAAqE;EACzEC,OAAO;EACPC,WAAW;EACXC,UAAU;AACZ;AAEA,IAAMC,eAAe,CAAC,EACpBC,0BACAC,QACAC,QACAC,YAAW,MACO;AAClB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,MAAI,CAACF,aAAa;AAChB,WAAOC,cACL;MACEE,IAAIC,eAAe,sCAAA;MACnBC,gBAAgB;OAElB;MACEC,MAAM,CAACR,gBAA4BS,0BAACC,KAAAA;QAAGV,UAAAA;;MACvCA,QAAQA,OAAOW;IACjB,CAAA;EAEJ;AAEA,aACEC,2BAACC,GAAAA;IAAKC,OAAM;IAAOC,KAAK;IAAGC,gBAAe;;UACxCP,0BAACQ,GAAAA;QAAYjB,UAAAA,OAAOW;;MACnBZ,+BACCU,0BAACS,IAAAA;QACCC,SAAQ;QACRC,aAAY;QACZC,cAAa;QACbC,YAAW;QACXC,eAAc;QACdC,MAAK;QACLC,SAAS/B,eAAeO,MAAO;QAE/B,cAAAQ,0BAACQ,GAAAA;UAAWS,KAAI;UAAOD,SAAQ;UAAKE,YAAW;oBAC5CC,WAAW3B,MAAAA;;MAGd,CAAA,IAAA;;;AAGV;AAEA,IAAM4B,wBAAwB,CAAC,EAC7BC,uBACAC,mBACAC,OAAAA,OAAK,MAKN;AACC,QAAMC,gBAAgBC,kBAAAA;AAEtB,MAAI,CAACJ,uBAAuB;AAC1B,eAAOrB,0BAAC0B,IAAAA,CAAAA,CAAAA;EACV;AAEA,MAAIF,iBAAiBD,WAAU,KAAKD,sBAAsB,UAAU;AAClE,eAAOtB,0BAAC2B,IAAAA;MAAcC,MAAK;;EAC7B;AAEA,SAAO;AACT;AAEA,IAAMC,qBAAqB,CAAC,EAC1BC,UAAAA,WACAC,MACAC,OACAC,gBACAC,WAAU,MACQ;;AAClB,QAAM,EAAExC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,CAAC,EAAEwC,MAAK,GAAIC,QAAAA,IAAYC,eAAAA;AAC9B,QAAM,EAAEC,SAASC,WAAWC,QAAO,IAAKC,QAAAA;AACxC,QAAM,EAAEC,MAAMC,UAAU,CAAA,EAAE,IAAKC,mBAAAA;AAC/B,QAAMC,wBAAuBV,iBAAMW,YAANX,mBAAeY,SAAfZ,mBAAqB5C;AAClD,QAAM,EAAEyD,OAAM,IAAKC,YAAY;IAC7BjB;IACAC;IACAC;IACAgB,QAAQ;MAAE3D,QAAQsD;IAAqB;EACzC,CAAA;AACA,QAAM,EAAEH,MAAMS,QAAO,IAAKC,wCAAwC;IAChElB;IACAF;IACAC;EACF,CAAA;AACA,QAAM,EAAES,MAAMW,SAAQ,IAAKC,oBAAAA;AAC3B,QAAM9B,gBAAgBC,kBAAAA;AACtB,QAAM8B,YAAYC,QAAQ,sBAAsB,CAACC,UAAUA,MAAMF,SAAS;AAE1E,QAAMG,eAAqBC,oBACzB,CAACC,UAAAA;AACCxB,aACE;MACEU,SAAS;QACP,GAAGX,MAAMW;QACTC,MAAM;UACJxD,QAAQqE;QACV;MACF;IACF,GACA,QACA,IAAA;KAGJ;IAACzB,MAAMW;IAASV;EAAS,CAAA;AAG3B,QAAMyB,sBAA4BC,gBAAQ,MAAA;AACxC,QAAI,EAACd,iCAAQe,YAAY,QAAO,CAAA;AAChC,WAAOC,OAAOC,KAAKjB,OAAOe,UAAU,EAAEG,OAAO,CAACC,UAAAA;;AAC5C,YAAMC,YAAYpB,OAAOe,WAAWI,KAAM;AAC1C,eAAOE,OAAAC,MAAA,uCAAYC,kBAAZ,gBAAAD,IAAmCvB,SAAnC,gBAAAsB,IAAyCG,eAAc;IAChE,CAAA;KACC;IAACxB,iCAAQe;EAAW,CAAA;AAEvB,QAAMU,mBAAyBX,gBAAQ,MAAA;AACrC,QAAI,CAACY,MAAMC,QAAQhC,OAAAA,KAAY,EAACZ,6BAAM6C,kBAAkB,QAAO;AAE/D,UAAMC,gBAAgBlC,QAAQmC,KAAK,CAACvF,WAAmBA,OAAOwF,SAAS;AACvE,UAAMC,kBAAkBjD,KAAK6C,iBAAiBK,IAAI,CAACC,QAAQA,IAAI3F,MAAM;AAErE,UAAM4F,mBACJN,iBACAG,gBAAgBI,SAASP,cAAcQ,IAAI,KAC3CR,cAAcQ,SAASxC,uBACnBgC,cAAcQ,OACdL,gBAAgBF,KAAK,CAACvF,WAAWA,WAAWsD,oBAAAA;AAElD,QAAI,CAACsC,iBAAkB,QAAO;AAG9B,UAAMG,kBAAkBvD,KAAK6C,iBAAiBE,KAAK,CAACI,QAAQA,IAAI3F,WAAW4F,gBAAAA;AAE3E,WAAOG,kBACH;MAAE/F,QAAQ4F;MAAkBzC,MAAM4C;QAClC;KACH;IAAC3C;IAASZ,6BAAM6C;IAAkB/B;EAAqB,CAAA;AAK1D0C,EAAMC,kBAAU,MAAA;AAEd,QAAI,EAAC1D,aAAAA,gBAAAA,UAAUlC,OAAMiE,oBAAoB4B,SAAS,MAAKhB,qDAAkB/B,OAAM;AAC7E,YAAMgD,YAAY7B,oBAAoB8B,OACpC,CAACC,KAA8BzB,UAAAA;AAC7ByB,YAAIzB,KAAM,IAAGM,iBAAiB/B,KAAKyB,KAAM;AACzC,eAAOyB;MACT,GACA,CAAA,CAAC;AAGH,UAAI5B,OAAOC,KAAKyB,SAAWD,EAAAA,SAAS,GAAG;AACrClC,kBAAUmC,SAAAA;MACZ;IACF;KACC;IAAC5D,aAAAA,gBAAAA,UAAUlC;IAAIiE;IAAqBY,qDAAkB/B;IAAMa;EAAU,CAAA;AAEzEgC,EAAMC,kBAAU,MAAA;AACd,QAAI,CAACd,MAAMC,QAAQhC,OAAAA,KAAY,CAACL,SAAS;AACvC;IACF;AAKA,UAAMuD,kBAAkBlD,QAAQmC,KAAK,CAACI,QAAQA,IAAIG,SAASxC,oBAAAA;AAC3D,UAAMgC,gBAAgBlC,QAAQmC,KAAK,CAACvF,WAAWA,OAAOwF,SAAS;AAC/D,QAAI,CAACc,oBAAmBhB,+CAAeQ,OAAM;AAC3C3B,mBAAamB,cAAcQ,IAAI;IACjC;KACC;IAAC3B;IAAcpB;IAASK;IAASE;EAAqB,CAAA;AAEzD,QAAMiD,gBAAgBpB,MAAMC,QAAQhC,OAChCA,IAAAA,QAAQmC,KAAK,CAACvF,WAAWA,OAAO8F,SAASxC,oBACzCkD,IAAAA;AAIJ,QAAMnB,oBAAmB7C,6BAAM6C,qBAAoB,CAAA;AACnD,QAAMoB,yBAAwBlE,aAAAA,gBAAAA,UAAUmE,kBAAiB,CAAA;AAGzD,QAAMC,mBAAmBtB,iBAAiBa,SAAS,IAAIb,mBAAmBoB;AAE1E,QAAMG,oBAAoB;IACxB;MAAE3G,QAAQ4G,kBAAkBtE,WAAUC,IAAAA;MAAOxC,QAAQuG,+CAAeT;IAAK;IACtEa,GAAAA;EACJ;AAED,MAAI,CAAC5D,WAAW,CAACoC,MAAMC,QAAQhC,OAAYA,KAAAA,QAAQ8C,WAAW,GAAG;AAC/D,WAAO;EACT;AAEA,QAAMY,mBAAmB1D,QAAQuB,OAAO,CAAC3E,WAAAA;AAKvC,WAAOiD,QAAQ4C,SAAS7F,OAAO8F,IAAI;EACrC,CAAA;AAEA,QAAMiB,6BAA6BD,iBAAiBE,KAAK,CAACC,GAAGvG,MAC3DuG,EAAEzB,YAAY,KAAK9E,EAAE8E,YAAY,IAAI,CAAA;AAGvC,SAAO;IACL0B,OAAO/G,cAAc;MACnBE,IAAIC,eAAe,sCAAA;MACnBC,gBAAgB;IAClB,CAAA;IACA4G,SAASJ,2BAA2BrB,IAAI,CAAC1F,QAAQgC,WAAAA;;AAC/C,YAAMF,wBAAwB8E,kBAAkBQ,KAAK,CAACC,QAAQA,IAAIrH,WAAWA,OAAO8F,IAAI;AAExF,YAAMwB,mBAAmBV,kBAAkBrB,KAAK,CAAC8B,QAC/C,YAAYA,MAAMA,IAAIrH,WAAWA,OAAO8F,OAAO,KAAA;AAGjD,YAAMyB,qBAAqBD,mBAAmBrE,UAAUD;AAExD,UAAIf,mBAAiB6B,MAAAA,qCAAUX,SAAVW,gBAAAA,IAAgB0D,kBAAiB;AACpD,eAAO;UACLC,SAAS,MAAA;;AACP7G,kDAAO8G,kBAAQ;;oBACbjH,0BAACkH,IAAAA;kBACCC,UAAU,CAACL,mBAAmB1B,SAAS7F,OAAO8F,IAAI;kBAElD+B,eACEpH,0BAACoB,uBAAAA;oBACCC;oBACAC,oBAAmB6B,MAAAA,mCAAST,SAATS,gBAAAA,IAAe3D;oBAClC+B,OAAOA;;kBAGXqC,OAAOrE,OAAO8F;kBAEd,cAAArF,0BAACX,cAAAA;oBACCC,0BAA0B,CAAC,GAAC0D,MAAAA,iCAAQ0D,YAAR1D,gBAAAA,IAAiBqE;oBAC7C9H;oBACAC,QAAQqH,qDAAkBrH;oBAC1BC,aAAa4B;;gBAdV9B,GAAAA,OAAO8F,IAAI;gBAiBjBiB,2BAA2Bb,SAAS,KAAKlE,WAAU,SAClDvB,0BAACsH,GAAAA;kBAAI1G,cAAc;kBAAGD,aAAa;kBAAGE,YAAY;kBAAGC,eAAe;kBAClE,cAAAd,0BAACQ,GAAAA;oBAAWQ,SAAQ;8BACjBtB,cAAc;sBACbE,IAAIC,eAAe,+CAAA;sBACnBC,gBAAgB;oBAClB,CAAA;;;;YA1BayB,GAAAA,MAAAA;;QAgCzB;MACF;AAEA,aAAO;QACL4F,UAAU,CAACL,mBAAmB1B,SAAS7F,OAAO8F,IAAI;QAClDzB,OAAOrE,OAAO8F;QACdoB,WACEzG,0BAACX,cAAAA;UACCC,0BAA0B,CAAC,GAAC0D,MAAAA,iCAAQ0D,YAAR1D,gBAAAA,IAAiBqE;UAC7C9H;UACAC,QAAQqH,qDAAkBrH;UAC1BC,aAAa4B;UACbC,oBAAmB6B,wCAAST,SAATS,mBAAe3D;;QAGtC4H,eAAWpH,0BAACoB,uBAAAA;UAAsBC;;MACpC;IACF,CAAA;IACAkG,kBAAkB,MAAMzB,+CAAe5F;IACvCsH,UAAU9D;IACVE,OAAOkC;EACT;AACF;AAIA,IAAMM,oBAAoB,CACxBtE,WACAC,SAAAA;AAEA,QAAM0F,YAAY3F,aAAAA,gBAAAA,UAAUtC;AAC5B,QAAMkI,YAAW3F,6BAAM4F,oBAAmB,CAAA;AAK1C,MAAI,CAACF,WAAW;AACd,WAAO;EACT;AAKA,MAAIA,cAAc,WAAWC,SAAS5C,KAAK,CAAC8B,QAAQA,IAAIgB,gBAAgB,IAAO,GAAA;AAC7E,WAAO;EACT;AAEA,SAAOH;AACT;AAMA,IAAMI,0BAA0BC,GAAOrH,EAAAA;;SAE9B,CAAC,EAAEsH,MAAK,MAAOA,MAAMC,OAAO,CAAA,CAAE;;;;;;;IAOnC,CAAC,EAAEC,qBAAqBF,MAAK,MAC7B,CAACE,uBACD;wBACoBF,MAAMG,OAAOC,UAAU;GAC5C;;;MAGG,CAAC,EAAEF,qBAAqBF,MAAK,MAC7B,CAACE,uBACD;gBACUF,MAAMG,OAAOE,UAAU;OAChC;;;AAIP,IAAMC,iBAAiBP,GAAOQ,EAAAA;;;;;;;;;;;;AAaxBC,IAAAA,4BAA4B,CAAC,EAAErG,YAAYF,OAAOC,eAAc,MAAqB;;AACzF,QAAM,EAAEvC,cAAa,IAAKC,QAAAA;AAC1B,QAAM6I,gBAAgB/G,kBAAAA;AACtB,QAAM,EAAEiB,MAAMW,SAAQ,IAAKC,oBAAAA;AAC3B,QAAMmF,sBAAqBpF,0CAAUX,SAAVW,mBAAgB0D;AAC3C,QAAM,EAAEzE,QAAO,IAAKG,QAAAA;AAGpB,QAAM,EAAEjD,OAAM,IAAKkJ,6BAA6B;IAC9CxG;IACAF;IACAC;EACF,CAAA;AACA,QAAM0G,iBAAiB,MAAA;AACrB,QAAInJ,WAAW,UAAU;AACvB,aAAO;IACT;AAEA,QAAIiJ,oBAAoB;AACtB,aAAO;IACT;AAEA,WAAO;KACT;AAGA,MAAI,CAACnG,SAAS;AACZ,WAAO;EACT;AAGA,MAAI,CAACkG,eAAe;AAClB,WAAO;EACT;AAEA,SAAO;IACLI,SAAS;MACPC,aACE7I,0BAACI,GAAAA;QACC0I,QAAO;QACPC,YAAW;QACXC,cAAYtJ,cAAc;UACxBE,IAAIC,eAAe,2CAAA;UACnBC,gBAAgB;QAClB,CAAA;QAEA,cAAAE,0BAAC6H,yBAAAA;UACCI,qBAAqBgB,QAAQR,kBAAAA;UAC7BzH,SAAS2H;UACT5H,MAAK;oBAEJvB,WAAW,mBAAeQ,0BAACqI,gBAAAA,CAAAA,CAAAA,QAAoBrI,0BAACkJ,IAAAA,CAAAA,CAAAA;;;MAIvDC,aACEhJ,2BAACC,GAAAA;QAAKgJ,WAAU;QAASC,SAAS;QAAGN,YAAW;QAAa1I,OAAM;;cACjEL,0BAACQ,GAAAA;YAAWQ,SAAQ;YAAKE,YAAW;sBACjCxB,cACC;cACEE,IAAIC,eAAe,sCAAA;cACnBC,gBACE;eAEJ;cAAEwJ,SAASb;YAAmB,CAAA;;cAGlCzI,0BAACQ,GAAAA;YAAWQ,SAAQ;YAAKH,YAAY;YAAGC,eAAe;sBACpDpB,cAAc;cACbE,IAAIC,eAAe,4CAAA;cACnBC,gBACE;YACJ,CAAA;;cAEFE,0BAACuJ,IAAAA;YACCC,UAAS;YACTvI,KAAKwI;YACLC,IAAG;YACHC,OAAO;cAAEC,WAAW;YAAW;YAE/B,cAAA5J,0BAACQ,GAAAA;cAAWQ,SAAQ;cAAK6I,WAAU;wBAChCnK,cACC;gBACEE,IAAIC,eAAe,uCAAA;gBACnBC,gBACE;iBAEJ;gBAAEwJ,SAASb;cAAmB,CAAA;;;;;IAM1C;EACF;AACF;AAMA,IAAMqB,8BAA8B,CAAC,EACnC5H,YACAH,MACAC,OACAC,eAAc,MACI;;AAClB,QAAM,EAAEvC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,CAAC,EAAEwC,MAAK,CAAE,IAAIE,eAAAA;AACpB,QAAM,EAAEC,QAAO,IAAKG,QAAAA;AACpB,QAAMI,wBAAuBV,iBAAMW,YAANX,mBAAeY,SAAfZ,mBAAqB5C;AAClD,QAAM,CAACwK,gBAAgBC,iBAAAA,IAA2BC,iBAAwB,IAAA;AAC1E,QAAM1G,YAAYC,QAAQ,yBAAyB,CAACC,UAAUA,MAAMF,SAAS;AAE7E,QAAM,EAAE2G,YAAW,IAAKC,mBAAAA;AACxB,QAAM,EAAEnH,QAAQoH,WAAU,IAAKnH,YAAY;IACzCjB;IACAE;IACAD;IACAiB,QAAQ;MAAE3D,QAAQsD;IAAqB;EACzC,CAAA;AACA,QAAM,EAAEH,MAAMC,UAAU,CAAA,EAAE,IAAKC,mBAAAA;AAE/B,QAAM4F,gBAAgB/G,kBAAAA;AACtB,QAAM,EAAEiB,MAAMW,SAAQ,IAAKC,oBAAAA;AAC3B,QAAMmF,sBAAqBpF,0CAAUX,SAAVW,mBAAgB0D;AAE3C,QAAMnC,mBAAmBF,MAAMC,QAAQhC,OAAAA,IACnCA,QAAQuB,OAAO,CAAC3E,WAAWwC,6BAAM6C,iBAAiB+B,KAAK,CAAC0D,MAAMA,EAAE9K,WAAWA,OAAO8F,KAAI,IACtF,CAAA;AAEJ,QAAMiF,iBAAiB,CAACC,YAAwB,YAAA;AAC9C,UAAMC,WAAW,MAAMN,YAAY;MACjCjI;MACAD;MACAE;MACAgB,QAAQ;QAAE3D,QAAQwK;MAAe;IACnC,CAAA;AACA,QAAI,CAACS,YAAY,CAACxH,QAAQ;AACxB;IACF;AAEA,UAAM,EAAEN,KAAI,IAAK8H;AAEjB,UAAMC,cAAcC,UAAUhI,MAAMM,QAAQoH,UAAAA;AAE5C7G,cAAUkH,WAAAA;AAEVF,YAAAA;EACF;AAEA,MAAI,CAACjI,SAAS;AACZ,WAAO;EACT;AAGA,MAAIkG,iBAAiBC,oBAAoB;AACvC,WAAO;EACT;AAEA,SAAO;IACLkC,MAAM;IACNC,UAAM5K,0BAAC6K,IAAAA,CAAAA,CAAAA;IACP1D,UAAUvC,iBAAiBa,WAAW;IACtCgB,OAAO/G,cAAc;MACnBE,IAAIC,eAAe,gCAAA;MACnBC,gBAAgB;IAClB,CAAA;IACAgL,QAAQ;MACNH,MAAM;MACNI,OAAOrL,cAAc;QACnBE,IAAIC,eAAe,mCAAA;QACnBC,gBAAgB;MAClB,CAAA;MACAkL,SAAS,CAAC,EAAET,QAAO,UACjBpK,2BAAA8K,+BAAA;;cACEjL,0BAACkL,GAAOC,MAAI;YACV,cAAAhL,2BAACC,GAAAA;cAAKgJ,WAAU;cAAS9I,KAAK;;oBAC5BN,0BAAC2B,IAAAA;kBAActB,OAAM;kBAAOyI,QAAO;kBAAOlH,MAAK;;oBAC/C5B,0BAACQ,GAAAA;kBAAWqJ,WAAU;4BACnBnK,cAAc;oBACbE,IAAIC,eAAe,kCAAA;oBACnBC,gBACE;kBACJ,CAAA;;oBAEFK,2BAACiL,GAAMC,MAAI;kBAAChL,OAAM;;wBAChBL,0BAACoL,GAAME,OAAK;gCACT5L,cAAc;wBACbE,IAAIC,eAAe,yCAAA;wBACnBC,gBAAgB;sBAClB,CAAA;;wBAEFE,0BAACuL,IAAAA;sBACC3H,OAAOmG;sBACPyB,aAAa9L,cAAc;wBACzBE,IAAIC,eAAe,+CAAA;wBACnBC,gBAAgB;sBAClB,CAAA;;sBAEA2L,UAAU,CAAC7H,UAAUoG,kBAAkBpG,KAAAA;sBAEtCgB,UAAAA,iBAAiBK,IAAI,CAAC1F,eACrBS,0BAACkH,IAAAA;wBAAqCtD,OAAOrE,OAAO8F;wBACjD9F,UAAAA,OAAOW;sBADeX,GAAAA,OAAO8F,IAAI,CAAA;;;;;;;cAQ9CrF,0BAACkL,GAAOQ,QAAM;YACZ,cAAAvL,2BAACC,GAAAA;cAAKE,KAAK;cAAGD,OAAM;;oBAClBL,0BAAC2L,IAAAA;kBAAOC,MAAK;kBAAO5K,SAAQ;kBAAW6K,SAAStB;4BAC7C7K,cAAc;oBACbE,IAAIC,eAAe,kCAAA;oBACnBC,gBAAgB;kBAClB,CAAA;;oBAEFE,0BAAC2L,IAAAA;kBAAOC,MAAK;kBAAO5K,SAAQ;kBAAU6K,SAASvB,eAAeC,OAAAA;4BAC3D7K,cAAc;oBACbE,IAAIC,eAAe,kCAAA;oBACnBC,gBAAgB;kBAClB,CAAA;;;;;;;IAMZ;EACF;AACF;AAMA,IAAMgM,qBAA8C,CAAC,EACnDhK,UAAAA,WACAI,YACAF,OACAC,eAAc,MACf;;AACC,QAAM,EAAEvC,cAAa,IAAKC,QAAAA;AAC1B,QAAMoM,WAAWC,YAAAA;AACjB,QAAM,EAAEC,mBAAkB,IAAKC,gBAAAA;AAC/B,QAAM,EAAEC,QAAQC,cAAcC,UAAS,IAAKlC,mBAAAA;AAC5C,QAAM,EAAE7H,SAASgK,UAAS,IAAK7J,QAAAA;AAG/B,QAAM,CAAC,EAAEN,MAAK,CAAE,IAAIE,eAAAA;AACpB,QAAM,EAAEK,MAAMC,UAAU,CAAA,EAAE,IAAKC,mBAAAA;AAC/B,QAAMC,wBAAuBV,iBAAMW,YAANX,mBAAeY,SAAfZ,mBAAqB5C;AAClD,QAAMA,SAAS,EAAE,WAAWoD,YAAYA,QAAQmC,KAAK,CAACI,QAAQA,IAAIG,SAASxC,oBAAAA;AAE3E,MAAI,CAACP,SAAS;AACZ,WAAO;EACT;AAEA,SAAO;IACL6E,WACErF,aAAA,gBAAAA,UAAWvC,WAAU,CAAC+M,UAAUlH,SAAStD,UAASvC,MAAM,KAAM,CAACuC,aAAY,CAACA,UAASlC;IACvF2M,UAAU;MAAC;MAAU;IAAY;IACjC9F,OAAO/G,cACL;MACEE,IAAIC,eAAe,sBAAA;MACnBC,gBAAgB;OAElB;MAAEP,QAAQA,UAAUA,OAAOW;IAAK,CAAA;IAElC0K,UAAM5K,0BAACwM,aAAAA,CAAAA,CAAAA;IACPxL,SAAS;IACT8J,QAAQ;MACNH,MAAM;MACNI,OAAOrL,cAAc;QACnBE,IAAIC,eAAe,6BAAA;QACnBC,gBAAgB;MAClB,CAAA;MACAkL,aACE7K,2BAACC,GAAAA;QAAKgJ,WAAU;QAAS9I,KAAK;;cAC5BN,0BAAC2B,IAAAA;YAActB,OAAM;YAAOyI,QAAO;YAAOlH,MAAK;;cAC/C5B,0BAACQ,GAAAA;YAAWS,KAAI;YAAID,SAAQ;YAAQ6I,WAAU;sBAC3CnK,cAAc;cACbE,IAAIC,eAAe,4BAAA;cACnBC,gBAAgB;YAClB,CAAA;;;;MAIN2M,SAASJ;MACTK,WAAW,YAAA;AACT,cAAMC;;;UAGH1K,mBAAmB,kBAAkB,CAACC,cAAe,EAACJ,aAAAA,gBAAAA,UAAUvC;;AAEnE,YAAIoN,gBAAgB;AAClBC,kBAAQC,MACN,qHAAA;AAGFZ,6BAAmB;YACjBpD,SAASnJ,cAAc;cACrBE,IAAIC,eAAe,sBAAA;cACnBC,gBAAgB;YAClB,CAAA;YACA6K,MAAM;UACR,CAAA;AAEA;QACF;AAEA,cAAMmC,MAAM,MAAMV,aAAa;UAC7BlK;UACAF;UACAC;UACAiB,QAAQ;YAAE3D,QAAQuC,UAASvC;UAAO;QACpC,CAAA;AAEA,YAAI,EAAE,WAAWuN,MAAM;AACrBf,mBAAS;YAAEgB,UAAU,MAAM9K,cAAe,IAAGD,KAAO;aAAI;YAAEgL,SAAS;UAAK,CAAA;QAC1E;MACF;IACF;EACF;AACF;AAiBA,IAAMC,mBAA4C,CAAC,EACjDnL,UAAAA,WACAI,YACAF,OACAC,gBACAiL,QACAnL,KAAI,MACwB;;AAC5B,QAAMxC,UAASuC,aAAAA,gBAAAA,UAAUvC,WAAU;AACnC,QAAM,CAAC,EAAE4C,MAAK,CAAE,IAAIE,eAAAA;AAEpB,QAAMa,SAAeY,gBAAQ,MAAMqJ,iBAAiBhL,KAAQ,GAAA;IAACA;EAAM,CAAA;AACnE,QAAMiL,mBAAmBjL,MAAM3C,WAAW;AAE1C,QAAM,EAAEE,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EAAE2C,SAAS+K,WAAU,IAAK5K,QAAAA;AAChC,QAAM,EAAEwJ,mBAAkB,IAAKC,gBAAAA;AAC/B,QAAM,EAAEoB,yBAAyBC,eAAc,IAAKC,mBAAAA;AAEpD,QAAM,CAACC,cAAcC,eAAAA,IAAyBzD,iBAAgB,CAAA,CAAE;AAChE,QAAM,CAAC0D,iCAAiCC,kCAAAA,IAChC3D,iBAAkB,KAAA;AAE1B,QAAM,EAAE4D,aAAaC,mBAAmBC,eAAeC,oBAAmB,IACxE7D,mBAAAA;AAEF,QAAM,EAAEnH,QAAQiL,SAAQ,IAAKhL,YAC3B;IACEjB;IACAC;IACAC;IACAgB,QAAQ;MACN3D;IACF;KAEF;;IAEE2O,MAAM;EACR,CAAA;AAGF,QAAM,EAAExL,MAAMyL,kBAAkB,CAAA,EAAE,IAAKvL,mBAAmBN,UAAUyD,SAAYqI,SAAAA;AAEhF,QAAMC,UAAU;IACd;MACE5H,OAAO/G,cAAc;QACnBE,IAAI;QACJE,gBAAgB;MAClB,CAAA;MACAI,MAAM;IACR;IACA;MACEuG,OAAO/G,cAAc;QACnBE,IAAIC,eAAe,6BAAA;QACnBC,gBAAgB;MAClB,CAAA;MACAI,MAAM;IACR;IACA;MACEuG,OAAO/G,cAAc;QACnBE,IAAIC,eAAe,yCAAA;QACnBC,gBAAgB;MAClB,CAAA;MACAI,MAAM;IACR;EACD;AAID,QAAM,CAACoO,MAAMC,gBAAAA,IAA0BzK,gBAAQ,MAAA;AAC7C,QAAI,CAAChC,WAAU;AACb,aAAO;QAAC,CAAA;QAAI,CAAA;MAAG;IACjB;AAEA,UAAM0M,sBAAqBzM,6BAAM6C,qBAAoB,CAAA,GAAIK,IAAI,CAAC1F,aAAY;MACxEA,QAAQA,QAAOA;MACfC,QAASD,QAAOC,UAAU;MAC5B;AAEA,UAAMwG,yBACHlE,UAASmE,iBAAiB,CAAA,GAI3BhB,IAAI,CAAC2B,SAAS;MACdrH,QAAQqH,IAAIrH,UAAUwG;MACtBvG,QAASoH,IAAIpH,UAAU;MACzB;AAEA,UAAMiP,aAAa,oBAAIC,IAAAA;AAEvBF,sBAAkBG,QAAQ,CAAC,EAAEpP,QAAAA,SAAQC,OAAM,MAAE;AAC3C,UAAID,SAAQ;AACVkP,mBAAWG,IAAIrP,SAAQ;UAAEA,QAAAA;UAAQC;QAAO,CAAA;MAC1C;IACF,CAAA;AAEAwG,0BAAsB2I,QAAQ,CAAC,EAAEpP,QAAAA,SAAQC,OAAM,MAAE;AAC/C,UAAID,SAAQ;AACVkP,mBAAWG,IAAIrP,SAAQ;UAAEA,QAAAA;UAAQC;QAAO,CAAA;MAC1C;IACF,CAAA;AAIA,UAAMmD,UAA0B,CAAA;AAEhC,QAAIb,aAAAA,gBAAAA,UAAUvC,QAAQ;AACpBoD,cAAQkM,KAAK;QACXtP,QAAQuC,UAASvC;QACjBC,QAASsC,UAAStC,UAAU;MAC9B,CAAA;IACF;AAEAmD,YAAQkM,KAAI,GACPnK,MAAMoK,KAAKL,WAAWM,QAAO,CAC7B7K,EAAAA,OAAO,CAAC,CAAC3E,OAAO,MAAKA,aAAWuC,aAAAA,gBAAAA,UAAUvC,OAAAA,EAC1C0F,IAAI,CAAC,CAAA,EAAGrB,KAAAA,MAAWA,KAAAA,CAAAA;AAGxB,QAAIjB,QAAQ8C,WAAW,MAAK3D,aAAAA,gBAAAA,UAAUvC,SAAQ;AAC5CoD,cAAQkM,KAAK;QACXtP,QAAQuC,UAASvC;QACjBC,QAASsC,UAAStC,UAAU;MAC9B,CAAA;IACF;AAGA,UAAMwP,eAAe;MAAClN;SAAcA,UAASmE,iBAAiB,CAAA;IAAI;AAClE,UAAMgJ,SAASD,aAAarJ,OAAmB,CAACuJ,MAAMpN,cAAAA;AACpD,UAAI,CAACA,WAAU;AACb,eAAOoN;MACT;AAGA,YAAMC,aAAalB,SAASnM,SAAAA;AAC5B,UAAIqN,eAAe,MAAM;AACvBD,aAAKpN,UAASvC,MAAM,IAAI4P;MAC1B;AACA,aAAOD;IACT,GAAG,CAAA,CAAC;AAEJ,WAAO;MAACvM;MAASsM;IAAO;KACvB;IAACnN;IAAUC,6BAAM6C;IAAkBqJ;EAAS,CAAA;AAE/C,QAAMmB,gBAAgBlC,WAAW;AACjC,QAAMmC,mBAAmB5B,aAAa9H,OAAO,CAACC,KAAe0J,gBAAAA;AAC3D,UAAMC;;MAEJ,CAACH,iBAAiB,CAACpL,OAAOC,KAAKsK,gBAAkBnJ,EAAAA,SAASkK,YAAY/P,MAAM;;AAE9E,UAAMiQ,kBAAkBJ,gBACpBE,YAAY9P,WAAW,eAAe+P,gBACtCD,YAAY9P,WAAW,WAAW+P;AAEtC,QAAIC,iBAAiB;AACnB5J,UAAIiJ,KAAKS,YAAY/P,MAAM;IAC7B;AAEA,WAAOqG;EACT,GAAG,CAAA,CAAE;AAIL,QAAM6J,4BAA4B;AAClC,QAAM,EACJ/M,MAAMgN,sBAAsB,GAC5BrD,WAAWsD,yBACX9C,OAAO+C,sBAAqB,IAC1BC,kCACF;IACE7N;IACA8N,aAAa;MAAC5N;IAAY;IAC1B3C,QAAQ8P;KAEV;IACEnB,MAAM,CAACuB;EACT,CAAA;AAGFlK,EAAMC,kBAAU,MAAA;AACd,QAAIoK,uBAAuB;AACzB3D,yBAAmB;QACjBtB,MAAM;QACN9B,SAAS0E,eAAeqC,qBAAAA;MAC1B,CAAA;IACF;KACC;IAACA;IAAuB3D;IAAoBsB;EAAe,CAAA;AAE9D,MAAI,GAACvK,sCAAQ0D,YAAR1D,mBAAiBqE,kBAAiB;AACrC,WAAO;EACT;AAEA,MAAI,CAAC/E,SAAS;AACZ,WAAO;EACT;AAEA,MAAI,CAACJ,YAAY;AACf,WAAO;EACT;AAKA,QAAM6N,UAAU,YAAA;AACd,UAAMjC,kBAAkB;MACtB9L;MACA8N,aAAa;QAAC5N;MAAW;MACzBgB,QAAQ;QACN,GAAGA;QACH3D,QAAQ8P;MACV;IACF,CAAA;AAEA3B,oBAAgB,CAAA,CAAE;EACpB;AAEA,QAAMsC,YAAY,YAAA;AAChB,UAAMhC,oBAAoB;MACxBhM;MACA8N,aAAa;QAAC5N;MAAW;MACzBgB,QAAQ;QACN,GAAGA;QACH3D,QAAQ8P;MACV;IACF,CAAA;AAEA3B,oBAAgB,CAAA,CAAE;EACpB;AAEA,QAAMuC,eAAe,YAAA;AACnB,QAAIP,sBAAsB,GAAG;AAC3B9B,yCAAmC,IAAA;IACrC,WAAWwB,eAAe;AACxB,YAAMW,QAAAA;WACD;AACL,YAAMC,UAAAA;IACR;EACF;AAEA,MAAIrC,iCAAiC;AACnC,WAAO;MACLlH,OAAO/G,cAAc;QACnBE,IAAI;QACJE,gBAAgB;MAClB,CAAA;MACAkB,SAAS;MACT8J,QAAQ;QACNoF,UAAU,MAAA;AACRtC,6CAAmC,KAAA;QACrC;QACAlB,WAAW,YAAA;AACT,gBAAMqD,QAAAA;AAENnC,6CAAmC,KAAA;QACrC;QACAjD,MAAM;QACNI,OAAOrL,cAAc;UACnBE,IAAIC,eAAe,8BAAA;UACnBC,gBAAgB;QAClB,CAAA;QACAkL,aACE7K,2BAACC,GAAAA;UAAKgJ,WAAU;UAASL,YAAW;UAASzI,KAAK;;gBAChDN,0BAAC2B,IAAAA;cAActB,OAAM;cAASyI,QAAO;cAASlH,MAAK;;gBACnD5B,0BAACQ,GAAAA;cAAWqJ,WAAU;wBACnBnK,cAAc;gBACbE,IAAIC,eAAe,6CAAA;gBACnBC,gBACE;cACJ,CAAA;;gBAEFE,0BAACQ,GAAAA;cAAWqJ,WAAU;wBACnBnK,cAAc;gBACbE,IAAIC,eAAe,4CAAA;gBACnBC,gBAAgB;cAClB,CAAA;;;;MAIR;IACF;EACF;AAEA,QAAMqQ,gBAAgB1C,aACnBxI,IAAI,CAAC,EAAE1F,QAAAA,QAAM,MAAOA,OAAAA,EACpB6Q,MAAM,CAAC7Q,YAAW8N,WAAWjI,SAAS7F,OAAAA,CAAAA;AAEzC,SAAO;IACLkH,OAAO/G,cAAc;MACnBE,IAAIC,eAAe,wBAAwBuP,gBAAgB,YAAY,WAAA,QAAmB;MAC1FtP,gBAAgB,GAAGsP,gBAAgB,YAAY,WAAA;IACjD,CAAA;IACApO,SAASoO,gBAAgB,cAAc;IACvCxE,MAAMwE,oBAAgBpP,0BAACqQ,IAAAA,CAAAA,CAAAA,QAAcrQ,0BAACsQ,IAAAA,CAAAA,CAAAA;IACtCnJ,UAAUiG,oBAAoBC,WAAW5H,WAAW;IACpD8G,UAAU;MAAC;IAAQ;IACnBzB,QAAQ;MACNH,MAAM;MACNI,OAAOrL,cAAc;QACnBE,IAAIC,eAAe,wBAAwBuP,gBAAgB,YAAY,WAAA,QAAmB;QAC1FtP,gBAAgB,GAAGsP,gBAAgB,YAAY,WAAA;MACjD,CAAA;MACApE,SAAS,MAAA;AACP,mBACEhL,0BAACuQ,MAAMlF,MAAI;UACTgD;UACAC,MAAMA,KAAKrJ,IAAI,CAACuL,SAAS;YACvB,GAAGA;YACH5Q,IAAI4Q,IAAIjR;YACV;UACAkO;UACAgD,sBAAsB,CAACC,sBAAsBhD,gBAAgBgD,iBAAAA;UAE7D,cAAA1Q,0BAAC2Q,uBAAAA;YACCpC;YACAF;YACAC;YACAH;YACAjB,QAAQA,UAAU;;;MAI1B;MACA0D,QAAQ,UACN5Q,0BAAC6Q,GAAMnF,QAAM;QAACnL,gBAAe;QAC3B,cAAAP,0BAAC2L,IAAAA;UACCc,SAASkD;UACTxI,UAAU,CAACgJ,iBAAiBd,iBAAiB5J,WAAW;UACxDzE,SAAQ;UACR6K,SAASoE;oBAERvQ,cAAc;YACbE,IAAIwP,gBAAgB,sBAAsB;YAC1CtP,gBAAgBsP,gBAAgB,YAAY;UAC9C,CAAA;;;IAIR;EACF;AACF;AAKA,IAAM0B,0BAAmD,CAACC,UAAAA;AACxD,SAAO9D,iBAAiB;IAAEC,QAAQ;IAAgB,GAAG6D;EAAM,CAAA;AAC7D;AAKA,IAAMC,4BAAqD,CAACD,UAAAA;AAC1D,SAAO9D,iBAAiB;IAAEC,QAAQ;IAAkB,GAAG6D;EAAM,CAAA;AAC/D;AAMA,IAAMvE,cAAc1E,GAAOmJ,EAAAA;;;;;;;;;AC5lC3B,IAAMC,WAAW,CAACC,WAAAA;AAChB,aACEC,0BAACC,GAAAA;IAAWC,YAAW;IAAWC,WAAU;IACzCJ,UAAAA;;AAGP;AAEA,IAAMK,4BAA4B,MAAA;AAChC,QAAM,EAAEC,QAAO,IAAKC,QAAAA;AACpB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,MAAI,CAACH,SAAS;AACZ,WAAO;EACT;AAEA,aACEL,0BAACC,GAAAA;IAAWE,WAAU;cACnBI,cACC;MACEE,IAAIC,eAAe,6CAAA;MACnBC,gBACE;OAEJ;MACEC,IAAId;IACN,CAAA;;AAIR;AAEA,IAAMe,6BAA6B,MAAA;AACjC,QAAM,EAAER,QAAO,IAAKC,QAAAA;AACpB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,MAAI,CAACH,SAAS;AACZ,WAAO;EACT;AAEA,aACEL,0BAACC,GAAAA;IAAWE,WAAU;cACnBI,cACC;MACEE,IAAIC,eAAe,8CAAA;MACnBC,gBACE;OAEJ;MACEC,IAAId;IACN,CAAA;;AAIR;AAEA,IAAMgB,+BAA+B,MAAA;AACnC,QAAM,EAAET,QAAO,IAAKC,QAAAA;AACpB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,MAAI,CAACH,SAAS;AACZ,WAAO;EACT;AAEA,aACEL,0BAACC,GAAAA;IAAWE,WAAU;cACnBI,cACC;MACEE,IAAIC,eAAe,gDAAA;MACnBC,gBACE;OAEJ;MACEC,IAAId;IACN,CAAA;;AAIR;;;;;ACtEA,IAAMiB,eAAe,MAAA;;AACnB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,CAAC,EAAEC,MAAK,GAAIC,QAAAA,IAAYC,eAAAA;AAE9B,QAAM,EAAEC,SAASC,SAASC,UAAS,IAAKC,QAAAA;AACxC,QAAM,EAAEC,MAAMC,UAAU,CAAA,EAAE,IAAKC,mBAAmBC,QAAW;IAC3DC,MAAM,CAACR;EACT,CAAA;AAEA,QAAMS,eAAqBC,oBACzB,CAACC,MAAcC,UAAU,UAAK;AAC5Bd,aACE;MACEe,MAAM;MACNC,SAAS;QAAE,GAAGjB,MAAMiB;QAASC,MAAM;UAAEC,QAAQL;QAAK;MAAE;IACtD,GACA,QACAC,OAAAA;KAGJ;IAACf,MAAMiB;IAAShB;EAAS,CAAA;AAG3BmB,EAAMC,kBAAU,MAAA;;AACd,QAAI,CAACC,MAAMC,QAAQf,OAAAA,KAAY,CAACL,SAAS;AACvC;IACF;AAKA,UAAMqB,wBAAuBxB,OAAAA,MAAAA,MAAMiB,YAANjB,gBAAAA,IAAekB,SAAflB,gBAAAA,IAAqBmB;AAClD,UAAMM,kBAAkBjB,QAAQkB,KAAK,CAACC,QAAQA,IAAIb,SAASU,oBAAAA;AAC3D,UAAMI,gBAAgBpB,QAAQkB,KAAK,CAACP,WAAWA,OAAOU,SAAS;AAC/D,QAAI,CAACJ,oBAAmBG,+CAAed,OAAM;AAC3CF,mBAAagB,cAAcd,MAAM,IAAA;IACnC;KACC;IAACX;IAASS;IAAcJ;KAASR,iBAAMiB,YAANjB,mBAAekB,SAAflB,mBAAqBmB;EAAO,CAAA;AAEhE,QAAMW,sBAA4BC,gBAAQ,MAAA;AACxC,UAAMC,mBAAmBV,MAAMC,QAAQf,OAAAA,IACnCA,QAAQyB,OAAO,CAACd,WAAAA;AAMd,aAAOd,UAAU6B,SAASf,OAAOL,IAAI,KAAKV,QAAQ8B,SAASf,OAAOL,IAAI;IACxE,CAAA,IACA,CAAA;AAEJ,WAAOkB,iBACJG,KAAK,CAACC,GAAGC,MAAMD,EAAEE,KAAKC,cAAcF,EAAEC,IAAI,CAAA,EAC1CE,IAAI,CAACrB,eACJsB,0BAACC,IAAAA;MAAmCC,OAAOxB,OAAOL;MAC/CK,UAAAA,OAAOmB;IADenB,GAAAA,OAAOyB,EAAE,CAAA;KAIrC;IAACpC;IAASH;IAAWD;EAAQ,CAAA;AAEhC,MAAI,CAACD,WAAW,CAACmB,MAAMC,QAAQf,OAAYA,KAAAA,QAAQqC,WAAW,GAAG;AAC/D,WAAO;EACT;AAEA,aACEJ,0BAACK,IAAAA;IACCC,MAAK;IACLC,cAAYlD,cAAc;MACxB8C,IAAIK,eAAe,uBAAA;MACnBC,gBAAgB;IAClB,CAAA;IACAP,SAAO3C,iBAAMiB,YAANjB,mBAAekB,SAAflB,mBAAqBmB,aAAUX,aAAQkB,KAAK,CAACP,WAAWA,OAAOU,SAAS,MAAzCrB,mBAA4CM;;IAElFqC,UAAUvC;IAETkB,UAAAA;;AAGP;;;;ACjFA,IAAMsB,qBAAqB,CAAC,EAAEC,OAAM,MAAsB;AAExD,MACE,EAAE,UAAUA,OAAOC,YAClB,OAAOD,OAAOC,QAAQC,SAAS,YAC9BF,OAAOC,QAAQC,SAAS,QACxB,eAAeF,OAAOC,QAAQC,QAC9B,CAACF,OAAOC,QAAQC,KAAKC,WACvB;AACA,WAAO;MAAEH;IAAO;EAClB;AAEA,QAAMI,gBAAgB,CAACC,UAA2BC,sBAAsBD,OAAOL,MAAAA;AAE/E,QAAMO,aAAaC,OAAOC,QAAQT,OAAOO,UAAU,EAAEG,OACnD,CAACC,KAAK,CAACC,KAAKC,eAAgB,MAAA;AAC1B,WAAO;MACL,GAAGF;MACH,CAACC,GAAAA,GAAM;QACL,GAAGC;QACHb,QAAQa,gBAAgBb,OAAOc,IAAI,CAACC,QAAQA,IAAID,IAAIV,aAAAA,CAAAA;MACtD;IACF;EACF,GACA,CAAA,CAAC;AAGH,SAAO;IACLJ,QAAQ;MACN,GAAGA;MACHO;MACAP,QAAQA,OAAOA,OAAOc,IAAI,CAACE,UAAUA,MAAMF,IAAI,CAACC,QAAQA,IAAID,IAAIV,aAAAA,CAAAA,CAAAA;IAClE;EACF;AACF;AAEA,IAAMa,mBAAmB,CAACC,WAAyClB,WAAAA;;AACjE,QAAMmB,uBACJ,CAAC,GAAEnB,YAAOC,YAAPD,mBAAwBE,SAAQ,CAAC,CAAC,OAAQD,QAAgBC,KAAKC;AAEpE,MAAI,CAACgB,sBAAsB;AACzB,WAAO;EACT;AAEA,QAAMC,gBACJF,aAAa,OAAOA,cAAc,YAAY,mBAAoBA,YAC7DA,UAAqEE,gBACtEC;AAEN,WAAOD,oDAAelB,SAAfkB,mBAAqBjB,eAAc;AAC5C;AAEA,IAAMG,wBAAwB,CAACD,OAAwBL,WAAAA;AACrD,QAAMG,YAAYc,iBAAiBZ,MAAMa,WAAWlB,MAAAA;AAEpD,MAAI,CAACG,WAAW;AACd,WAAOE;EACT;AAEA,QAAMiB,QAA2B;IAC/BC,IAAIC,eAAe,iBAAA;IACnBC,gBAAgB;EAClB;AAEA,SAAO;IACL,GAAGpB;IACHqB,iBAAaC,0BAACC,aAAAA;MAAYN;;EAC5B;AACF;AAUA,IAAMM,cAAc,CAAC,EAAEN,MAAK,MAAoB;AAC9C,QAAM,EAAEO,cAAa,IAAKC,QAAAA;AAE1B,aACEC,2BAACC,MAAAA;IAAKC,KAAI;IAAOX;;UACfK,0BAACO,IAAAA;QAAeD,KAAI;kBAAQJ,cAAcP,KAAAA;;UAC1CK,0BAACQ,IAAAA;QAAQC,OAAOP,cAAcP,KAAAA;QAC5B,cAAAK,0BAACU,IAAAA;UAAMC,eAAW;UAACC,WAAW;;;;;AAItC;AAEA,IAAMP,OAAOQ,GAAOC,CAAAA;;;;;YAKR,CAAC,EAAEC,MAAK,MAAOA,MAAMC,OAAOC,UAAU;;;cAGpC,CAAC,EAAEF,MAAK,MAAOA,MAAMC,OAAOC,UAAU;;;;;;;;;;;AC/F9CC,IAAAA,iBAAiB,CAAC,EACtBC,QAAQC,eACRC,eACAC,WAAU,MACU;AACpB,QAAM,EAAEH,QAAQI,UAAUC,cAAa,IAAKC,QAAAA;AAC5C,QAAM,EAAEC,MAAMC,UAAU,CAAA,EAAE,IAAKC,mBAAAA;AAC/B,QAAMC,WAAWC,YAAAA;AACjB,QAAM,CAAC,EAAEC,MAAK,CAAE,IAAIC,eAAAA;AACpB,QAAMC,YAAYC,GAAYX,UAAU;IACtCY,aAAa;EACf,CAAA;AAEA,MAAI,CAACC,MAAMC,QAAQV,OAAAA,KAAY,CAACN,eAAe;AAC7C,WAAO;EACT;AAEA,QAAMiB,mBAAmBjB,cAAckB,IAAI,CAACC,QAAQA,IAAIrB,MAAM;AAE9D,QAAMsB,qBAAqBd,QACxBe,OAA8C,CAACC,KAAKxB,WAAAA;AACnD,UAAMyB,gBAAgB;MAACxB;MAAkBkB,GAAAA;MAAkBO,KAAK,CAACL,QAAAA;AAC/D,aAAOA,QAAQrB,OAAO2B;IACxB,CAAA;AAEA,QAAIF,eAAe;AACjB,YAAMG,QAAO5B,OAAO6B,YAAY,GAAG7B,OAAO4B,IAAI,eAAe5B,OAAO4B;AACpEJ,UAAIM,KAAK;QAAEH,MAAM3B,OAAO2B;QAAMC,MAAAA;MAAK,CAAA;IACrC;AAEA,WAAOJ;EACT,GAAG,CAAA,CAAE,EACJO,SAAS,CAACC,GAAGC,MAAMnB,UAAUoB,QAAQF,EAAEJ,MAAMK,EAAEL,IAAI,CAAA;AAEtD,QAAMO,iBAAiB,MAAA;AACrB,UAAMC,mBAAmBd,mBAAmBe,MAAM,GAAG,CAAA;AACrD,UAAMC,iBAAiBhB,mBAAmBiB,SAAS;AAEnD,UAAMC,WAAWJ,iBAAiBhB,IAAI,CAAC,EAAEQ,MAAAA,MAAI,MAAOA,KAAMa,EAAAA,KAAK,IAAA;AAE/D,QAAIH,kBAAkB,GAAG;AACvB,aAAOE;IACT;AAEA,WAAOnC,cACL;MACEqC,IAAIC,eAAe,yCAAA;MACnBC,gBAAgB;OAElB;MAAEpC,SAASgC;MAAUK,OAAOP;IAAe,CAAA;EAE/C;AAEA,QAAMQ,oBAAoB,CAACC,eAAAA;AACzBrC,aAAS;MACPsC,UAAU7C;MACV8C,YAAQC,uBAAU;QAChBC,SAAS;UACP,GAAGvC,MAAMuC;UACTC,MAAM;YAAEpD,QAAQ+C;UAAW;QAC7B;MACF,CAAA;IACF,CAAA;EACF;AAEA,aACEM,2BAACC,GAAKC,MAAI;;UACRC,0BAACF,GAAKG,SAAO;QACX,cAAAD,0BAACE,GAAAA;UAAKC,UAAS;UAAOC,YAAW;UAASC,gBAAe;UAASC,YAAW;UAC3E,cAAAN,0BAACO,GAAAA;YAAWC,WAAU;YAAaC,UAAQ;YAACC,aAAa;YACtD/B,UAAAA,eAAAA;;;;UAIPqB,0BAACF,GAAKa,SAAO;kBACV7C,mBAAmBF,IAAI,CAAC,EAAEO,MAAMC,MAAAA,MAAI,UACnC4B,0BAACF,GAAKc,MAAI;UAERC,SAAS,CAACC,MAAAA;AACRA,cAAEC,gBAAe;AACjBzB,8BAAkBnB,IAAAA;UACpB;UAEA,cAAA6B,0BAACO,GAAAA;YAAWC,WAAU;YAAaF,YAAW;YAC3ClC,UAAAA;;QAPED,GAAAA,IAAAA,CAAAA;;;;AAcjB;;;AC7FA,IAAM6C,uBAAuB,CAAC,EAAEC,kBAAkBC,OAAM,MAA4B;AAClF,QAAM,EAAEC,QAAO,IAAKD;AAEpB,QAAME,oBAAmBC,mCAAmCF,OAAAA,IACxDA,QAAQG,KAAKC,YACb;AAEJ,MAAI,CAACH,mBAAkB;AACrB,WAAO;MAAEH;MAAkBC;IAAO;EACpC;AAEA,SAAO;IACLD,kBAAkB;MACbA,GAAAA;MACH;QACEO,WAAW;UAAEC,MAAM;QAAS;QAC5BC,OAAO;UACLC,IAAIC,eAAe,8BAAA;UACnBC,gBAAgB;QAClB;QACAC,YAAY;QACZC,UAAU;QACVC,MAAM;;QAENC,eAAe,CAACC,OAAOC,SAASC,aAC9BC,0BAACC,gBAAAA;UAAgB,GAAGJ;UAAQ,GAAGE;UAAMG,YAAYL,MAAMK;;MAE3D;IACD;IACDrB;EACF;AACF;;;AC5BA,IAAMsB,0BAA0B,CAAC,EAAEC,mBAAmB,CAAA,EAAE,MAA+B;AACrF,SAAO;IACLA,kBAAkB;MACbA,GAAAA;MACH;QACEC,OAAO;UACLC,IAAI;UACJC,gBAAgB;QAClB;QACAC,MAAM;MACR;IACD;IACDC,gBAAgB;EAClB;AACF;;;;AC3BA,IAAMC,0CAGF,MAAA;AACF,SAAO,CAAC,EAAEC,UAAAA,UAAQ,MAChB,CAACC,SACD,CAACC,WAAAA;AACC,UAAMC,gBAAgB,CAAC,EAAEC,IAAG,MAAmB;;AAG7C,UAAI;AACF,cAAMC,QAAQL,UAAAA;AAEd,cAAMM,YAAOC,YAAAA,SAAIF,OAAO;UACtB;UACA;UACA;UACAD;QACD,CAAA;AAED,YAAI,CAACE,SAAQA,MAAKE,cAAc,eAAe;AAC7C,iBAAOP,KAAKC,MAAAA;QACd;AAEA,cAAMO,qBAAiBF,YAAAA,SAAID,OAAM;UAAC;UAAiB;UAAQ;WAAc,KAAA;AAEzE,YAAIG,gBAAgB;AAClB,iBAAOR,KAAK;YACV,GAAGC;YACHQ,SAAS;cACP,GAAGR,OAAOQ;cACVC,SAAS;gBACPC,eAAe;kBACb,KAAIV,4CAAQQ,YAARR,mBAAiBS,YAAjBT,mBAA0BU,kBAAiB,CAAA;kBAC/CC,MAAM;oBACJC,WAAW;kBACb;gBACF;cACF;YACF;UACF,CAAA;QACF;AAEA,eAAOb,KAAKC,MAAAA;MACd,SAASa,KAAK;AACZ,eAAOd,KAAKC,MAAAA;MACd;IACF;AAEA,UAAM,EAAEQ,UAAU,CAAA,GAAIJ,KAAI,IAAKJ,UAAU,CAAA;AAEzC,QACEI,SAAS,sCACT,CAAC;MAAC;MAAY;MAAaU,SAASN,QAAQO,aAAa,KACzD,CAACP,QAAQQ,WACT;AACA,aAAOf,cAAc;QACnBC,KAAKM,QAAQN;MACf,CAAA;IACF;AAEA,QAAIE,SAAS,wCAAwC,CAACI,QAAQQ,WAAW;AACvE,aAAOf,cAAc;QACnBC,KAAKM,QAAQN;MACf,CAAA;IACF;AAEA,QACEE,SAAS,4DACTA,SAAS,0CACT;AACA,aAAOH,cAAc;QACnBC,KAAKM,QAAQN;MACf,CAAA;IACF;AAEA,WAAOH,KAAKC,MAAAA;EACd;AACJ;;;AChFA,IAAMiB,iCAGF,MAAA;AACF,SAAO,MAAM,CAACC,SAAS,CAACC,WAAAA;AAJ1B;AAKI,QACEA,OAAOC,SAAS,mDAChBD,OAAOE,cAAc,eACrB;AACA,YAAMC,OAAO;QAAEC,WAAW;MAAM;AAEhC,YAAMC,gBAAgBL,OAAOM,KAAKD,gBAC9B;QAAE,GAAGL,OAAOM,KAAKD;QAAeF;UAChC;QAAEA;MAAK;AAEX,YAAMG,OAAO;QAAE,GAAGN,OAAOM;QAAMD;MAAc;AAE7C,UAAIL,OAAOO,eAAe,UAAU;AAClC,eAAOR,KAAK;UAAE,GAAGC;UAAQM;QAAK,CAAA;MAChC;AAIA,UAAI,GAACN,kBAAOM,KAAKD,kBAAZL,mBAA2BG,SAA3BH,mBAAiCI,YAAW;AAC/C,eAAOL,KAAK;UAAE,GAAGC;UAAQM;QAAK,CAAA;MAChC;IACF;AAGA,WAAOP,KAAKC,MAAAA;EACd;AACF;;;;AC5BA,IAAMQ,mBAAmC,CAACC,QAAQ,CAACC,SAAS,CAACC,gBAAAA;AAC3D,QAAMC,QAAQC,UAAU,gDAAgDJ,IAAIK,QAAQ;AAEpF,MAAI,CAACF,OAAO;AACV,WAAOF,KAAKC,WAAAA;EACd;AAEA,QAAMI,SAAYC,SAAMP,IAAIM,MAAM;AAElC,MAAI,OAAOA,WAAW,UAAU;AAC9B,WAAOL,KAAKC,WAAAA;EACd;AAEA,MAAI,EAAE,aAAaI,UAAU,OAAOA,OAAOE,YAAY,WAAW;AAChE,WAAOP,KAAKC,WAAAA;EACd;AAEA,MACE,EACE,UAAUI,OAAOE,WACjB,OAAOF,OAAOE,QAAQC,SAAS,YAC/B,CAACC,MAAMC,QAAQL,OAAOE,QAAQC,IAAI,IAEpC;AACA,WAAOR,KAAKC,WAAAA;EACd;AAEA,QAAM,EAAEU,OAAM,IAAKN,OAAOE,QAAQC;AAElC,MAAI,OAAOG,WAAW,UAAU;AAC9B,WAAOX,KAAKC,WAAAA;EACd;AAEA,QAAMW,qBAAqBX,YAAYY,OACrC,CAACC,eAAAA;;AACC,cAACA,gBAAWC,eAAXD,mBAAuBE,YAAWF,WAAWC,WAAWC,QAAQC,SAASN,MAAAA;GAAAA;AAG9E,SAAOX,KAAKY,kBAAAA;AACd;;;AC3CMM,IAAAA,4BAA2B,CAACC,MAAmBC,cAAAA;AAInD,SAAOC,OAAOC,KAAKH,IAAAA,EAAMI,OAAO,CAACC,KAAKC,YAAAA;AACpCD,QAAI,GAAGJ,SAAAA,IAAYK,OAAAA,EAAS,IAAIN,KAAKM,OAAQ;AAC7C,WAAOD;EACT,GAAG,CAAA,CAAC;AACN;;;;ACCME,IAAAA,6BAA6B,CACjCC,YAKAC,eAAAA;AAMA,MAAI,CAACA,YAAY;AACf,WAAOD;EACT;AAGA,MAAI,CAACE,mCAAmCF,WAAWG,aAAa,GAAG;AACjE,WAAOH;EACT;AAEA,QAAMI,wBAAwBJ,WAAWG,cAAcE,KAAKC;AAC5D,QAAMC,wBAAwBL,mCAAmCD,yCAAYE,aAAAA,IACzEF,yCAAYE,cAAcE,KAAKC,YAC/B;AAIJ,MAAIF,yBAAyBG,uBAAuB;AAClD,WAAOP;EACT;AAEA,MAAII,uBAAuB;AACzB,UAAMI,aAAaC,wBAAwBT,WAAWQ,UAAU;AAEhE,WAAO;MACL,GAAGR;MACHQ;IACF;EACF;AAGA,MAAI,CAACJ,uBAAuB;AAC1B,UAAMD,oBAAgBO,YAAAA,SAAKV,WAAWG,eAAe,MAAA;AACrD,UAAMK,aAAaG,8BAA8BX,WAAWQ,UAAU;AAEtE,WAAO;MACL,GAAGR;MACHG;MACAK;IACF;EACF;AAEA,SAAOR;AACT;AAMA,IAAMS,0BAA0B,CAACD,eAAAA;AAC/B,SAAOA,WAAWI,IAAI,CAACC,qBAAAA;AACrB,QAAIC,iBAAiBC,SAASF,iBAAiBG,IAAI,GAAG;AACpD,YAAMX,OAAO;QAAEC,WAAW;MAAK;AAE/B,YAAMH,gBAAgBU,iBAAiBV,gBACnC;QAAE,GAAGU,iBAAiBV;QAAeE;UACrC;QAAEA;MAAK;AAEX,aAAO;QAAE,GAAGQ;QAAkBV;MAAc;IAC9C;AAEA,WAAOU;EACT,CAAA;AACF;AAMA,IAAMF,gCAAgC,CAACH,eAAAA;AACrC,SAAOA,WAAWI,IAAI,CAACC,qBAAAA;AACrB,eAAOH,YAAAA,SAAKG,kBAAkB,oBAAA;EAChC,CAAA;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5DA,IAAAI,SAAe;EACbC,SAASC,KAAQ;AACfA,QAAIC,eAAe;MAACC;MAAyCC;IAA+B,CAAA;AAC5FH,QAAIC,eAAe;MAAC,MAAMG,QAAQC;IAAW,CAAA;AAC7CL,QAAIM,YAAY;MACd,CAACF,QAAQG,WAAW,GAAGH,QAAQI;IACjC,CAAA;AACAR,QAAIS,kBAAkB;MAACC;IAAiB,CAAA;AACxCV,QAAIW,eAAe;MACjBC,IAAIC;MACJC,MAAMD;IACR,CAAA;EACF;EACAE,UAAUf,KAAQ;AAEhBA,QAAIgB,aAAa,kDAAkDC,oBAAAA;AACnEjB,QAAIgB,aAAa,mDAAmDE,kBAAAA;AAEpElB,QAAIgB,aACF,+DACAG,uBAAAA;AAIFnB,QAAIoB,gBAAgB,UAAU;MAC5BC,WAAW;QACTT,IAAIU,eAAe,aAAA;QACnBC,gBAAgB;MAClB;MACAX,IAAI;MACJY,IAAI;MACJC,WAAW,MACT,OAAO,4BAAA,EAAwBC,KAAK,CAACC,SAAS;QAAEC,SAASD,IAAIE;QAAsB;MACrFC,aAAaC,aAAYC;IAC3B,CAAA;AAEA,UAAMC,iBAAiBjC,IAAIkC,UAAU,iBAAA;AAErCD,mBAAeE,KAAKC,wBAAwB;MAC1CC;MACAC;MACAC;IACD,CAAA;AACDN,mBAAeE,KAAKK,kBAAkB,CAACC,YAAAA;AACrC,YAAMC,sBAAsBD,QAAQE,UAAU,CAACC,WAAWA,OAAOC,SAAS,QAAA;AAC1EJ,cAAQK,OAAOJ,qBAAqB,GAAGK,kBAAAA;AACvC,aAAON;IACT,CAAA;AAEAR,mBAAeE,KAAKK,kBAAkB,CAACC,YAAAA;AAGrCA,cAAQK,OAAO,GAAG,GAAGE,uBAAAA;AACrBP,cAAQK,OAAO,GAAG,GAAGG,yBAAAA;AACrB,aAAOR;IACT,CAAA;AAEAR,mBAAeiB,gBAAgB,YAAY,WAAW;MACpDpC,MAAM;MACNW,WAAW0B;IACb,CAAA;AAEAlB,mBAAeiB,gBAAgB,YAAY,+BAA+B;MACxEpC,MAAM;MACNW,WAAW2B;IACb,CAAA;AAEAnB,mBAAeiB,gBAAgB,YAAY,iCAAiC;MAC1EpC,MAAM;MACNW,WAAW4B;IACb,CAAA;AAEApB,mBAAeiB,gBAAgB,YAAY,8BAA8B;MACvEpC,MAAM;MACNW,WAAW6B;IACb,CAAA;AAEA,UAAMC,YAAYvD,IAAIkC,UAAU,sBAAA;AAEhC,QAAIqB,WAAW;AACb,YAAMC,cAAcD,UAAUpB,KAAKsB;AACnCD,kBAAYE,6BAA6BC,0BAAAA;AACzCH,kBAAYI,WAAWC,IAAI;QAAEjD,IAAI;QAAwBkD,WAAWC;MAAqB,CAAA;AAEzFP,kBAAYQ,kBAAkB;QAC5BC,WAAW,OAAO;UAChBC,MAAUC,QAAM,EAAGC,MAAM;YACvBC,WAAeC,OAAI;UACrB,CAAA;;QAEFC,MAAM;UACJC,WAAAA;AACE,mBAAO;cACL;gBACE1D,MAAM;gBACN2D,aAAa;kBACX7D,IAAIU,eAAe,uDAAA;kBACnBC,gBAAgB;gBAClB;gBACAsB,MAAM;gBACNxB,WAAW;kBACTT,IAAIU,eAAe,iDAAA;kBACnBC,gBAAgB;gBAClB;cACF;YACD;UACH;QACF;MACF,CAAA;AAEAiC,kBAAYkB,aAAaC,kBAAkB;QACzCJ,MAAM;UACJC,SAAS,EAAEI,mBAAmBC,WAAWhC,MAAMiC,KAAI,GAAO;AACxD,gBAAID,cAAc,eAAe;AAC/B,qBAAO,CAAA;YACT;AAEA,kBAAME,qBAAiBC,YAAAA,SACrBJ,mBACA;cAAC;cAAiB;cAAQ;eAC1B,KAAA;AAGF,gBAAI,CAACG,gBAAgB;AACnB,qBAAO,CAAA;YACT;AAEA,gBAAIlC,SAAS,eAAeiC,SAAS,KAAK;AACxC,qBAAO,CAAA;YACT;AAEA,mBAAO;cACL;gBACEhE,MAAM;gBACN2D,aAAa;kBACX7D,IAAIU,eAAe,gDAAA;kBACnBC,gBAAgB;gBAClB;gBACAsB,MAAM;gBACNxB,WAAW;kBACTT,IAAIU,eAAe,0CAAA;kBACnBC,gBAAgB;gBAClB;cACF;YACD;UACH;QACF;MACF,CAAA;IACF;EACF;EACA,MAAM0D,cAAc,EAAEC,QAAO,GAAyB;AACpD,UAAMC,gBAAgB,MAAMC,QAAQC,IAClCH,QAAQI,IAAI,CAACC,WAAAA;AACX,aAAOC,mCAAO,kBAAkBD,MAAO,OAAM,EAC1C7D,KAAK,CAAC,EAAEE,SAAS6D,KAAI,MAAE;AACtB,eAAO;UACLA,MAAMC,0BAAyBD,MAAM5E,SAAAA;UACrC0E;QACF;MACF,CAAA,EACCI,MAAM,MAAA;AACL,eAAO;UACLF,MAAM,CAAA;UACNF;QACF;MACF,CAAA;IACJ,CAAA,CAAA;AAGF,WAAOH,QAAQQ,QAAQT,aAAAA;EACzB;AACF;;;;;;;;;ACnKaU,IAAAA,6BAAiCC,QAAM,EAAGC,MAAM;EAC3DC,MAAUC,QAAM,EAAGC,MAAM;IAAC;IAAW;EAAY,CAAA,EAAEC,SAAQ;EAC3DC,WAAeH,QAAM,EAAGE,SAAQ;AAClC,CAAG;IAOUE,iBAAiB;EAC5BL,MAAM;EACNI,WAAW;AACb;IASaE,aAAa,MAAA;AACxB,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,aACEC,0BAACC,IAAAA;IACCC,UAAMF,0BAACG,GAAAA;MAAeC,OAAM;;IAC5BC,SAASP,cAAc;MACrBQ,IAAI;MACJC,gBACE;IACJ,CAAA;IACAC,YACER,0BAACS,IAAAA;MACCC,IAAI;QACFC,UAAU;MACZ;MACAC,KAAKC;MACLC,SAAQ;gBAEPhB,cAAc;QACbQ,IAAI;QACJC,gBAAgB;MAClB,CAAA;;IAGJQ,QAAO;;AAGb;AAEA,IAAMC,0BAA0B,CAAC,EAC/BC,aACAC,YACAC,eACAC,OAAM,MACuB;;AAC7B,QAAM,EAAEtB,cAAa,IAAKC,QAAAA;AAC1B,QAAM,CAAC,EAAEsB,MAAK,CAAE,IAAIC,eAAAA;AACpB,QAAMC,UAASF,iBAAMG,YAANH,mBAAeI,SAAfJ,mBAAqBE;AAGpC,QAAMG,WAAWC,4BAA4B;IAC3CV;IACAW,iBAAiBV;IACjBW,kBAAkB;IAClBN;EACF,CAAA;AAEA,QAAMO,YAAWJ,cAASK,SAATL,mBAAeK;AAEhC,OAAID,qCAAUE,YAAW,GAAG;AAC1B,eAAOhC,0BAACH,YAAAA,CAAAA,CAAAA;EACV;AAEA,aACEoC,2BAACC,GAAAA;IAAKC,WAAU;IAASC,YAAW;IAAUC,KAAK;;UACjDrC,0BAACsC,GAAAA;QAAIC,eAAe;sBAClBN,2BAACO,GAAMC,MAAI;UAAC/C,UAAQ;;gBAClBM,0BAACwC,GAAME,OAAK;wBACT5C,cAAc;gBACbQ,IAAI;gBACJC,gBAAgB;cAClB,CAAA;;gBAEFP,0BAAC2C,IAAAA;cACCjD,UAAQ;cACRkD,aAAa9C,cAAc;gBACzBQ,IAAI;gBACJC,gBAAgB;cAClB,CAAA;cACAsC,MAAK;cACLC,UAAU,CAACC,UAAU5B,cAAc,aAAa4B,KAAAA;cAChDA,OAAO3B,OAAOzB;wBAEbmC,qCAAUkB,IAAI,CAACC,gBACdjD,0BAACkD,IAAAA;gBAAoCH,OAAOE,QAAQ3C;gBACjD2C,UAAAA,QAAQJ;cADcI,GAAAA,QAAQ3C,EAAE;;;;;UAO3CN,0BAACwC,GAAME,OAAK;kBACT5C,cAAc;UACbQ,IAAI;UACJC,gBAAgB;QAClB,CAAA;;UAEFP,0BAACmD,sBAAAA;QACCC,UAAUhC,OAAO7B;QACjB8D,cAAc,CAACC,MAAMnC,cAAc,QAAQmC,EAAEC,OAAOR,KAAK;QACzDF,MAAK;;;;AAIb;AAMA,IAAMW,yBAAkD,CAAC,EACvDtC,YACAuC,UAAAA,WACAC,OACAC,eAAc,MACM;;AACpB,QAAM,EAAE7D,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EAAE6D,eAAc,IAAKC,QAAQC,YAAAA;AACnC,QAAM,EAAEC,gBAAe,IAAKH;AAC5B,QAAM,CAACI,qBAAqB,EAAEC,UAAS,CAAE,IAAIC,+BAAAA;AAC7C,QAAM,EAAEC,mBAAkB,IAAKC,gBAAAA;AAC/B,QAAM,EAAEC,eAAc,IAAKC,mBAAAA;AAC3B,QAAM,CAAC,EAAEjD,MAAK,CAAE,IAAIC,eAAAA;AACpB,QAAMC,UAASF,iBAAMG,YAANH,mBAAeI,SAAfJ,mBAAqBE;AAEpC,QAAMgD,eAAe,OAAOjB,GAAqCkB,YAAAA;AAC/D,QAAI;AACF,YAAMC,OAAOF,aAAajB,CAAAA;AAC1BkB,cAAAA;IACF,SAASE,OAAO;AACd,UAAIC,aAAaD,KAAQ,GAAA;AAEvBP,2BAAmB;UACjB5E,MAAM;UACNqF,SAASP,eAAeK,KAAAA;QAC1B,CAAA;aACK;AAELP,2BAAmB;UACjB5E,MAAM;UACNqF,SAAS9E,cAAc;YACrBQ,IAAI;YACJC,gBAAgB;UAClB,CAAA;QACF,CAAA;MACF;IACF;EACF;AAEA,QAAMkE,SAASI,UAAU;IACvBC,eAAelF;IACfmF,kBAAkB3F;IAClB4F,UAAU,OAAO5D,WAAAA;AACf,UAAIuC,mBAAmB,sBAAsB,CAACzC,YAAY;AACxD,cAAM,IAAI+D,MAAM,yBAAA;MAClB;AAEA,YAAMvD,WAAW,MAAMsC,oBAAoB;QACzCkB,MAAM;UACJ3F,MAAM6B,OAAO7B;UACb0B,aAAayC;UACb9B,iBAAiBV;UACjBK;QACF;QACA4D,QAAQ;UAAExF,WAAWyB,OAAOzB;QAAU;MACxC,CAAA;AAEA,UAAI,UAAU+B,UAAU;AAEtByC,2BAAmB;UACjB5E,MAAM;UACNqF,SAAS9E,cAAc;YACrBQ,IAAI;YACJC,gBAAgB;UAClB,CAAA;QACF,CAAA;AAEA;MACF;AAEA,UAAI,WAAWmB,UAAU;AACvB,cAAMA,SAASgD;MACjB;IACF;EACF,CAAA;AAEA,QAAM,EACJU,MAAM,EAAEC,QAAO,EAAE,IACfC,kBAAkB5B,KAAAA;AAGtB,MAAI,CAAC6B,OAAOC,OAAOC,QAAQ,EAACJ,mCAASK,oBAAmB,CAAC3B,iBAAiB;AACxE,WAAO;EACT;AAEA,MAAIJ,mBAAmB,uBAAuB,CAACzC,cAAcA,eAAe,WAAW;AACrF,WAAO;EACT;AAEA,SAAO;IACLyE,OAAO7F,cAAc;MACnBQ,IAAI;MACJC,gBAAgB;IAClB,CAAA;IACAL,UAAMF,0BAAC4F,IAAAA,CAAAA,CAAAA;;IAEPC,UAAU,CAACpC;IACXqC,UAAU;MAAC;MAAS;IAAY;IAChCC,QAAQ;MACNxG,MAAM;MACNyG,OAAOlG,cAAc;QACnBQ,IAAI;QACJC,gBAAgB;MAClB,CAAA;MACAF,aACEL,0BAACgB,yBAAAA;QACCC,aAAayC;QACbxC;QACAC,eAAesD,OAAOwB;QACtB7E,QAAQqD,OAAOrD;;MAGnB8E,QAAQ,CAAC,EAAE1B,QAAO,UAChBvC,2BAACkE,GAAMC,QAAM;;cACXpG,0BAACqG,IAAAA;YAAOC,SAAS9B;YAAS1D,SAAQ;YAAW+B,MAAK;sBAC/C/C,cAAc;cACbQ,IAAI;cACJC,gBAAgB;YAClB,CAAA;;cAEFP,0BAACqG,IAAAA;YACC9G,MAAK;;YAEL+G,SAAS,CAAChD,MAAMiB,aAAajB,GAAGkB,OAAAA;YAChCqB,UAAU,CAACpB,OAAOrD,OAAOzB;YACzB4G,SAAStC;sBAERnE,cAAc;cACbQ,IAAI;cACJC,gBAAgB;YAClB,CAAA;;;;IAIR;EACF;AACF;;;ACxQA,IAAMiG,wBAAwB,CAACC,YAAAA;AAC7B,QAAMC,cAAc;IAClBC,SAAS;MACP;QACEC,QAAQ;QACRH;QACAI,IAAI;QACJC,kBAAkB,CAAA;QAClBC,YAAY,CAAA;QACZC,YAAY,CAAA;MACd;IACD;EACH;AAEA,SAAON;AACT;AAEA,IAAMO,gBAAqC,CAAC,EAAEC,WAAWC,MAAK,MAAE;;AAC9D,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EAAEC,mBAAkB,IAAKC,gBAAAA;AAC/B,QAAM,EAAEC,eAAc,IAAKC,mBAAAA;AAC3B,QAAM,CAAC,EAAEC,MAAK,CAAE,IAAIC,eAAAA;AACpB,QAAMC,qBAAqBpB,sBAAsBW,KAAAA;AACjD,QAAM,EACJU,gBAAgB,EAAEC,WAAU,EAAE,IAC5BC,QAAQH,kBAAAA;AACZ,QAAM,EACJC,gBAAgB,EAAEG,UAAS,EAAE,IAC3BD,QAAQE,YAAAA;AACZ,QAAM,EAAEC,mBAAkB,IAAKC,yBAAAA;AAG/B,QAAMC,WAAWC,oBAAAA;AACjB,QAAMC,YAAWF,cAASG,SAATH,mBAAeG;AAChC,QAAM,CAACC,0BAA0B,EAAEC,UAAS,CAAE,IAAIC,oCAAAA;AAClD,QAAMC,cAAczB,UAAU0B,IAAI,CAACC,QAAQA,IAAIC,UAAU;AAEzD,QAAMC,eAAe,OAAOC,WAAAA;;AAC1B,UAAMC,UAASvB,MAAAA,MAAAA,MAAMwB,YAANxB,gBAAAA,IAAeyB,SAAfzB,mBAAqBuB;AAEpC,UAAMG,uBAAiET,YAAYC,IACjF,CAACS,qBAAqB;MACpBC,MAAMN,OAAOM;MACbC,aAAapC;MACbkC;MACAJ;MACF;AAGF,UAAMb,YAAW,MAAMI,yBAAyB;MAC9CgB,MAAMJ;MACNK,QAAQ;QAAEC,WAAWV,OAAOU;MAAU;IACxC,CAAA;AAEA,QAAI,UAAUtB,WAAU;AAGtB,YAAMuB,sBAAsBvC,cAC1B;QACEP,IAAI;QACJ+C,gBACE;SAEJ;QACEC,yBAAyBzB,UAASG,KAAKuB,KAAKD;QAC5CE,cAAc3B,UAASG,KAAKuB,KAAKC;MACnC,CAAA;AAGF,YAAMC,eAAe;QACnBV,MAAM;QACNW,OAAO7C,cACL;UACEP,IAAI;UACJ+C,gBAAgB;WAElB;UACEC,yBAAyBzB,UAASG,KAAKuB,KAAKD;UAC5CE,cAAc3B,UAASG,KAAKuB,KAAKC;QACnC,CAAA;QAEFG,SAAS9B,UAASG,KAAKuB,KAAKD,0BAA0BF,sBAAsB;MAC9E;AAEArC,yBAAmB0C,YAAAA;AAEnB,aAAO;IACT;AAEA,QAAI,WAAW5B,WAAU;AACvB,UAAI+B,aAAa/B,UAASgC,KAAK,GAAG;AAEhC9C,2BAAmB;UACjBgC,MAAM;UACNY,SAAS1C,eAAeY,UAASgC,KAAK;QACxC,CAAA;aACK;AAEL9C,2BAAmB;UACjBgC,MAAM;UACNY,SAAS9C,cAAc;YAAEP,IAAI;YAAsB+C,gBAAgB;UAAoB,CAAA;QACzF,CAAA;MACF;IACF;EACF;AAEA,MAAI,CAAC1B,sBAAsB,CAACF,aAAa,CAACF,WAAY,QAAO;AAE7D,SAAO;IACLuC,YAAY;IACZC,SAAS;IACTC,OAAOnD,cAAc;MACnBP,IAAI;MACJ+C,gBAAgB;IAClB,CAAA;IACAY,QAAQ;MACNlB,MAAM;MACNW,OAAO7C,cAAc;QACnBP,IAAI;QACJ+C,gBAAgB;MAClB,CAAA;MACAa,SAAS,CAAC,EAAEC,QAAO,MAAE;AACnB,mBACEC,0BAACC,QAAAA;UACCC,UAAU,OAAO7B,WAAAA;AACf,kBAAMT,OAAO,MAAMQ,aAAaC,MAAAA;AAChC,gBAAIT,MAAM;AACR,qBAAOmC,QAAAA;YACT;UACF;UACAI,kBAAkBC;UAClBC,eAAeC;UAEd,UAAA,CAAC,EAAEjC,QAAQkC,cAAa,UACvBC,2BAACC,MAAAA;;eACE9C,qCAAU+C,YAAW,QACpBV,0BAACW,YAED,CAAA,CAAA,QAAAX,0BAACY,GAAMC,MAAI;gBACT,cAAAL,2BAACM,GAAAA;kBAAKC,WAAU;kBAASC,YAAW;kBAAUC,KAAK;;wBACjDjB,0BAACkB,GAAAA;sBAAIC,eAAe;oCAClBX,2BAACY,GAAMC,MAAI;wBAACC,UAAQ;;8BAClBtB,0BAACoB,GAAMG,OAAK;sCACT9E,cAAc;8BACbP,IAAI;8BACJ+C,gBAAgB;4BAClB,CAAA;;8BAEFe,0BAACwB,IAAAA;4BACCC,aAAahF,cAAc;8BACzBP,IAAI;8BACJ+C,gBAAgB;4BAClB,CAAA;4BACAyC,UAAU,CAACC,UAAUpB,cAAc,aAAaoB,KAAAA;4BAChDA,OAAOtD,OAAOU;sCAEbpB,qCAAUM,IAAI,CAAC2D,gBACd5B,0BAAC6B,IAAAA;8BAAoCF,OAAOC,QAAQ1F;8BACjD0F,UAAAA,QAAQE;4BADcF,GAAAA,QAAQ1F,EAAE;;;;;wBAO3C8D,0BAACoB,GAAMG,OAAK;gCACT9E,cAAc;wBACbP,IAAI;wBACJ+C,gBAAgB;sBAClB,CAAA;;wBAEFe,0BAAC+B,sBAAAA;sBACCC,UAAU3D,OAAOM;sBACjBsD,cAAc,CAACC,MAAM3B,cAAc,QAAQ2B,EAAEC,OAAOR,KAAK;sBACzDG,MAAK;;;;;kBAKbtB,2BAACI,GAAMwB,QAAM;;sBACXpC,0BAACqC,IAAAA;oBAAOC,SAASvC;oBAASJ,SAAQ;oBAAWmC,MAAK;8BAC/CrF,cAAc;sBACbP,IAAI;sBACJ+C,gBAAgB;oBAClB,CAAA;;sBAKFe,0BAACqC,IAAAA;oBAAO1D,MAAK;oBAAS4D,UAAU,CAAClE,OAAOU;oBAAWyD,SAAS1E;8BACzDrB,cAAc;sBACbP,IAAI;sBACJ+C,gBAAgB;oBAClB,CAAA;;;;;;;MAOd;IACF;EACF;AACF;;;;;ACxNA,IAAMwD,kBAAkB,CAACC,gBAAiCC,eAAAA;;AACxD,QAAMC,eAAeC,SAAS,YAAY,CAACC,UAAUA,MAAMC,IAAI;AAC/D,QAAMC,cAAcJ,aAAaK,IAAI,CAACC,UAAUA,MAAMP,UAAU;AAChE,QAAM,CAAC,EAAEQ,MAAK,CAAE,IAAIC,eAAAA;AACpB,QAAMC,WAAUF,0CAAuBG,YAAvBH,mBAAgCI,SAAhCJ,mBAAsCE,WAAUG;AAEhE,QAAMC,WAAWC,mCACf;IAAEhB;IAAgBM;IAAaK;KAC/B;IAAEM,MAAM,CAACX,eAAe,CAACN,kBAAkBM,YAAYY,WAAW;EAAE,CAAA;AAGtE,QAAMC,0BAA0BJ,SAASK,QAAQ,CAAA;AAEjD,UAAOD,mEAA0BlB,gBAAe,CAAA;AAClD;AAWA,IAAMoB,wBAAuB,CAAC,EAAEC,kBAAkBC,OAAM,MAA4B;AAClF,QAAM,EAAEC,QAAO,IAAKD;AAEpB,MAAI,EAACC,mCAASC,kBAAiB;AAC7B,WAAO;MAAEH;MAAkBC;IAAO;EACpC;AAEA,SAAO;IACLD,kBAAkB;MACbA,GAAAA;MACH;QACEI,YAAY;QACZC,UAAU;QACVC,MAAM;QACNC,OAAO;UACLC,IAAI;UACJC,gBAAgB;QAClB;QACAC,eAAe,CACbC,OACAC,GACA,EAAEC,MAAK,UACJC,0BAACC,iBAAAA;UAAiB,GAAGJ;UAAOE;;MACnC;IACD;IACDZ;EACF;AACF;AAWA,IAAMc,kBAAkB,CAAC,EAAEpC,YAAYkC,MAAK,MAAwB;AAClE,QAAMG,WAAWvC,gBAAgBoC,OAAOlC,UAAAA;AACxC,QAAM,EAAEsC,cAAa,IAAKC,QAAAA;AAE1B,aACEC,2BAACC,GAAQC,MAAI;;UACXP,0BAACM,GAAQE,SAAO;QACd,cAAAR,0BAACS,IAAAA;UACCC,SAAQ;UACRC,SAAS,CAACC,MAAqCA,EAAEC,gBAAe;;UAEhEC,SAASZ,SAASpB,SAAS,QAAIkB,0BAACe,IAAAA;YAAUC,OAAM;YAASC,QAAO;UAAc,CAAA,IAAA;UAE9E,cAAAjB,0BAACkB,GAAAA;YACCC,OAAO;cAAEC,UAAU;cAASC,QAAQ;YAAU;YAC9CC,WAAU;YACVC,YAAW;sBAEVrB,SAASpB,SAAS,IACfqB,cACE;cACET,IAAI;cACJC,gBAAgB;eAElB;cACE6B,QAAQtB,SAASpB;aAGrB,IAAA;;;;UAIVkB,0BAACM,GAAQmB,SAAO;QACd,cAAAzB,0BAAC0B,MAAAA;oBACExB,SAAS/B,IAAI,CAAC,EAAEuB,IAAIF,MAAAA,MAAI,UACvBQ,0BAAC2B,GAAAA;YAAaC,SAAS;YAAGC,KAAI;YAC5B,cAAA7B,0BAAC8B,IAAAA;cAAKC,MAAM,mCAAmCrC,EAAI;cAAEsC,YAAY;cAC9DxC,UAAAA;;UAFKE,GAAAA,EAAAA,CAAAA;;;;;AAUtB;;;;ACtHMuC,IAAAA,QAAwB,CAAC,EAC7BC,OACAC,UAAAA,WACAC,YACAC,eAAc,MACM;;AACpB,QAAM,CAAC,EAAEC,MAAK,CAAE,IAAIC,eAAAA;AACpB,QAAMC,UAASF,iBAAMG,YAANH,mBAAeI,SAAfJ,mBAAqBE;AAEpC,QAAM,EACJG,MAAM,EAAEC,QAAO,EAAE,IACfC,kBAAkBX,KAAAA;AACtB,QAAM,EAAEY,eAAeC,YAAYC,WAAU,IAAKC,QAAAA;AAElD,QAAM,EAAEC,eAAc,IAAKC,QAAQC,YAAAA;AACnC,QAAM,EAAEC,SAASC,gBAAe,IAAKJ;AAErC,QAAMK,WAAWC,4BACf;IACEC,aAAavB;IACbwB,iBAAiBtB;IACjBI;IACAmB,kBAAkB;KAEpB;IACEC,MAAM,CAACzB;EACT,CAAA;AAEF,QAAM0B,YAAWN,cAASO,SAATP,mBAAeO;AAEhC,QAAMC,yBAAyB,CAC7BC,YACAC,UAAAA;AAEA,QAAID,eAAe,aAAa;AAC9B,aAAO,YAAYC,KAAO;IAC5B;AAEA,WAAO,UAAUA,KAAO;EAC1B;AAGA,MAAI,CAACC,OAAOC,OAAOC,QAAQ,EAACxB,mCAASyB,oBAAmB,CAAChB,SAAS;AAChE,WAAO;EACT;AAEA,MAAIhB,mBAAmB,uBAAuB,CAACD,cAAcA,eAAe,WAAW;AACrF,WAAO;EACT;AAEA,MAAI,CAACyB,YAAYA,SAASS,WAAW,GAAG;AACtC,WAAO;EACT;AAEA,SAAO;IACLC,OAAOzB,cAAc;MACnB0B,IAAI;MACJC,gBAAgB;IAClB,CAAA;IACAC,aACEC,0BAACC,GAAAA;MAAKC,WAAU;MAASC,YAAW;MAAUC,KAAK;MAAGC,OAAM;gBACzDnB,qCAAUoB,IAAI,CAACC,gBACdC,2BAACP,GAAAA;QAECC,WAAU;QACVC,YAAW;QACXM,aAAY;QACZC,aAAY;QACZC,aAAavB,uBAAuBmB,QAAQK,QAAQ,CAAE,EAACC,MAAM,KAAA;QAC7DC,UAAS;QACTC,WAAS;;cAETf,0BAACgB,GAAAA;YACCC,YAAY;YACZC,eAAe;YACfC,aAAa;YACbC,cAAc;YACdC,YAAYjC,uBAAuBmB,QAAQK,QAAQ,CAAE,EAACC,MAAM,KAAA;YAC5DR,OAAM;YAEN,cAAAL,0BAACsB,GAAAA;cACCC,UAAU;cACVC,SAAQ;cACRC,WAAWrC,uBAAuBmB,QAAQK,QAAQ,CAAE,EAACC,MAAM,KAAA;wBAE1D1C,cACC;gBACE0B,IAAI;gBACJC,gBACE;iBAEJ;gBAAE4B,WAAWnB,QAAQK,QAAQ,CAAE,EAACC,SAAS;cAAU,CAAA;;;cAIzDL,2BAACP,GAAAA;YAAK0B,SAAS;YAAGzB,WAAU;YAASE,KAAK;YAAGC,OAAM;YAAOF,YAAW;;kBACnEH,0BAACsB,GAAAA;gBAAWC,UAAU;gBAAGK,YAAW;gBAAOJ,SAAQ;gBAAQC,WAAU;gBAClElB,UAAAA,QAAQsB;;cAEVtB,QAAQuB,eAAevB,QAAQwB,gBAC9B/B,0BAACsB,GAAAA;gBAAWE,SAAQ;gBAAKC,WAAU;0BAChCtD,cACC;kBACE0B,IAAI;kBACJC,gBAAgB;mBAElB;kBACEkC,MAAM5D,WAAW,IAAI6D,KAAK1B,QAAQuB,WAAW,GAAG;oBAC9CI,KAAK;oBACLC,OAAO;oBACPC,MAAM;oBACNC,UAAU9B,QAAQwB;kBACpB,CAAA;kBACAO,MAAMjE,WAAW,IAAI4D,KAAK1B,QAAQuB,WAAW,GAAG;oBAC9CS,WAAW;oBACXF,UAAU9B,QAAQwB;kBACpB,CAAA;kBACAS,QAAQC,kBAAkBlC,QAAQwB,UAAU,IAAIE,KAAK1B,QAAQuB,WAAW,CAAA;gBAC1E,CAAA;;cAILnD,sBACC6B,2BAACkC,kBAAkBC,MAAI;gBAACC,kBAAgB;;sBACtC5C,0BAAC0C,kBAAkBG,iBAAe;oBAACC,WAAWvC,QAAQV;;sBACtDG,0BAAC0C,kBAAkBK,yBAAuB;oBACxCD,WAAWvC,QAAQV;oBACnBmD,UAAUzC,QAAQK,QAAQ,CAAA,EAAGf;;;cAG/B,CAAA,IAAA;;;;MAnEDU,GAAAA,QAAQV,EAAE;;EAyEzB;AACF;;;ACpJMoD,IAAAA,4BAA2B,CAACC,MAAmBC,cAAAA;AAInD,SAAOC,OAAOC,KAAKH,IAAAA,EAAMI,OAAO,CAACC,KAAKC,YAAAA;AACpCD,QAAI,GAAGJ,SAAAA,IAAYK,OAAAA,EAAS,IAAIN,KAAKM,OAAQ;AAC7C,WAAOD;EACT,GAAG,CAAA,CAAC;AACN;;;;;;;;;;;;;;;;;ACQA,IAAME,SAAkC;;EAEtCC,SAASC,KAAc;;AAMrBA,QAAIC,WAAW,6DAAA;AAEf,QAAIC,OAAOC,OAAOC,SAASC,UAAU,sBAAyB,GAAA;AAC5DL,UAAIM,YAAY;QACdC,IAAI,WAAWC,SAAU;QACzBC,MAAMC;QACNC,WAAW;UACTC,IAAI,GAAGJ,SAAS;UAChBK,gBAAgB;QAClB;QACAC,WAAW,MAAM,OAAO,mBAAA,EAAeC,KAAK,CAACC,SAAS;UAAEC,SAASD,IAAIE;UAAI;QACzEC,aAAaC,aAAYC;QACzBC,UAAU;MACZ,CAAA;AAGA,YAAMC,2BAA2BvB,IAAIwB,UAAU,iBAAA,EAAmBC;AAClE,UACE,0BAA0BF,4BAC1B,OAAOA,yBAAyBG,yBAAyB,YACzD;AACAH,iCAAyBG,qBAAqB;UAACC;QAAc,CAAA;MAC/D;AAGA,UACE,uBAAuBJ,4BACvB,OAAOA,yBAAyBK,sBAAsB,YACtD;AACAL,iCAAyBK,kBAAkB,CAACC,YAAAA;AAC1C,gBAAMC,sBAAsBD,QAAQE,UAAU,CAACC,WAAWA,OAAOC,SAAS,WAAA;AAC1EJ,kBAAQK,OAAOJ,qBAAqB,GAAGK,sBAAAA;AACvC,iBAAON;QACT,CAAA;MACF;AAEA7B,UAAIoC,gBAAgB,UAAU;QAC5BxB,IAAIJ;QACJD,IAAI;QACJI,WAAW;UACTC,IAAI,GAAGJ,SAAS;UAChBK,gBAAgB;QAClB;QACAwB,aAAa;QACblB,aAAa,CAAA;QACb,MAAML,YAAAA;AACJ,gBAAM,EAAEwB,8BAA6B,IAAK,MAAM,OAAO,oCAAA;AACvD,iBAAO;YAAErB,SAASqB;UAA8B;QAClD;MACF,CAAA;AAEA,UACE,mBAAmBf,4BACnB,OAAOA,yBAAyBgB,kBAAkB,YAClD;AACAhB,iCAAyBgB,cAAc,CAACV,YAAAA;AAEtC,gBAAMW,oBAAoBX,QAAQE,UAAU,CAACC,WAAWA,OAAOC,SAAS,QAAA;AAExEJ,kBAAQK,OAAOM,mBAAmB,GAAGC,aAAAA;AACrC,iBAAOZ;QACT,CAAA;MACF;AAGA7B,UAAI0C,aAAa,kDAAkDC,qBAAAA;AAEnE3C,UAAI4C,QAAQ7C,SAAS;QACnB;UACEU,MAAMC;UACNmC,OAAO;YACLjC,IAAI,GAAGkC,SAAU;YACjBjC,gBAAgB;UAClB;UACAkC,WAAW,YAAA;AACT,kBAAM,EAAEC,uBAAsB,IAAK,MAAM,OAAO,uBAAA;AAChD,mBAAOA;UACT;UACAxC,UAAUsC;UACVlC,IAAI;UACJqC,MAAM;YACJC,OAAO;cACLtC,IAAI,GAAGkC,SAAU;cACjBjC,gBAAgB;YAClB;YACAsC,MAAM;UACR;QACF;MACD,CAAA;IACH,WACE,CAACjD,OAAOC,OAAOC,SAASC,UAAU,sBAClCH,OAAAA,kBAAOC,WAAPD,mBAAekD,UAAflD,mBAAsBmD,YACtB;AACArD,UAAIoC,gBAAgB,UAAU;QAC5BxB,IAAIJ;QACJD,IAAI;QACJI,WAAW;UACTC,IAAI,GAAGJ,SAAS;UAChBK,gBAAgB;QAClB;QACAM,aAAa,CAAA;QACb,MAAML,YAAAA;AACJ,gBAAM,EAAEwC,wBAAuB,IAAK,MAAM,OAAO,uCAAA;AACjD,iBAAO;YAAErC,SAASqC;UAAwB;QAC5C;QACAjB,aAAa;MACf,CAAA;IACF;EACF;EACA,MAAMkB,cAAc,EAAEC,QAAO,GAAyB;AACpD,UAAMC,gBAAgB,MAAMC,QAAQC,IAClCH,QAAQI,IAAI,CAACC,WAAAA;AACX,aAAO,kCAAO,kBAAkBA,MAAO,OAAM,EAC1C9C,KAAK,CAAC,EAAEE,SAAS6C,KAAI,MAAE;AACtB,eAAO;UACLA,MAAMC,0BAAyBD,MAAM,kBAAA;UACrCD;QACF;MACF,CAAA,EACCG,MAAM,MAAA;AACL,eAAO;UACLF,MAAM,CAAA;UACND;QACF;MACF,CAAA;IACJ,CAAA,CAAA;AAGF,WAAOH,QAAQO,QAAQR,aAAAA;EACzB;AACF;;;;;;;;;;AC5JO,IAAMS,uBAAuB;AAC7B,IAAMC,0BAA0B;;;ACoBvC,IAAMC,iBAAiB,CAAC,EAAEC,UAAS,MAA2B;;AAC5D,QAAM,EACJC,iBAAiB,IACjBC,IACAC,MAAMC,QAAQ,GAAE,IACdC,UAAAA;AACJ,QAAMC,cAAcC,iBAAiB,CAACC,UAAUA,MAAMC,UAAUH,WAAW;AAC3E,QAAM,EAAEI,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EAAEC,yBAAyBC,eAAc,IAAKC,mBAAAA;AACpD,QAAM,EAAEC,mBAAkB,IAAKC,gBAAAA;AAC/B,QAAM,EACJC,gBAAgB,EAAEC,QAAO,GACzBC,WAAWC,qBAAoB,IAC7BC,SAAQf,iBAAYgB,aAAZhB,mBAAsBiB,KAAAA;AAClC,QAAM,CAAC,EAAEC,MAAK,CAAE,IAAIC,eAAAA;AACpB,QAAMC,SAAeC,gBAAQ,MAAMC,kBAAiBJ,KAAQ,GAAA;IAACA;EAAM,CAAA;AACnE,QAAM,EACJK,MACAV,WAAWW,gBACXC,QAAO,IACLC,cAAcC,QAAW;IAC3BC,MAAMd,wBAAwB,CAACF;EACjC,CAAA;AACA,QAAM,EAAEiB,UAAAA,UAAQ,IAAKC,YACnB;IACEnC;IACAG;IACAiC,YAAYnC;KAEd;IACEgC,MAAM,CAAChC,MAAMD,mBAAmB;EAClC,CAAA;AAGF,QAAMsB,SAAQM,6BAAMN,UAAS,CAAA;AAE7B,QAAMe,kBAAkBH,YAAWA,UAASI,uBAAAA,IAA2B;AAEvE,QAAM,CAACC,gBAAgB,EAAEC,OAAOtB,WAAWuB,WAAU,CAAE,IAAIC,0BAAAA;AAE3D,MAAI,CAAC1C,kBAAkB,CAACG,SAAS,EAAC+B,aAAAA,gBAAAA,UAAUE,aAAY;AACtD,WAAO;EACT;AAEA,QAAMO,eAAe,OAAOC,eAAAA;AAE1B,SAAIP,mDAAiBpC,QAAO2C,YAAY;AACtC;IACF;AAEA,UAAMC,MAAM,MAAMN,eAAe;MAC/BrC,MAAMF;MACNG;MACAF,IAAIiC,UAASE;MACbX;MACAG,MAAM;QACJ3B,IAAI2C,aAAaE,SAASF,YAAY,EAAM,IAAA;MAC9C;IACF,CAAA;AAEA,QAAI,UAAUC,KAAK;AACjB/B,yBAAmB;QACjBiC,MAAM;QACNC,SAASvC,cAAc;UACrBR,IAAI;UACJgD,gBAAgB;QAClB,CAAA;MACF,CAAA;IACF;AAEA,QAAIlD,aAAa,WAAW8C,KAAK;AAC/B/B,yBAAmB;QACjBiC,MAAM;QACNC,SAASpC,eAAeiC,IAAIL,KAAK;MACnC,CAAA;IACF;EACF;AAEA,QAAMU,aACH,CAAC/B,wBAAwB,CAACU,kBAAkBP,MAAM6B,WAAW,KAAM,CAACjB,UAASE;AAChF,QAAMlB,YAAYW,kBAAkBV,wBAAwBsB;AAE5D,QAAMW,gBAAgB3C,cAAc;IAClCR,IAAI;IACJgD,gBAAgB;EAClB,CAAA;AACA,QAAMI,qBAAqB5C,cAAc;IACvCR,IAAI;IACJgD,gBAAgB;EAClB,CAAA;AACA,QAAMK,sBAAsB7C,cAAc;IACxCR,IAAI;IACJgD,gBAAgB;EAClB,CAAA;AAEA,MAAIlD,WAAW;AACb,eACEwD,2BAACC,GAAMC,MAAI;MAACC,MAAMpB;MAAyBrC,IAAIqC;;YAC7CqB,0BAACC,IAAAA;wBACCD,0BAACH,GAAMK,OAAK;YAAET,UAAAA;;;YAEhBO,0BAACG,IAAAA;UACCC,YAAYV;UACZW,UAAUd;UACVe,OAAO5B,kBAAkBA,gBAAgBpC,GAAGiE,SAAQ,IAAK;UACzDC,UAAUxB;UACVyB,SAAS,MAAMzB,aAAa,IAAA;UAC5B0B,aAAaf;UACbgB,SAASpD,aAAaC,wBAAwBsB;UAC9C8B,MAAK;oBAEJjD,MAAMkD,IAAI,CAACC,SAAAA;AACV,uBACEd,0BAACe,IAAAA;cAECT,OAAOQ,KAAKxE,GAAGiE,SAAQ;cACvBS,WAAWC,eAAeH,IAAAA;wBAEzBG,eAAeH,IAAAA;YAJXA,GAAAA,KAAKxE,EAAE;UAOlB,CAAA;;;;EAIR;AAEA,aACEsD,2BAACC,GAAMC,MAAI;IACTC,MAAMpB;IACNrC,IAAIqC;IACJE,QACG,WACCvB,WACAR,cAAc;MACZR,IAAI;MACJgD,gBAAgB;KAEjBT,KAAAA,SAAS5B,eAAe4B,KAAAA,MAC3BR;;UAGF2B,0BAACH,GAAMK,OAAK;QAAET,UAAAA;;UACdO,0BAACG,IAAAA;QACCC,YAAYV;QACZW,UACG,CAAC7C,wBAAwB,CAACD,aAAaI,MAAM6B,WAAW,KAAM,CAACjB,UAASE;QAE3E6B,OAAO5B,kBAAkBA,gBAAgBpC,GAAGiE,SAAQ,IAAK;QACzDC,UAAUxB;QACVyB,SAAS,MAAMzB,aAAa,IAAA;QAC5B0B,aAAaf;QACbgB,SAASpD,aAAaC,wBAAwBsB;kBAE7CnB,MAAMkD,IAAI,CAACC,SAAAA;AACV,qBACEd,0BAACe,IAAAA;YAECT,OAAOQ,KAAKxE,GAAGiE,SAAQ;YACvBS,WAAWC,eAAeH,IAAAA;sBAEzBG,eAAeH,IAAAA;UAJXA,GAAAA,KAAKxE,EAAE;QAOlB,CAAA;;UAEF0D,0BAACH,GAAMqB,OAAK,CAAA,CAAA;;;AAGlB;;;;;ACzJA,IAAMC,qBAAqB,CAAC,EAAEC,MAAMC,aAAY,MAAoB;AAClE,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,aACEC,2BAACC,YAAYC,MAAI;IAACN;IAAYC;;UAC5BM,0BAACF,YAAYG,OAAK;kBACfN,cAAc;UACbO,IAAI;UACJC,gBAAgB;QAClB,CAAA;;UAGFH,0BAACF,YAAYM,MAAI;kBACdT,cAAc;UACbO,IAAI;UACJC,gBAAgB;QAClB,CAAA;;;;AAIR;AAEA,IAAME,kBAAkB,CAAC,EAAEZ,MAAMC,aAAY,MAAoB;AAC/D,QAAM,EAAEC,cAAa,IAAKC,QAAAA;AAE1B,aACEC,2BAACC,YAAYC,MAAI;IAACN;IAAYC;;UAC5BM,0BAACF,YAAYG,OAAK;kBACfN,cAAc;UACbO,IAAI;UACJC,gBAAgB;QAClB,CAAA;;UAGFH,0BAACF,YAAYM,MAAI;kBACdT,cAAc;UACbO,IAAI;UACJC,gBAAgB;QAClB,CAAA;;;;AAIR;AAMA,IAAMG,SAAS,CAAC,EACdC,QACAC,qBACAC,WACA,GAAGC,MACqF,MAAA;AACxF,QAAM,EAAEf,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EAAEe,eAAc,IAAKC,mBAAmBJ,2DAAqBK,KAAAA,KAAU,CAAA;AAE7E,aACEb,0BAACc,IAAAA;IACCC,UAAUR,OAAOS,WAAW;IAC5BC,aAAatB,cAAc;MACzBO,IAAI;MACJC,gBAAgB;IAClB,CAAA;IACAe,WACEV,2BACER,0BAACmB,GAAAA;MACCC,KAAI;MACJC,QAAQ;MACRC,YAAYd,2DAAqBK;MACjCU,aAAaZ,mBAAmB,aAAa,eAAea;MAC5DC,WAAS;MACTC,QAAQ;MACRC,OAAO;MACPC,aAAY;;;IAKlBC,kBAAkB,MAAA;AAChB,iBACEhC,2BAACsB,GAAAA;QAAKC,KAAI;QAAOU,gBAAe;QAAgBC,YAAW;QAASJ,OAAM;;cACxE3B,0BAACgC,GAAAA;YAAWC,WAAU;YAAaC,UAAQ;YAACC,YAAW;YACpD3B,WAAAA,2DAAqB4B,SAAQ;;UAE/B3B,gBAAYT,0BAACqC,IAAAA;YAAOC,OAAK;YAACC,OAAO;cAAEC,SAAS;YAAO;YAAGC,eAAY;UAAc,CAAA,IAAA;;;IAGvF;IACC,GAAG/B;cAEHH,OAAOmC,IAAI,CAAC,EAAExC,IAAIW,OAAOuB,MAAAA,MAAI,MAAE;AAC9B,YAAM,EAAEzB,gBAAAA,gBAAc,IAAKC,mBAAmBC,KAAAA,KAAU,CAAA;AAExD,iBACEb,0BAAC2C,IAAAA;QAECzB,eACElB,0BAACmB,GAAAA;UACCE,QAAQ;UACRC,YAAYT;UACZU,aAAaZ,oBAAmB,aAAa,eAAea;UAC5DC,WAAS;UACTC,QAAQ;UACRC,OAAO;;QAGXiB,OAAO1C;QACP2C,WAAWT;QAEVA,UAAAA;MAdIlC,GAAAA,EAAAA;IAiBX,CAAA;;AAGN;AAEa4C,IAAAA,cAAc,CAAC,EAAEC,UAAS,MAA2B;AAChE,QAAM,EACJC,iBAAiB,IACjBC,MAAMC,QAAQ,IACdhD,KAAK,GAAE,IACLiD,UAAAA;AAKJ,QAAM,EAAExD,cAAa,IAAKC,QAAAA;AAC1B,QAAM,EAAEwD,yBAAyBC,eAAc,IAAKC,mBAAAA;AACpD,QAAM,EAAEC,mBAAkB,IAAKC,gBAAAA;AAC/B,QAAM,CAAC,EAAEC,MAAK,CAAE,IAAIC,eAAAA;AACpB,QAAMC,SAAeC,gBAAQ,MAAMC,kBAAiBJ,KAAQ,GAAA;IAACA;EAAM,CAAA;AACnE,QAAM,EAAEK,UAAAA,WAAUrD,WAAWsD,kBAAiB,IAAKC,YACjD;IACEhB;IACAE;IACAe,YAAY/D;KAEd;IACEgE,MAAM,CAAChE,MAAM8C,mBAAmB;EAClC,CAAA;AAGF,QAAM,EAAEmB,MAAM1D,WAAW2D,gBAAe,IAAKC,kBAC3C;IACEpB,MAAMD;IACNE;;IAEAhD,IAAI4D,aAAAA,gBAAAA,UAAUG;IACdN;KAEF;IACEO,MAAM,EAACJ,aAAAA,gBAAAA,UAAUG;EACnB,CAAA;AAGF,QAAM,EAAEK,MAAM/D,SAAS,CAAA,EAAE,IAAK4D,QAAQ,CAAA;AAEtC,QAAM,EAAEI,WAAU,IAAKC,iBAAAA;AACvB,QAAM,CAACC,gBAAgBC,iBAAAA,IAA2BC,iBAAsC,IAAA;AAExF,QAAMC,SAASL,WAAmB,kBAAA,KAAuB,CAAA;AAEzD,QAAM/D,sBAAsBsD,YAAWA,UAASe,oBAAAA,IAAwB;AAExE,QAAM,CAACC,aAAa,EAAEC,MAAK,CAAE,IAAIC,uBAAAA;AAEjC,QAAMC,eAAe,OAAOC,YAAAA;AAC1B,QAAI;AAWF,WACEN,iCAASO,yCACTC,SAASR,OAAOO,mCAAAA,GAAsC,EAAOb,MAAAA,6BAAMe,kBAAiB,IACpF;AACAX,0BAAkB,UAAA;MAUjB,YAEDE,iCAASU,oDACTF,SAASR,OAAOU,8CAA+C,GAAE,EAAM/E,IAAAA,OAAOS,QAC9E;AACA0D,0BAAkB,OAAA;aACb;AACL,YAAIZ,aAAAA,gBAAAA,UAAUG,YAAY;AACxB,gBAAMsB,MAAM,MAAMT,YAAY;YAC5B5B;YACAhD,IAAI4D,UAASG;YACbhB,MAAMD;YACNW;YACAQ,MAAM;cAAEjE,IAAIgF;YAAQ;UACtB,CAAA;AAEA,cAAI,UAAUK,KAAK;AACjBhC,+BAAmB;cACjBiC,MAAM;cACNC,SAAS9F,cAAc;gBACrBO,IAAI;gBACJC,gBAAgB;cAClB,CAAA;YACF,CAAA;UACF;AAEA,cAAI4C,aAAa,WAAWwC,KAAK;AAC/BhC,+BAAmB;cACjBiC,MAAM;cACNC,SAASpC,eAAekC,IAAIR,KAAK;YACnC,CAAA;UACF;QACF;MACF;IACF,SAASA,QAAO;AACdxB,yBAAmB;QACjBiC,MAAM;QACNC,SAAS9F,cAAc;UACrBO,IAAI;UACJC,gBAAgB;QAClB,CAAA;MACF,CAAA;IACF;EACF;AAEA,QAAMM,YAAY2D,mBAAmBL;AAErC,QAAM2B,mBAAmB/F,cAAc;IACrCO,IAAI;IACJC,gBAAgB;EAClB,CAAA;AACA,QAAMwF,kBACJ,CAAClF,aACDF,OAAOS,WAAW;EAElBrB,cAAc;IACZO,IAAI;IACJC,gBAAgB;EAClB,CAAA;AAEF,MAAI4C,WAAW;AACb,eACElD,2BAAA+F,+BAAA;;YACE5F,0BAAC6F,IAAAA;UAAQC,OAAOH;wBACd3F,0BAAC+F,GAAMhG,MAAI;YAACqC,MAAMyC;YAAsB3E,IAAI2E;0BAC1ChF,2BAAA+F,+BAAA;;oBACE5F,0BAACgG,IAAAA;gCACChG,0BAAC+F,GAAME,OAAK;oBAAEP,UAAAA;;;oBAEhB1F,0BAACM,QAAAA;kBACCC;kBACAC;kBACAC;kBACAyF,MAAK;kBACLnF,UAAUR,OAAOS,WAAW;kBAC5B4B,OAAOpC,2DAAqBN;kBAC5BiG,UAAUlB;kBACVhE,aAAatB,cAAc;oBACzBO,IAAI;oBACJC,gBAAgB;kBAClB,CAAA;;;;;;YAKRH,0BAACR,oBAAAA;UACCC,MAAMgF,mBAAmB;UACzB/E,cAAc,MAAMgF,kBAAkB,IAAA;;YAExC1E,0BAACK,iBAAAA;UACCZ,MAAMgF,mBAAmB;UACzB/E,cAAc,MAAMgF,kBAAkB,IAAA;;;;EAI9C;AAEA,aACE7E,2BAAA+F,+BAAA;;UACE/F,2BAACkG,GAAMhG,MAAI;QACTqG,MAAMT;QACNZ,OAAQA,SAAS1B,eAAe0B,KAAWvD,KAAAA;QAC3CY,MAAMyC;QACN3E,IAAI2E;;cAEJ7E,0BAAC+F,GAAME,OAAK;YAAEP,UAAAA;;cACd1F,0BAACM,QAAAA;YACCC;YACAC;YACAC;YACAM,UAAUR,OAAOS,WAAW;YAC5B4B,OAAOpC,2DAAqBN;YAC5BiG,UAAUlB;YACVhE,aAAatB,cAAc;cACzBO,IAAI;cACJC,gBAAgB;YAClB,CAAA;;cAEFH,0BAAC+F,GAAMM,MAAI,CAAA,CAAA;cACXrG,0BAAC+F,GAAMO,OAAK,CAAA,CAAA;;;UAEdtG,0BAACR,oBAAAA;QACCC,MAAMgF,mBAAmB;QACzB/E,cAAc,MAAMgF,kBAAkB,IAAA;;UAExC1E,0BAACK,iBAAAA;QACCZ,MAAMgF,mBAAmB;QACzB/E,cAAc,MAAMgF,kBAAkB,IAAA;;;;AAI9C;;;ACnWA,IAAM6B,SAAS,MAAA;AACb,QAAM,EACJC,OAAO,IACPC,IACAC,eAAc,IACZC,UAAAA;AAMJ,QAAM,EACJC,MAAM,EAAEC,QAAO,EAAE,IACfC,kBAAkBN,IAAAA;AAEtB,MACE,CAACO,OAAOC,OAAOC,QACf,EAACJ,mCAASK,oBACTR,mBAAmB,kBAAkB,CAACD,MACvCA,OAAO,UACP;AACA,WAAO;EACT;AAEA,aACEU,2BAACC,GAAAA;IAAKC,KAAK;;UACTC,0BAACC,gBAAAA;QAAeC,WAAS;;UACzBF,0BAACG,aAAAA;QAAYD,WAAS;;;;AAG5B;AAEAjB,OAAOmB,OAAO;;;;AC7Bd,IAAMC,SAAwB,MAAA;AAC5B,QAAM,EACJC,OAAO,IACPC,IACAC,eAAc,IACZC,UAAAA;AAMJ,QAAM,EACJC,MAAM,EAAEC,QAAO,EAAE,IACfC,kBAAkBN,IAAAA;AACtB,QAAM,EAAEO,cAAa,IAAKC,QAAAA;AAE1B,MACE,CAACC,OAAOC,OAAOC,QACf,EAACN,mCAASO,oBACTV,mBAAmB,kBAAkB,CAACD,MACvCA,OAAO,UACP;AACA,WAAO;EACT;AAEA,SAAO;IACLY,OAAON,cAAc;MACnBN,IAAI;MACJa,gBAAgB;IAClB,CAAA;IACAC,aACEC,2BAACC,GAAAA;MAAKC,WAAU;MAASC,KAAK;MAAGC,YAAW;MAAUC,OAAM;;YAC1DC,0BAACC,gBAAAA,CAAAA,CAAAA;YACDD,0BAACE,aAAAA,CAAAA,CAAAA;;;EAGP;AACF;AAGAzB,OAAM0B,OAAO;;;;;ICzCAC,0BAA0B;EACrC;IACEC,MAAMC;IACNC,WAAW;MACTC,MAAM;MACNC,UAAU;MACVC,QAAQ;IACV;IACAC,OAAO;MACLC,IAAI;MACJC,gBAAgB;IAClB;IACAC,YAAY;IACZC,UAAU;IACVC,WAAW;MACTX,MAAM;MACNG,MAAM;IACR;IACAS,eAAe,CAACC,cAAUC,0BAACC,aAAAA;MAAa,GAAGF;;EAC7C;EACA;IACEb,MAAMgB;IACNd,WAAW;MACTC,MAAM;MACNE,QAAQ;MACRD,UAAU;IACZ;IACAE,OAAO;MACLC,IAAI;MACJC,gBAAgB;IAClB;IACAC,YAAY;IACZC,UAAU;IACVC,WAAW;MACTX,MAAM;MACNG,MAAM;IACR;IACAS,eAAe,CAACC,cAAUC,0BAACG,gBAAAA;MAAgB,GAAGJ;;EAChD;;;;ACnCF,IAAMK,wBAAuB,CAAC,EAAEC,kBAAkBC,OAAM,MAA4B;AAClF,QAAM,EAAEC,QAAO,IAAKD;AAEpB,MAAI,CAACC,QAAQC,iBAAiB;AAC5B,WAAO;MAAEH;MAAkBC;IAAO;EACpC;AAEA,SAAO;IACLD,kBAAkB;MAAIA,GAAAA;MAAqBI,GAAAA;IAAwB;IACnEH;EACF;AACF;;;ACrBMI,IAAAA,4BAA2B,CAACC,MAAmBC,cAAAA;AAInD,SAAOC,OAAOC,KAAKH,IAAAA,EAAMI,OAAO,CAACC,KAAKC,YAAAA;AACpCD,QAAI,GAAGJ,SAAAA,IAAYK,OAAAA,EAAS,IAAIN,KAAKM,OAAQ;AAC7C,WAAOD;EACT,GAAG,CAAA,CAAC;AACN;;;;;;;;;;;;;;;;;ACCA,IAAME,SAAkC;EACtCC,SAASC,KAAc;;AACrB,QAAIC,OAAOC,OAAOC,SAASC,UAAUC,UAAa,GAAA;AAChDL,UAAIM,aAAa,kDAAkDC,qBAAAA;AAEnE,YAAMC,2BAA2BR,IAAIS,UAAU,iBAAA,EAAmBC;AAElE,UACE,0BAA0BF,4BAC1B,OAAOA,yBAAyBG,yBAAyB,YACzD;AACAH,iCAAyBG,qBAAqB;UAACC;QAAM,CAAA;MACvD;AAEAZ,UAAIa,gBAAgB,UAAU;QAC5BC,IAAIC;QACJC,IAAI;QACJC,WAAW;UACTH,IAAI,GAAGC,UAAU;UACjBG,gBAAgB;QAClB;QACAC,aAAa;QACbC,aAAa,CAAA;QACb,MAAMC,YAAAA;AACJ,gBAAM,EAAEC,OAAM,IAAK,MAAM,OAAO,sBAAA;AAChC,iBAAO;YAAEC,SAASD;UAAO;QAC3B;MACF,CAAA;AAGAtB,UAAIwB,QAAQzB,SAAS,CAACyB,YAA0B;QAC3CA,GAAAA;QACH;UACEC,MAAMC;UACNC,OAAO;YACLb,IAAI,GAAGC,UAAU;YACjBG,gBAAgB;UAClB;UACAU,WAAW,YAAA;AACT,kBAAM,EAAEC,eAAc,IAAK,MAAM,OAAO,uBAAA;AACxC,mBAAOA;UACT;UACAC,UAAUf;UACVD,IAAI;UACJM,aAAa;YAAC;cAAEW,QAAQ;YAAwC;UAAE;QACpE;MACD,CAAA;IACH,WAAW,CAAC9B,OAAOC,OAAOC,SAASC,UAAUC,UAAeJ,OAAAA,kBAAOC,WAAPD,mBAAe+B,UAAf/B,mBAAsBgC,YAAW;AAC3FjC,UAAIa,gBAAgB,UAAU;QAC5BC,IAAIC;QACJC,IAAI;QACJC,WAAW;UACTH,IAAI,GAAGC,UAAU;UACjBG,gBAAgB;QAClB;QACAC,aAAa;QACbC,aAAa,CAAA;QACb,MAAMC,YAAAA;AACJ,gBAAM,EAAEa,wBAAuB,IAAK,MAAM,OAAO,yCAAA;AACjD,iBAAO;YAAEX,SAASW;UAAwB;QAC5C;MACF,CAAA;IACF;EACF;EACAC,UAAUnC,KAAc;AACtB,QAAIC,OAAOC,OAAOC,SAASC,UAAUC,UAAa,GAAA;AAChDL,UAAIS,UAAU,iBAAA,EAAmB2B,gBAAgB,WAAW,WAAW;QACrEC,MAAM;QACNhB,WAAWiB;MACb,CAAA;IACF;EACF;EACA,MAAMC,cAAc,EAAEC,QAAO,GAAyB;AACpD,UAAMC,gBAAgB,MAAMC,QAAQC,IAClCH,QAAQI,IAAI,CAACC,WAAAA;AACX,aAAOC,mCAAO,kBAAkBD,MAAO,OAAM,EAC1CE,KAAK,CAAC,EAAExB,SAASyB,KAAI,MAAE;AACtB,eAAO;UACLA,MAAMC,0BAAyBD,MAAMjC,UAAAA;UACrC8B;QACF;MACF,CAAA,EACCK,MAAM,MAAA;AACL,eAAO;UACLF,MAAM,CAAA;UACNH;QACF;MACF,CAAA;IACJ,CAAA,CAAA;AAGF,WAAOH,QAAQS,QAAQV,aAAAA;EACzB;AACF;;;AC/FA,IAAMW,SAAS,CAACC,WAA+B,EAAEC,SAAS,GAAGC,SAA2B,MAAA;AACtF,SAAOC,YAAYH,WAAW;IAC5B,GAAGE;IACHD,SAAS;MACP,mBAAmBG;MACnB,wBAAwBC;MACxBC;MACAC,QAAAA;MACAC,iBAAAA;MACAC,MAAAA;MACAC,iBAAAA;MACA,GAAGT;IACL;EACF,CAAA;AACF;",
  "names": ["cloneDeep", "index", "index", "index", "index", "index", "Map", "Map", "index", "index", "index", "require_get", "get", "index", "index", "index", "count", "index", "index", "index", "index", "Set", "index", "Set", "index", "union", "index", "has", "Map", "index", "index", "index", "index", "index", "Promise", "Map", "Promise", "Set", "require_baseClone", "key", "index", "index", "omit", "reducers", "formModalReducer", "dataManagerProviderReducer", "formsAPI", "components", "inputs", "add", "id", "component", "types", "attribute", "contentType", "validators", "form", "advanced", "base", "contentTypeSchemaMutations", "addContentTypeSchemaMutation", "cb", "push", "extendContentType", "validator", "extendFields", "fields", "formType", "forEach", "field", "getAdvancedForm", "target", "props", "sectionsToAdd", "get", "reduce", "acc", "current", "sections", "makeCustomFieldValidator", "attributeShape", "validatorArgs", "shape", "options", "object", "makeValidator", "initShape", "args", "pluginOptionsShape", "pluginOptionShape", "pluginOptions", "mutateContentTypeSchema", "data", "initialData", "enhancedData", "cloneDeep", "refData", "prefixPluginTranslations", "trad", "pluginId", "Object", "keys", "reduce", "acc", "current", "index", "register", "app", "addReducers", "reducers", "addMenuLink", "to", "pluginId", "icon", "Layout", "intlLabel", "id", "defaultMessage", "permissions", "PERMISSIONS", "main", "Component", "position", "registerPlugin", "name", "apis", "forms", "formsAPI", "bootstrap", "registerTrads", "locales", "importedTrads", "Promise", "all", "map", "locale", "then", "default", "data", "prefixPluginTranslations", "catch", "resolve", "prefixPluginTranslations", "trad", "pluginId", "Object", "keys", "reduce", "acc", "current", "admin", "register", "app", "createSettingSection", "id", "intlLabel", "defaultMessage", "to", "Component", "then", "mod", "default", "ProtectedSettingsPage", "permissions", "PERMISSIONS", "settings", "registerPlugin", "name", "bootstrap", "registerTrads", "locales", "importedTrads", "Promise", "all", "map", "locale", "__variableDynamicImportRuntime1__", "data", "prefixPluginTranslations", "catch", "resolve", "useModalQueryParams", "initialState", "trackUsage", "useTracking", "config", "data", "useConfig", "queryObject", "setQueryObject", "useState", "page", "sort", "pageSize", "filters", "$and", "React", "useEffect", "prevQuery", "handleChangeFilters", "nextFilters", "location", "filter", "Object", "keys", "length", "prev", "handleChangePageSize", "parseInt", "handeChangePage", "handleChangeSort", "handleChangeSearch", "_q", "newState", "forEach", "key", "includes", "handleChangeFolder", "folder", "folderPath", "rawQuery", "stringify", "encode", "onChangeFilters", "onChangeFolder", "onChangePage", "onChangePageSize", "onChangeSort", "onChangeSearch", "toSingularTypes", "types", "map", "type", "substring", "length", "getAllowedFiles", "pluralTypes", "files", "singularTypes", "toSingularTypes", "allowedFiles", "filter", "file", "fileType", "mime", "split", "includes", "move", "array", "oldIndex", "newIndex", "length", "splice", "moveElement", "index", "offset", "getBreadcrumbDataCM", "folder", "data", "id", "label", "getTrad", "defaultMessage", "parent", "push", "name", "path", "Filters", "appliedFilters", "onChangeFilters", "open", "setOpen", "useState", "formatMessage", "useIntl", "_jsxs", "Popover", "Root", "onOpenChange", "_jsx", "Trigger", "Button", "variant", "startIcon", "Filter", "size", "id", "defaultMessage", "FilterPopover", "onToggle", "prev", "displayedFilters", "filters", "onSubmit", "FilterList", "filtersSchema", "onRemoveFilter", "PageSize", "onChangePageSize", "pageSize", "formatMessage", "useIntl", "handleChange", "value", "Number", "_jsxs", "Flex", "SingleSelect", "size", "aria-label", "id", "defaultMessage", "onChange", "toString", "_jsx", "SingleSelectOption", "Box", "paddingLeft", "Typography", "textColor", "tag", "htmlFor", "PaginationContext", "createContext", "activePage", "pageCount", "usePagination", "useContext", "Pagination", "children", "label", "paginationValue", "useMemo", "_jsx", "Provider", "value", "Box", "tag", "aria-label", "Flex", "gap", "PaginationText", "styled", "Typography", "linkWrapperStyles", "css", "theme", "spaces", "borderRadius", "$active", "shadows", "filterShadow", "undefined", "props", "colors", "primary600", "LinkWrapperButton", "button", "LinkWrapperDiv", "div", "defaultProps", "type", "PageLinkWrapper", "primary700", "neutral800", "neutral0", "ActionLinkWrapper", "p", "neutral300", "neutral600", "neutral700", "DotsWrapper", "PreviousLink", "children", "activePage", "usePagination", "disabled", "_jsx", "li", "_jsxs", "aria-disabled", "tabIndex", "VisuallyHidden", "ChevronLeft", "aria-hidden", "NextLink", "pageCount", "ChevronRight", "PageLink", "number", "isActive", "variant", "fontWeight", "Dots", "as", "small", "PaginationFooter", "onChangePage", "pagination", "formatMessage", "useIntl", "previousActivePage", "nextActivePage", "firstLinks", "onClick", "id", "defaultMessage", "page", "links", "Array", "from", "length", "map", "_", "i", "Pagination", "firstLinksToCreate", "lastLinks", "lastLinksToCreate", "middleLinks", "push", "forEach", "unshift", "includes", "middleLinksToCreate", "shouldShowDotsAfterFirstLink", "shouldShowMiddleDots", "beforeDotsLinksLength", "afterDotsLength", "SearchAsset", "onChangeSearch", "queryValue", "formatMessage", "useIntl", "trackUsage", "useTracking", "isOpen", "setIsOpen", "useState", "value", "setValue", "wrapperRef", "useRef", "React", "useLayoutEffect", "setTimeout", "current", "querySelector", "focus", "handleToggle", "prev", "handleClear", "handleSubmit", "e", "preventDefault", "stopPropagation", "location", "_jsx", "div", "ref", "SearchForm", "onSubmit", "Searchbar", "name", "onClear", "onChange", "target", "clearLabel", "id", "getTrad", "defaultMessage", "aria-label", "size", "placeholder", "IconButton", "label", "onClick", "Search", "isSelectable", "allowedTypes", "mime", "fileType", "split", "includes", "TypographyMaxWidth", "styled", "Typography", "ActionContainer", "Box", "theme", "colors", "neutral500", "BrowseStep", "allowedTypes", "assets", "rawAssets", "canCreate", "canRead", "folders", "multiple", "onAddAsset", "onChangeFilters", "onChangePage", "onChangePageSize", "onChangeSearch", "onChangeSort", "onChangeFolder", "onEditAsset", "onEditFolder", "onSelectAllAsset", "onSelectAsset", "pagination", "queryObject", "selectedAssets", "formatMessage", "useIntl", "view", "setView", "usePersistentState", "localStorageKeys", "modalView", "viewOptions", "GRID", "isGridView", "data", "currentFolder", "isLoading", "isCurrentFolderLoading", "useFolder", "folder", "enabled", "singularTypes", "toSingularTypes", "map", "asset", "isSelectable", "mime", "type", "breadcrumbs", "getBreadcrumbDataCM", "undefined", "allAllowedAsset", "getAllowedFiles", "areAllAssetSelected", "length", "every", "findIndex", "currAsset", "id", "hasSomeAssetSelected", "some", "isSearching", "_q", "isFiltering", "filters", "$and", "isSearchingOrFiltering", "assetCount", "folderCount", "handleClickFolderCard", "args", "_jsxs", "_jsx", "paddingBottom", "Flex", "justifyContent", "alignItems", "gap", "wrap", "paddingLeft", "paddingRight", "background", "hasRadius", "borderColor", "height", "Checkbox", "aria-label", "getTrad", "defaultMessage", "checked", "onCheckedChange", "SortPicker", "value", "sort", "Filters", "appliedFilters", "marginLeft", "shrink", "paddingTop", "IconButton", "label", "onClick", "LIST", "List", "GridIcon", "SearchAsset", "queryValue", "Breadcrumbs", "currentFolderId", "EmptyAssets", "size", "count", "action", "Button", "variant", "startIcon", "Plus", "content", "TableList", "indeterminate", "isFolderSelectionAllowed", "onSelectOne", "onSelectAll", "rows", "selected", "shouldDisableBulkSelect", "sortQuery", "_Fragment", "FolderGridList", "title", "Grid", "Item", "col", "m", "s", "xs", "direction", "FolderCard", "ariaLabel", "name", "path", "cardActions", "withTooltip", "Pencil", "FolderCardBody", "FolderCardBodyAction", "tag", "maxWidth", "fontWeight", "ellipsis", "textColor", "VisuallyHidden", "children", "filesCount", "files", "Divider", "AssetGridList", "page", "pageCount", "position", "zIndex", "overflow", "PageSize", "pageSize", "PaginationFooter", "activePage", "DialogFooter", "onClose", "onValidate", "formatMessage", "useIntl", "_jsxs", "Modal", "Footer", "_jsx", "Button", "onClick", "variant", "id", "defaultMessage", "SelectedStep", "selectedAssets", "onSelectAsset", "onReorderAsset", "formatMessage", "useIntl", "_jsxs", "Flex", "direction", "alignItems", "gap", "_jsx", "Typography", "variant", "fontWeight", "textColor", "id", "getTrad", "defaultMessage", "number", "length", "AssetGridList", "size", "assets", "LoadingBody", "styled", "Flex", "AssetContent", "allowedTypes", "folderId", "onClose", "onAddAsset", "onAddFolder", "onChangeFolder", "onValidate", "multiple", "initiallySelectedAssets", "trackedLocation", "assetToEdit", "setAssetToEdit", "useState", "undefined", "folderToEdit", "setFolderToEdit", "formatMessage", "useIntl", "canRead", "canCreate", "isLoading", "isLoadingPermissions", "canUpdate", "canCopyLink", "canDownload", "useMediaLibraryPermissions", "queryObject", "onChangeFilters", "onChangePage", "onChangePageSize", "onChangeSort", "onChangeSearch", "onChangeFolderParam", "useModalQueryParams", "folder", "data", "pagination", "results", "assets", "isLoadingAssets", "error", "errorAssets", "useAssets", "skipWhen", "query", "folders", "isLoadingFolders", "errorFolders", "useFolders", "enabled", "containsAssetFilter", "page", "selectedAssets", "selectOne", "selectOnly", "setSelections", "selectMultiple", "deselectMultiple", "useSelectionState", "handleSelectAllAssets", "allowedAssets", "getAllowedFiles", "alreadySelected", "filter", "asset", "findIndex", "selectedAsset", "id", "length", "handleSelectAsset", "hasError", "activeTab", "setActiveTab", "_jsxs", "_Fragment", "_jsx", "Modal", "Header", "Title", "getTrad", "defaultMessage", "justifyContent", "paddingTop", "paddingBottom", "Loader", "DialogFooter", "Page", "Error", "NoPermissions", "EditAssetContent", "EditFolderContent", "location", "parentFolderId", "handleMoveItem", "hoverIndex", "destIndex", "offset", "orderedAssetsClone", "slice", "nextAssets", "moveElement", "handleFolderChange", "folderPath", "TabsRoot", "variant", "value", "onValueChange", "paddingLeft", "paddingRight", "Tabs", "List", "Trigger", "Badge", "marginLeft", "gap", "Button", "onClick", "Divider", "ScrollArea", "Body", "Content", "BrowseStep", "onSelectAsset", "onSelectAllAsset", "onEditAsset", "onEditFolder", "filters", "sort", "SelectedStep", "onReorderAsset", "AssetDialog", "open", "restProps", "Root", "onOpenChange", "STEPS", "AssetSelect", "AssetUpload", "FolderCreate", "MediaLibraryDialog", "onClose", "onSelectAssets", "allowedTypes", "multiple", "step", "setStep", "useState", "folderId", "setFolderId", "_jsx", "AssetDialog", "open", "onValidate", "onAddAsset", "onAddFolder", "onChangeFolder", "EditFolderDialog", "parentFolderId", "UploadAssetDialog", "DocAsset", "styled", "Flex", "VideoPreviewWrapper", "Box", "AudioPreviewWrapper", "CarouselAsset", "asset", "mime", "includes", "AssetType", "Video", "_jsx", "height", "VideoPreview", "url", "createAssetUrl", "alt", "alternativeText", "name", "Audio", "AudioPreview", "Image", "assetUrl", "cacheBustedUrl", "isUrlSigned", "updatedAt", "tag", "maxHeight", "maxWidth", "src", "IconComponent", "getFileIconComponent", "ext", "width", "justifyContent", "hasRadius", "aria-label", "CarouselAssetActions", "asset", "onDeleteAsset", "onAddAsset", "onEditAsset", "formatMessage", "useIntl", "_jsxs", "CarouselActions", "_jsx", "IconButton", "label", "id", "getTrad", "defaultMessage", "onClick", "Plus", "CopyLinkButton", "url", "prefixFileUrlWithBackendUrl", "Trash", "Pencil", "TextAlignTypography", "styled", "Typography", "EmptyStateAsset", "disabled", "onClick", "onDropAsset", "formatMessage", "useIntl", "dragOver", "setDragOver", "useState", "handleDragEnter", "e", "preventDefault", "handleDragLeave", "currentTarget", "contains", "relatedTarget", "handleDragOver", "handleDrop", "dataTransfer", "files", "assets", "i", "length", "file", "item", "asset", "rawFileToAsset", "AssetSource", "Computer", "push", "_jsxs", "Flex", "borderStyle", "undefined", "borderWidth", "borderColor", "direction", "justifyContent", "alignItems", "height", "width", "tag", "type", "onDragEnter", "onDragLeave", "onDragOver", "onDrop", "gap", "style", "cursor", "_jsx", "PicturePlus", "aria-hidden", "fill", "variant", "fontWeight", "textColor", "textAlign", "id", "getTrad", "defaultMessage", "CarouselAssets", "forwardRef", "assets", "disabled", "error", "hint", "label", "labelAction", "onAddAsset", "onDeleteAsset", "onDeleteAssetFromMediaLibrary", "onDropAsset", "onEditAsset", "onNext", "onPrevious", "onDoubleClickAsset", "required", "selectedAssetIndex", "trackedLocation", "forwardedRef", "formatMessage", "useIntl", "isEditingAsset", "setIsEditingAsset", "useState", "currentAsset", "canEditMedia", "_jsxs", "_Fragment", "_jsx", "CarouselInput", "ref", "secondaryLabel", "name", "selectedSlide", "previousLabel", "id", "getTrad", "defaultMessage", "nextLabel", "actions", "CarouselAssetActions", "asset", "undefined", "length", "CarouselSlide", "n", "m", "EmptyStateAsset", "onClick", "map", "index", "onDoubleClick", "event", "aria-selected", "CarouselAsset", "EditAssetDialog", "open", "onClose", "editedAsset", "canUpdate", "canCopyLink", "canDownload", "STEPS", "AssetSelect", "AssetUpload", "FolderCreate", "MediaLibraryInput", "forwardRef", "attribute", "allowedTypes", "multiple", "label", "hint", "disabled", "labelAction", "undefined", "name", "required", "forwardedRef", "formatMessage", "useIntl", "onChange", "value", "error", "useField", "uploadedFiles", "setUploadedFiles", "useState", "step", "setStep", "selectedIndex", "setSelectedIndex", "droppedAssets", "setDroppedAssets", "folderId", "setFolderId", "toggleNotification", "useNotification", "React", "useEffect", "selectedAssets", "Array", "isArray", "handleValidation", "nextSelectedAssets", "handleDeleteAssetFromMediaLibrary", "nextValue", "filter", "_", "assetIndex", "length", "handleDeleteAsset", "asset", "prevAsset", "id", "handleAssetEdit", "map", "validateAssetsTypes", "assets", "callback", "allowedAssets", "getAllowedFiles", "type", "timeout", "message", "getTrad", "defaultMessage", "fileTypes", "join", "handleAssetDrop", "handleNext", "current", "handlePrevious", "handleFilesUploadSucceeded", "prev", "initiallySelectedAssets", "allowedUploadedFiles", "handleDoubleClickAsset", "_jsxs", "_Fragment", "_jsx", "CarouselAssets", "ref", "onDeleteAsset", "onDeleteAssetFromMediaLibrary", "onAddAsset", "onDropAsset", "onEditAsset", "onNext", "onPrevious", "onDoubleClickAsset", "selectedAssetIndex", "trackedLocation", "AssetDialog", "onClose", "open", "onValidate", "onAddFolder", "onChangeFolder", "folder", "UploadAssetDialog", "initialAssetsToAdd", "addUploadedFiles", "EditFolderDialog", "parentFolderId", "React", "React", "React", "import_jsx_runtime", "node", "index", "handleAndDispatchPointerDownOutsideEvent", "name", "React", "import_jsx_runtime", "handleFocusIn", "handleFocusOut", "handleMutations", "container", "index", "React", "import_jsx_runtime", "ReactDOM", "React2", "React", "node", "React", "React", "React", "React", "name", "import_jsx_runtime", "PORTAL_NAME", "Portal", "useTypedDispatch", "useDispatch", "useTypedSelector", "useSelector", "HeaderStatusMessage", "title", "subtitle", "_jsxs", "Flex", "direction", "alignItems", "paddingLeft", "_jsx", "Title", "Typography", "variant", "Description", "textColor", "HeaderStatusIcon", "styled", "theme", "spaces", "borderRadius", "HeaderStatusWrapper", "HeaderStatus", "status", "progress", "totalFiles", "formatMessage", "useIntl", "background", "Cross", "fill", "id", "getTranslationKey", "defaultMessage", "Check", "count", "MinusCircle", "progressPercentage", "Math", "round", "Upload", "total", "percentage", "HeaderIconButton", "IconButton", "ChevronWrapper", "span", "$isMinimized", "HEADER_COLOR_MAP", "uploading", "canceled", "success", "error", "DialogHeader", "handleClose", "isMinimized", "files", "uploadId", "useTypedSelector", "state", "uploadProgress", "dispatch", "useTypedDispatch", "retryCancelledFiles", "useRetryCancelledFilesStreamMutation", "isComplete", "isAllUploaded", "every", "f", "isAllErrored", "length", "hasCancelledFiles", "some", "isSuccess", "handleCancel", "abortUpload", "cancelUpload", "handleRetry", "unwrap", "handleToggleMinimize", "toggleMinimize", "justifyContent", "margin", "hasRadius", "gap", "TextButton", "onClick", "fontWeight", "label", "ChevronDown", "indeterminate", "keyframes", "IndeterminateBar", "div", "colors", "neutral200", "primary700", "FileRow", "icon", "fileName", "children", "width", "ellipsis", "FileRowRenderer", "file", "isError", "isCurrentFile", "isCompleted", "isCancelled", "ArrowsCounterClockwise", "name", "CrossCircle", "CheckCircle", "DialogContent", "Content", "neutral0", "shadows", "popupShadow", "neutral150", "CompletedFilesList", "AnimatedContent", "$isVisible", "UploadProgressDialog", "isVisible", "currentFile", "find", "completedFiles", "filter", "sort", "a", "b", "priority", "cancelled", "complete", "pending", "closeUploadProgress", "Root", "open", "modal", "Portal", "data-testid", "Box", "paddingTop", "paddingBottom", "paddingRight", "map", "index", "prefixPluginTranslations", "trad", "pluginId", "TypeError", "Object", "keys", "reduce", "acc", "current", "name", "pluginPkg", "strapi", "admin", "register", "app", "addMenuLink", "to", "pluginId", "icon", "Images", "intlLabel", "id", "defaultMessage", "permissions", "PERMISSIONS", "main", "Component", "then", "mod", "default", "Upload", "position", "window", "future", "isEnabled", "addReducers", "uploadProgress", "uploadProgressReducer", "addComponents", "UploadProgressDialog", "WarningCircle", "UnstableMediaLibrary", "addSettingsLink", "getTrad", "ProtectedSettingsPage", "settings", "addFields", "type", "MediaLibraryInput", "MediaLibraryDialog", "registerPlugin", "registerTrads", "locales", "importedTrads", "Promise", "all", "map", "locale", "data", "prefixPluginTranslations", "catch", "resolve", "TextAlignTypography", "styled", "Typography", "CheckboxConfirmation", "description", "isCreating", "intlLabel", "name", "onChange", "value", "formatMessage", "useIntl", "isOpen", "setIsOpen", "useState", "handleChange", "target", "type", "handleConfirm", "label", "id", "defaultMessage", "values", "hint", "_jsxs", "Dialog", "Root", "open", "onOpenChange", "Field", "_jsx", "Checkbox", "onCheckedChange", "checked", "Hint", "Content", "Header", "getTranslation", "Body", "icon", "WarningCircle", "Flex", "direction", "alignItems", "gap", "justifyContent", "fontWeight", "Footer", "Cancel", "Button", "variant", "Action", "onClick", "SINGLE_TYPES", "aiLocalizationJobsApi", "i18nApi", "injectEndpoints", "endpoints", "builder", "getAILocalizationJobsByDocument", "query", "documentId", "collectionType", "model", "url", "method", "providesTags", "result", "error", "type", "id", "useGetAILocalizationJobsByDocumentQuery", "useAILocalizationJobsPolling", "documentId", "model", "collectionType", "toggleNotification", "useNotification", "formatMessage", "useIntl", "dispatch", "useDispatch", "previousJobStatus", "setPreviousJobStatus", "useState", "data", "initialJobData", "useGetAILocalizationJobsByDocumentQuery", "shouldPoll", "status", "jobData", "skip", "pollingInterval", "job", "currentJobStatus", "invalidateDocument", "useCallback", "adminApi", "util", "invalidateTags", "type", "id", "React", "useEffect", "message", "getTranslation", "defaultMessage", "LOCALIZED_FIELDS", "doesPluginOptionsHaveI18nLocalized", "opts", "has", "capitalize", "str", "charAt", "toUpperCase", "slice", "useI18n", "params", "useParams", "userPermissions", "useAuth", "state", "permissions", "actions", "useMemo", "filter", "permission", "subject", "slug", "reduce", "acc", "actionShorthand", "action", "split", "slice", "permissionKey", "capitalize", "union", "properties", "locales", "canCreate", "canRead", "canUpdate", "canDelete", "canPublish", "schema", "useDocument", "collectionType", "model", "skip", "doesPluginOptionsHaveI18nLocalized", "pluginOptions", "hasI18n", "i18n", "localized", "relationsApi", "i18nApi", "injectEndpoints", "overrideExisting", "endpoints", "builder", "getManyDraftRelationCount", "query", "model", "params", "url", "method", "config", "transformResponse", "response", "data", "useGetManyDraftRelationCountQuery", "cleanData", "data", "schema", "components", "cleanedData", "removeFields", "cleanedDataWithoutPasswordAndRelation", "recursiveRemoveFieldTypes", "fields", "Object", "keys", "reduce", "acc", "current", "includes", "attribute", "attributes", "type", "undefined", "map", "componentValue", "index", "id", "_", "rest", "__component", "__temp_key__", "repeatable", "component", "compoData", "isErrorMessageDescriptor", "object", "EntryValidationText", "status", "validationErrors", "action", "formatMessage", "useIntl", "getErrorStr", "key", "value", "Array", "isArray", "map", "v", "join", "Object", "entries", "k", "validationErrorsMessages", "_jsxs", "Flex", "gap", "_jsx", "CrossCircle", "fill", "Tooltip", "label", "Typography", "maxWidth", "textColor", "variant", "fontWeight", "ellipsis", "getStatusMessage", "icon", "CheckCircle", "text", "id", "defaultMessage", "ArrowsCounterClockwise", "BoldChunk", "chunks", "BulkLocaleActionModal", "headers", "rows", "localesMetadata", "selectedRows", "useTable", "state", "getFormattedCountMessage", "currentStatusByLocale", "reduce", "acc", "locale", "localesWithErrors", "keys", "publishedCount", "filter", "length", "draftCount", "includes", "withErrorsCount", "messageId", "b", "Modal", "Body", "Box", "marginTop", "Table", "Content", "Head", "HeaderCheckboxCell", "head", "HeaderCell", "name", "index", "error", "statusVariant", "Row", "CheckboxCell", "aria-label", "Cell", "find", "localeEntry", "code", "display", "Status", "paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "size", "tag", "capitalize", "IconButton", "Link", "to", "search", "stringify", "plugins", "i18n", "getTranslation", "Pencil", "statusVariants", "draft", "published", "modified", "LocaleOption", "isDraftAndPublishEnabled", "locale", "status", "entryExists", "formatMessage", "useIntl", "id", "getTranslation", "defaultMessage", "bold", "_jsx", "b", "name", "_jsxs", "Flex", "width", "gap", "justifyContent", "Typography", "Status", "display", "paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "size", "variant", "tag", "fontWeight", "capitalize", "LocaleOptionStartIcon", "entryWithLocaleExists", "translationStatus", "index", "isAiAvailable", "useAIAvailability", "Plus", "WarningCircle", "fill", "LocalePickerAction", "document", "meta", "model", "collectionType", "documentId", "query", "setQuery", "useQueryParams", "hasI18n", "canCreate", "canRead", "useI18n", "data", "locales", "useGetLocalesQuery", "currentDesiredLocale", "plugins", "i18n", "schema", "useDocument", "params", "jobData", "useGetAILocalizationJobsByDocumentQuery", "settings", "useGetSettingsQuery", "setValues", "useForm", "state", "handleSelect", "useCallback", "value", "nonTranslatedFields", "useMemo", "attributes", "Object", "keys", "filter", "field", "attribute", "_b", "_a", "pluginOptions", "localized", "sourceLocaleData", "Array", "isArray", "availableLocales", "defaultLocale", "find", "isDefault", "existingLocales", "map", "loc", "sourceLocaleCode", "includes", "code", "sourceLocaleDoc", "React", "useEffect", "length", "dataToSet", "reduce", "acc", "doesLocaleExist", "currentLocale", "undefined", "documentLocalizations", "localizations", "allLocalizations", "allCurrentLocales", "getDocumentStatus", "displayedLocales", "localesSortingDefaultFirst", "sort", "a", "label", "options", "some", "doc", "currentLocaleDoc", "permissionsToCheck", "aiLocalizations", "_render", "Fragment", "SingleSelectOption", "disabled", "startIcon", "draftAndPublish", "Box", "customizeContent", "onSelect", "docStatus", "statuses", "availableStatus", "publishedAt", "AITranslationStatusIcon", "styled", "theme", "spaces", "$isAISettingEnabled", "colors", "neutral150", "neutral300", "SpinningLoader", "Loader", "AITranslationStatusAction", "isAIAvailable", "isAISettingEnabled", "useAILocalizationJobsPolling", "statusVariant", "_status", "message", "height", "alignItems", "aria-label", "Boolean", "Sparkle", "tooltip", "direction", "padding", "enabled", "Link", "fontSize", "NavLink", "to", "style", "alignSelf", "textAlign", "FillFromAnotherLocaleAction", "localeSelected", "setLocaleSelected", "useState", "getDocument", "useDocumentActions", "components", "l", "fillFromLocale", "onClose", "response", "cleanedData", "cleanData", "type", "icon", "Earth", "dialog", "title", "content", "_Fragment", "Dialog", "Body", "Field", "Root", "Label", "SingleSelect", "placeholder", "onChange", "Footer", "Button", "flex", "onClick", "DeleteLocaleAction", "navigate", "useNavigate", "toggleNotification", "useNotification", "delete", "deleteAction", "isLoading", "canDelete", "position", "StyledTrash", "loading", "onConfirm", "unableToDelete", "console", "error", "res", "pathname", "replace", "BulkLocaleAction", "action", "buildValidParams", "isOnPublishedTab", "canPublish", "_unstableFormatAPIError", "formatAPIError", "useAPIErrorHandler", "selectedRows", "setSelectedRows", "isDraftRelationConfirmationOpen", "setIsDraftRelationConfirmationOpen", "publishMany", "publishManyAction", "unpublishMany", "unpublishManyAction", "validate", "skip", "localesMetadata", "skipToken", "headers", "rows", "validationErrors", "metaLocalizations", "localesMap", "Map", "forEach", "set", "push", "from", "entries", "allDocuments", "errors", "errs", "validation", "isBulkPublish", "localesForAction", "selectedRow", "isValidLocale", "shouldAddLocale", "enableDraftRelationsCount", "draftRelationsCount", "isDraftRelationsLoading", "isDraftRelationsError", "useGetManyDraftRelationCountQuery", "documentIds", "publish", "unpublish", "handleAction", "onCancel", "hasPermission", "every", "ListPlus", "Cross", "Table", "row", "onSelectedRowsChange", "tableSelectedRows", "BulkLocaleActionModal", "footer", "Modal", "BulkLocalePublishAction", "props", "BulkLocaleUnpublishAction", "Trash", "Emphasis", "chunks", "_jsx", "Typography", "fontWeight", "textColor", "DeleteModalAdditionalInfo", "hasI18n", "useI18n", "formatMessage", "useIntl", "id", "getTranslation", "defaultMessage", "em", "PublishModalAdditionalInfo", "UnpublishModalAdditionalInfo", "LocalePicker", "formatMessage", "useIntl", "query", "setQuery", "useQueryParams", "hasI18n", "canRead", "canCreate", "useI18n", "data", "locales", "useGetLocalesQuery", "undefined", "skip", "handleChange", "useCallback", "code", "replace", "page", "plugins", "i18n", "locale", "React", "useEffect", "Array", "isArray", "currentDesiredLocale", "doesLocaleExist", "find", "loc", "defaultLocale", "isDefault", "sortedLocaleOptions", "useMemo", "displayedLocales", "filter", "includes", "sort", "a", "b", "name", "localeCompare", "map", "_jsx", "SingleSelectOption", "value", "id", "length", "SingleSelect", "size", "aria-label", "getTranslation", "defaultMessage", "onChange", "mutateEditViewHook", "layout", "options", "i18n", "localized", "decorateField", "field", "addLabelActionToField", "components", "Object", "entries", "reduce", "acc", "key", "componentLayout", "map", "row", "panel", "isFieldLocalized", "attribute", "contentTypeLocalized", "pluginOptions", "undefined", "title", "id", "getTranslation", "defaultMessage", "labelAction", "_jsx", "LabelAction", "formatMessage", "useIntl", "_jsxs", "Span", "tag", "VisuallyHidden", "Tooltip", "label", "Earth", "aria-hidden", "focusable", "styled", "Flex", "theme", "colors", "neutral500", "LocaleListCell", "locale", "currentLocale", "localizations", "documentId", "language", "formatMessage", "useIntl", "data", "locales", "useGetLocalesQuery", "navigate", "useNavigate", "query", "useQueryParams", "formatter", "useCollator", "sensitivity", "Array", "isArray", "availableLocales", "map", "loc", "localesForDocument", "reduce", "acc", "createdLocale", "find", "code", "name", "isDefault", "push", "toSorted", "a", "b", "compare", "getDisplayText", "displayedLocales", "slice", "remainingCount", "length", "baseText", "join", "id", "getTranslation", "defaultMessage", "count", "handleLocaleClick", "localeCode", "pathname", "search", "stringify", "plugins", "i18n", "_jsxs", "Menu", "Root", "_jsx", "Trigger", "Flex", "minWidth", "alignItems", "justifyContent", "fontWeight", "Typography", "textColor", "ellipsis", "marginRight", "Content", "Item", "onClick", "e", "stopPropagation", "addColumnToTableHook", "displayedHeaders", "layout", "options", "isFieldLocalized", "doesPluginOptionsHaveI18nLocalized", "i18n", "localized", "attribute", "type", "label", "id", "getTranslation", "defaultMessage", "searchable", "sortable", "name", "cellFormatter", "props", "_header", "meta", "_jsx", "LocaleListCell", "documentId", "addLocaleToReleasesHook", "displayedHeaders", "label", "id", "defaultMessage", "name", "hasI18nEnabled", "extendCTBAttributeInitialDataMiddleware", "getState", "next", "action", "enhanceAction", "uid", "store", "type", "get", "modelType", "hasi18nEnabled", "payload", "options", "pluginOptions", "i18n", "localized", "err", "includes", "attributeType", "isEditing", "extendCTBInitialDataMiddleware", "next", "action", "type", "modalType", "i18n", "localized", "pluginOptions", "data", "actionType", "localeMiddleware", "ctx", "next", "permissions", "match", "matchPath", "pathname", "search", "parse", "plugins", "i18n", "Array", "isArray", "locale", "revisedPermissions", "filter", "permission", "properties", "locales", "includes", "prefixPluginTranslations", "trad", "pluginId", "Object", "keys", "reduce", "acc", "current", "mutateCTBContentTypeSchema", "nextSchema", "prevSchema", "doesPluginOptionsHaveI18nLocalized", "pluginOptions", "isNextSchemaLocalized", "i18n", "localized", "isPrevSchemaLocalized", "attributes", "addLocalisationToFields", "omit", "disableAttributesLocalisation", "map", "currentAttribute", "LOCALIZED_FIELDS", "includes", "type", "index", "register", "app", "addMiddlewares", "extendCTBAttributeInitialDataMiddleware", "extendCTBInitialDataMiddleware", "i18nApi", "middleware", "addReducers", "reducerPath", "reducer", "addRBACMiddleware", "localeMiddleware", "registerPlugin", "id", "pluginId", "name", "bootstrap", "registerHook", "addColumnToTableHook", "mutateEditViewHook", "addLocaleToReleasesHook", "addSettingsLink", "intlLabel", "getTranslation", "defaultMessage", "to", "Component", "then", "mod", "default", "ProtectedSettingsPage", "permissions", "PERMISSIONS", "accessMain", "contentManager", "getPlugin", "apis", "addDocumentHeaderAction", "AITranslationStatusAction", "LocalePickerAction", "FillFromAnotherLocaleAction", "addDocumentAction", "actions", "indexOfDeleteAction", "findIndex", "action", "type", "splice", "DeleteLocaleAction", "BulkLocalePublishAction", "BulkLocaleUnpublishAction", "injectComponent", "LocalePicker", "PublishModalAdditionalInfo", "UnpublishModalAdditionalInfo", "DeleteModalAdditionalInfo", "ctbPlugin", "ctbFormsAPI", "forms", "addContentTypeSchemaMutation", "mutateCTBContentTypeSchema", "components", "add", "component", "CheckboxConfirmation", "extendContentType", "validator", "i18n", "object", "shape", "localized", "bool", "form", "advanced", "description", "extendFields", "LOCALIZED_FIELDS", "contentTypeSchema", "forTarget", "step", "hasI18nEnabled", "get", "registerTrads", "locales", "importedTrads", "Promise", "all", "map", "locale", "__variableDynamicImportRuntime1__", "data", "prefixPluginTranslations", "catch", "resolve", "RELEASE_ACTION_FORM_SCHEMA", "object", "shape", "type", "string", "oneOf", "required", "releaseId", "INITIAL_VALUES", "NoReleases", "formatMessage", "useIntl", "_jsx", "EmptyStateLayout", "icon", "EmptyDocuments", "width", "content", "id", "defaultMessage", "action", "LinkButton", "to", "pathname", "tag", "ReactRouterLink", "variant", "shadow", "AddActionToReleaseModal", "contentType", "documentId", "onInputChange", "values", "query", "useQueryParams", "locale", "plugins", "i18n", "response", "useGetReleasesForEntryQuery", "entryDocumentId", "hasEntryAttached", "releases", "data", "length", "_jsxs", "Flex", "direction", "alignItems", "gap", "Box", "paddingBottom", "Field", "Root", "Label", "SingleSelect", "placeholder", "name", "onChange", "value", "map", "release", "SingleSelectOption", "ReleaseActionOptions", "selected", "handleChange", "e", "target", "ReleaseActionModalForm", "document", "model", "collectionType", "allowedActions", "useRBAC", "PERMISSIONS", "canCreateAction", "createReleaseAction", "isLoading", "useCreateReleaseActionMutation", "toggleNotification", "useNotification", "formatAPIError", "useAPIErrorHandler", "handleSubmit", "onClose", "formik", "error", "isFetchError", "message", "useFormik", "initialValues", "validationSchema", "onSubmit", "Error", "body", "params", "edit", "options", "useDocumentLayout", "window", "strapi", "isEE", "draftAndPublish", "label", "PaperPlane", "disabled", "position", "dialog", "title", "setFieldValue", "footer", "Modal", "Footer", "Button", "onClick", "loading", "getContentPermissions", "subject", "permissions", "publish", "action", "id", "actionParameters", "properties", "conditions", "ReleaseAction", "documents", "model", "formatMessage", "useIntl", "toggleNotification", "useNotification", "formatAPIError", "useAPIErrorHandler", "query", "useQueryParams", "contentPermissions", "allowedActions", "canPublish", "useRBAC", "canCreate", "releasePermissions", "hasDraftAndPublish", "useContentManagerContext", "response", "useGetReleasesQuery", "releases", "data", "createManyReleaseActions", "isLoading", "useCreateManyReleaseActionsMutation", "documentIds", "map", "doc", "documentId", "handleSubmit", "values", "locale", "plugins", "i18n", "releaseActionEntries", "entryDocumentId", "type", "contentType", "body", "params", "releaseId", "notificationMessage", "defaultMessage", "entriesAlreadyInRelease", "meta", "totalEntries", "notification", "title", "message", "isFetchError", "error", "actionType", "variant", "label", "dialog", "content", "onClose", "_jsx", "Formik", "onSubmit", "validationSchema", "RELEASE_ACTION_FORM_SCHEMA", "initialValues", "INITIAL_VALUES", "setFieldValue", "_jsxs", "Form", "length", "NoReleases", "Modal", "Body", "Flex", "direction", "alignItems", "gap", "Box", "paddingBottom", "Field", "Root", "required", "Label", "SingleSelect", "placeholder", "onChange", "value", "release", "SingleSelectOption", "name", "ReleaseActionOptions", "selected", "handleChange", "e", "target", "Footer", "Button", "onClick", "disabled", "loading", "useReleasesList", "contentTypeUid", "documentId", "listViewData", "useTable", "state", "rows", "documentIds", "map", "entry", "query", "useQueryParams", "locale", "plugins", "i18n", "undefined", "response", "useGetMappedEntriesInReleasesQuery", "skip", "length", "mappedEntriesInReleases", "data", "addColumnToTableHook", "displayedHeaders", "layout", "options", "draftAndPublish", "searchable", "sortable", "name", "label", "id", "defaultMessage", "cellFormatter", "props", "_", "model", "_jsx", "ReleaseListCell", "releases", "formatMessage", "useIntl", "_jsxs", "Popover", "Root", "Trigger", "Button", "variant", "onClick", "e", "stopPropagation", "endIcon", "CaretDown", "width", "height", "Typography", "style", "maxWidth", "cursor", "textColor", "fontWeight", "number", "Content", "ul", "Box", "padding", "tag", "Link", "href", "isExternal", "Panel", "model", "document", "documentId", "collectionType", "query", "useQueryParams", "locale", "plugins", "i18n", "edit", "options", "useDocumentLayout", "formatMessage", "formatDate", "formatTime", "useIntl", "allowedActions", "useRBAC", "PERMISSIONS", "canRead", "canDeleteAction", "response", "useGetReleasesForEntryQuery", "contentType", "entryDocumentId", "hasEntryAttached", "skip", "releases", "data", "getReleaseColorVariant", "actionType", "shade", "window", "strapi", "isEE", "draftAndPublish", "length", "title", "id", "defaultMessage", "content", "_jsx", "Flex", "direction", "alignItems", "gap", "width", "map", "release", "_jsxs", "borderWidth", "borderStyle", "borderColor", "actions", "type", "overflow", "hasRadius", "Box", "paddingTop", "paddingBottom", "paddingLeft", "paddingRight", "background", "Typography", "fontSize", "variant", "textColor", "isPublish", "padding", "fontWeight", "name", "scheduledAt", "timezone", "date", "Date", "day", "month", "year", "timeZone", "time", "hourCycle", "offset", "getTimezoneOffset", "ReleaseActionMenu", "Root", "hasTriggerBorder", "EditReleaseItem", "releaseId", "DeleteReleaseActionItem", "actionId", "prefixPluginTranslations", "trad", "pluginId", "Object", "keys", "reduce", "acc", "current", "admin", "register", "app", "createHook", "window", "strapi", "features", "isEnabled", "addMenuLink", "to", "pluginId", "icon", "PaperPlane", "intlLabel", "id", "defaultMessage", "Component", "then", "mod", "default", "App", "permissions", "PERMISSIONS", "main", "position", "contentManagerPluginApis", "getPlugin", "apis", "addEditViewSidePanel", "ReleasesPanel", "addDocumentAction", "actions", "indexOfDeleteAction", "findIndex", "action", "type", "splice", "ReleaseActionModalForm", "addSettingsLink", "licenseOnly", "ProtectedReleasesSettingsPage", "addBulkAction", "deleteActionIndex", "ReleaseAction", "registerHook", "addColumnToTableHook", "widgets", "title", "PLUGIN_ID", "component", "UpcomingReleasesWidget", "link", "label", "href", "flags", "promoteEE", "PurchaseContentReleases", "registerTrads", "locales", "importedTrads", "Promise", "all", "map", "locale", "data", "prefixPluginTranslations", "catch", "resolve", "STAGE_ATTRIBUTE_NAME", "ASSIGNEE_ATTRIBUTE_NAME", "AssigneeSelect", "isCompact", "collectionType", "id", "slug", "model", "useParams", "permissions", "useTypedSelector", "state", "admin_app", "formatMessage", "useIntl", "_unstableFormatAPIError", "formatAPIError", "useAPIErrorHandler", "toggleNotification", "useNotification", "allowedActions", "canRead", "isLoading", "isLoadingPermissions", "useRBAC", "settings", "users", "query", "useQueryParams", "params", "useMemo", "buildValidParams", "data", "isLoadingUsers", "isError", "useAdminUsers", "undefined", "skip", "document", "unstable_useDocument", "documentId", "currentAssignee", "ASSIGNEE_ATTRIBUTE_NAME", "updateAssignee", "error", "isMutating", "useUpdateAssigneeMutation", "handleChange", "assigneeId", "res", "parseInt", "type", "message", "defaultMessage", "isDisabled", "length", "assigneeLabel", "assigneeClearLabel", "assigneePlaceholder", "_jsxs", "Field", "Root", "name", "_jsx", "VisuallyHidden", "Label", "Combobox", "clearLabel", "disabled", "value", "toString", "onChange", "onClear", "placeholder", "loading", "size", "map", "user", "ComboboxOption", "textValue", "getDisplayName", "Error", "WorkflowLimitModal", "open", "onOpenChange", "formatMessage", "useIntl", "_jsxs", "LimitsModal", "Root", "_jsx", "Title", "id", "defaultMessage", "Body", "StageLimitModal", "Select", "stages", "activeWorkflowStage", "isLoading", "props", "themeColorName", "getStageColorByHex", "color", "SingleSelect", "disabled", "length", "placeholder", "startIcon", "Flex", "tag", "height", "background", "borderColor", "undefined", "hasRadius", "shrink", "width", "marginRight", "customizeContent", "justifyContent", "alignItems", "Typography", "textColor", "ellipsis", "lineHeight", "name", "Loader", "small", "style", "display", "data-testid", "map", "SingleSelectOption", "value", "textValue", "StageSelect", "isCompact", "collectionType", "slug", "model", "useParams", "_unstableFormatAPIError", "formatAPIError", "useAPIErrorHandler", "toggleNotification", "useNotification", "query", "useQueryParams", "params", "useMemo", "buildValidParams", "document", "isLoadingDocument", "unstable_useDocument", "documentId", "skip", "data", "isLoadingStages", "useGetStagesQuery", "meta", "getFeature", "useLicenseLimits", "showLimitModal", "setShowLimitModal", "useState", "limits", "STAGE_ATTRIBUTE_NAME", "updateStage", "error", "useUpdateStageMutation", "handleChange", "stageId", "CHARGEBEE_WORKFLOW_ENTITLEMENT_NAME", "parseInt", "workflowCount", "CHARGEBEE_STAGES_PER_WORKFLOW_ENTITLEMENT_NAME", "res", "type", "message", "reviewStageLabel", "reviewStageHint", "_Fragment", "Tooltip", "label", "Field", "VisuallyHidden", "Label", "size", "onChange", "hint", "Hint", "Error", "Header", "slug", "id", "collectionType", "useParams", "edit", "options", "useDocumentLayout", "window", "strapi", "isEE", "reviewWorkflows", "_jsxs", "Flex", "gap", "_jsx", "AssigneeSelect", "isCompact", "StageSelect", "type", "Panel", "slug", "id", "collectionType", "useParams", "edit", "options", "useDocumentLayout", "formatMessage", "useIntl", "window", "strapi", "isEE", "reviewWorkflows", "title", "defaultMessage", "content", "_jsxs", "Flex", "direction", "gap", "alignItems", "width", "_jsx", "AssigneeSelect", "StageSelect", "type", "REVIEW_WORKFLOW_COLUMNS", "name", "STAGE_ATTRIBUTE_NAME", "attribute", "type", "relation", "target", "label", "id", "defaultMessage", "searchable", "sortable", "mainField", "cellFormatter", "props", "_jsx", "StageColumn", "ASSIGNEE_ATTRIBUTE_NAME", "AssigneeColumn", "addColumnToTableHook", "displayedHeaders", "layout", "options", "reviewWorkflows", "REVIEW_WORKFLOW_COLUMNS", "prefixPluginTranslations", "trad", "pluginId", "Object", "keys", "reduce", "acc", "current", "admin", "register", "app", "window", "strapi", "features", "isEnabled", "FEATURE_ID", "registerHook", "addColumnToTableHook", "contentManagerPluginApis", "getPlugin", "apis", "addEditViewSidePanel", "Panel", "addSettingsLink", "id", "PLUGIN_ID", "to", "intlLabel", "defaultMessage", "licenseOnly", "permissions", "Component", "Router", "default", "widgets", "icon", "SealCheck", "title", "component", "AssignedWidget", "pluginId", "action", "flags", "promoteEE", "PurchaseReviewWorkflows", "bootstrap", "injectComponent", "name", "Header", "registerTrads", "locales", "importedTrads", "Promise", "all", "map", "locale", "__variableDynamicImportRuntime3__", "then", "data", "prefixPluginTranslations", "catch", "resolve", "render", "mountNode", "plugins", "restArgs", "renderAdmin", "contentManager", "contentTypeBuilder", "email", "upload", "contentReleases", "i18n", "reviewWorkflows"]
}
