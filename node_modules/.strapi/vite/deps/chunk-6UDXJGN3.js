import {
  useIsMobile
} from "./chunk-YRRE432D.js";
import {
  HEIGHT_TOP_NAVIGATION,
  HEIGHT_TOP_NAVIGATION_MEDIUM,
  RESPONSIVE_DEFAULT_SPACING,
  useDeviceType
} from "./chunk-2BRU7SL4.js";
import {
  I,
  Io,
  R,
  T
} from "./chunk-5DNSEMX4.js";
import {
  require_jsx_runtime
} from "./chunk-LMPM4PM5.js";
import {
  ct
} from "./chunk-AYMNGYKI.js";
import {
  require_react
} from "./chunk-D3I3COXH.js";
import {
  __toESM
} from "./chunk-LK32TJAX.js";

// node_modules/@strapi/admin/dist/admin/admin/src/hooks/useElementOnScreen.mjs
var React = __toESM(require_react(), 1);
var useElementOnScreen = (onVisiblityChange, options) => {
  const containerRef = React.useRef(null);
  React.useEffect(() => {
    const containerEl = containerRef.current;
    const observer = new IntersectionObserver(([entry]) => {
      onVisiblityChange(entry.isIntersecting);
    }, options);
    if (containerEl) {
      observer.observe(containerRef.current);
    }
    return () => {
      if (containerEl) {
        observer.disconnect();
      }
    };
  }, [
    containerRef,
    options,
    onVisiblityChange
  ]);
  return containerRef;
};

// node_modules/@strapi/admin/dist/admin/admin/src/components/Layouts/Layout.mjs
var import_jsx_runtime5 = __toESM(require_jsx_runtime(), 1);
var import_react4 = __toESM(require_react(), 1);

// node_modules/@strapi/admin/dist/admin/admin/src/components/Layouts/ActionLayout.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);
var ActionLayout = ({ startActions, endActions }) => {
  if (!startActions && !endActions) {
    return null;
  }
  return (0, import_jsx_runtime.jsxs)(T, {
    justifyContent: "space-between",
    alignItems: "flex-start",
    paddingBottom: {
      initial: 2,
      medium: 4
    },
    paddingTop: {
      initial: 4,
      medium: 0
    },
    paddingLeft: RESPONSIVE_DEFAULT_SPACING,
    paddingRight: RESPONSIVE_DEFAULT_SPACING,
    children: [
      (0, import_jsx_runtime.jsx)(T, {
        gap: 2,
        wrap: "wrap",
        children: startActions
      }),
      (0, import_jsx_runtime.jsx)(T, {
        gap: 2,
        shrink: 0,
        wrap: "wrap",
        children: endActions
      })
    ]
  });
};

// node_modules/@strapi/admin/dist/admin/admin/src/components/Layouts/ContentLayout.mjs
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
var import_react2 = __toESM(require_react(), 1);
var ContentLayout = ({ children }) => {
  return (0, import_jsx_runtime2.jsx)(R, {
    paddingLeft: RESPONSIVE_DEFAULT_SPACING,
    paddingRight: RESPONSIVE_DEFAULT_SPACING,
    paddingTop: {
      initial: 4,
      medium: 0
    },
    children
  });
};

// node_modules/@strapi/admin/dist/admin/admin/src/components/Layouts/GridLayout.mjs
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var import_react3 = __toESM(require_react(), 1);
var GridColSize = {
  S: 180,
  M: 250
};
var StyledGrid = ct(R)`
  display: grid;
  grid-template-columns: repeat(
    auto-fit,
    minmax(${({ $size }) => `${GridColSize[$size]}px`}, 1fr)
  );
  grid-gap: ${({ theme }) => theme.spaces[4]};
`;
var GridLayout = ({ size, children }) => {
  return (0, import_jsx_runtime3.jsx)(StyledGrid, {
    $size: size,
    children
  });
};

// node_modules/@strapi/admin/dist/admin/admin/src/components/Layouts/HeaderLayout.mjs
var import_jsx_runtime4 = __toESM(require_jsx_runtime(), 1);
var React2 = __toESM(require_react(), 1);
var BaseHeaderLayout = React2.forwardRef(({ navigationAction, primaryAction, secondaryAction, subtitle, title, sticky, width, ...props }, ref) => {
  const isMobile = useIsMobile();
  const isSubtitleString = typeof subtitle === "string";
  if (sticky) {
    return (0, import_jsx_runtime4.jsx)(R, {
      display: "flex",
      paddingLeft: 6,
      paddingRight: 6,
      paddingTop: 2,
      paddingBottom: 2,
      position: "fixed",
      top: 0,
      background: "neutral0",
      shadow: "tableShadow",
      width: `${width}px`,
      zIndex: 2,
      minHeight: {
        initial: HEIGHT_TOP_NAVIGATION,
        medium: HEIGHT_TOP_NAVIGATION_MEDIUM
      },
      "data-strapi-header-sticky": true,
      children: (0, import_jsx_runtime4.jsxs)(T, {
        alignItems: "center",
        justifyContent: "space-between",
        wrap: "wrap",
        width: "100%",
        children: [
          (0, import_jsx_runtime4.jsxs)(T, {
            children: [
              navigationAction && (0, import_jsx_runtime4.jsx)(R, {
                paddingRight: 3,
                children: navigationAction
              }),
              (0, import_jsx_runtime4.jsxs)(R, {
                children: [
                  (0, import_jsx_runtime4.jsx)(I, {
                    variant: "beta",
                    tag: "h1",
                    ...props,
                    children: title
                  }),
                  isSubtitleString ? (0, import_jsx_runtime4.jsx)(I, {
                    variant: "pi",
                    textColor: "neutral600",
                    children: subtitle
                  }) : subtitle
                ]
              }),
              secondaryAction ? (0, import_jsx_runtime4.jsx)(R, {
                paddingLeft: 4,
                children: secondaryAction
              }) : null
            ]
          }),
          (0, import_jsx_runtime4.jsx)(T, {
            children: primaryAction ? (0, import_jsx_runtime4.jsx)(R, {
              paddingLeft: 2,
              children: primaryAction
            }) : void 0
          })
        ]
      })
    });
  }
  return (0, import_jsx_runtime4.jsx)(R, {
    ref,
    paddingLeft: RESPONSIVE_DEFAULT_SPACING,
    paddingRight: RESPONSIVE_DEFAULT_SPACING,
    paddingBottom: {
      initial: 4,
      large: 8
    },
    paddingTop: {
      initial: 4,
      large: navigationAction ? 6 : 8
    },
    background: "neutral100",
    "data-strapi-header": true,
    children: (0, import_jsx_runtime4.jsxs)(T, {
      direction: "column",
      alignItems: "initial",
      gap: 3,
      children: [
        navigationAction,
        !isMobile ? (0, import_jsx_runtime4.jsxs)(import_jsx_runtime4.Fragment, {
          children: [
            (0, import_jsx_runtime4.jsxs)(T, {
              justifyContent: "space-between",
              wrap: "wrap",
              gap: 4,
              children: [
                (0, import_jsx_runtime4.jsxs)(T, {
                  minWidth: 0,
                  children: [
                    (0, import_jsx_runtime4.jsx)(I, {
                      tag: "h1",
                      variant: "alpha",
                      ...props,
                      style: {
                        wordBreak: "break-word",
                        overflowWrap: "break-word",
                        maxWidth: "100%"
                      },
                      children: title
                    }),
                    secondaryAction && (0, import_jsx_runtime4.jsx)(R, {
                      paddingLeft: 4,
                      children: secondaryAction
                    })
                  ]
                }),
                (0, import_jsx_runtime4.jsx)(R, {
                  paddingLeft: 4,
                  marginLeft: "auto",
                  children: primaryAction
                })
              ]
            }),
            isSubtitleString ? (0, import_jsx_runtime4.jsx)(I, {
              variant: "epsilon",
              textColor: "neutral600",
              tag: "p",
              children: subtitle
            }) : subtitle
          ]
        }) : (0, import_jsx_runtime4.jsxs)(import_jsx_runtime4.Fragment, {
          children: [
            (0, import_jsx_runtime4.jsx)(I, {
              tag: "h1",
              variant: "alpha",
              ...props,
              style: {
                wordBreak: "break-word",
                overflowWrap: "break-word",
                maxWidth: "100%"
              },
              children: title
            }),
            isSubtitleString ? (0, import_jsx_runtime4.jsx)(I, {
              variant: "epsilon",
              textColor: "neutral600",
              tag: "p",
              children: subtitle
            }) : subtitle,
            (primaryAction || secondaryAction) && (0, import_jsx_runtime4.jsxs)(T, {
              gap: 3,
              children: [
                secondaryAction,
                primaryAction
              ]
            })
          ]
        })
      ]
    })
  });
});
var HeaderLayout = (props) => {
  const baseHeaderLayoutRef = React2.useRef(null);
  const [headerSize, setHeaderSize] = React2.useState(null);
  const [isVisible, setIsVisible] = React2.useState(true);
  const deviceType = useDeviceType();
  const containerRef = useElementOnScreen(setIsVisible, {
    root: null,
    rootMargin: "0px",
    threshold: 0
  });
  useResizeObserver([
    containerRef,
    baseHeaderLayoutRef
  ], () => {
    const headerContainer = baseHeaderLayoutRef.current ?? containerRef.current;
    if (headerContainer) {
      const newSize = headerContainer.getBoundingClientRect();
      setHeaderSize((prevSize) => {
        if (!prevSize || prevSize.height !== newSize.height || prevSize.width !== newSize.width) {
          return newSize;
        }
        return prevSize;
      });
    }
  });
  React2.useEffect(() => {
    if (baseHeaderLayoutRef.current || containerRef.current) {
      const headerContainer = baseHeaderLayoutRef.current ?? containerRef.current;
      setHeaderSize((headerContainer == null ? void 0 : headerContainer.getBoundingClientRect()) ?? null);
    }
  }, [
    containerRef
  ]);
  if (deviceType === "mobile") {
    return (0, import_jsx_runtime4.jsx)(BaseHeaderLayout, {
      ...props
    });
  }
  return (0, import_jsx_runtime4.jsxs)("div", {
    ref: containerRef,
    children: [
      (0, import_jsx_runtime4.jsx)("div", {
        style: {
          height: headerSize == null ? void 0 : headerSize.height
        },
        children: isVisible && (0, import_jsx_runtime4.jsx)(BaseHeaderLayout, {
          ref: baseHeaderLayoutRef,
          ...props
        })
      }),
      !isVisible && (0, import_jsx_runtime4.jsx)(BaseHeaderLayout, {
        ...props,
        sticky: true,
        width: headerSize == null ? void 0 : headerSize.width
      })
    ]
  });
};
HeaderLayout.displayName = "HeaderLayout";
var useResizeObserver = (sources, onResize) => {
  const handleResize = Io(onResize);
  React2.useLayoutEffect(() => {
    const resizeObs = new ResizeObserver(handleResize);
    if (Array.isArray(sources)) {
      sources.forEach((source) => {
        if (source.current) {
          resizeObs.observe(source.current);
        }
      });
    } else if (sources.current) {
      resizeObs.observe(sources.current);
    }
    return () => {
      resizeObs.disconnect();
    };
  }, [
    sources,
    handleResize
  ]);
};

// node_modules/@strapi/admin/dist/admin/admin/src/components/Layouts/Layout.mjs
var GridContainer = ct(R)`
  max-width: 100%;
  display: grid;
  grid-template-columns: 1fr;
  padding: 0;

  ${({ theme }) => theme.breakpoints.medium} {
    grid-template-columns: ${({ $hasSideNav }) => $hasSideNav ? `auto 1fr` : "1fr"};
  }
`;
var SideNavContainer = ct(T)`
  display: none;
  background: ${({ theme }) => theme.colors.neutral0};

  ${({ theme }) => theme.breakpoints.medium} {
    display: block;
    box-shadow: none;
    transform: none;
  }
`;
var OverflowingItem = ct(R)`
  overflow-x: hidden;

  ${({ theme }) => theme.breakpoints.medium} {
    transform: none;
    width: auto;
  }
`;
var RootLayout = ({ sideNav, children, ...restProps }) => (0, import_jsx_runtime5.jsxs)(GridContainer, {
  $hasSideNav: Boolean(sideNav),
  ...restProps,
  children: [
    sideNav && (0, import_jsx_runtime5.jsx)(SideNavContainer, {
      children: sideNav
    }),
    (0, import_jsx_runtime5.jsx)(OverflowingItem, {
      paddingBottom: RESPONSIVE_DEFAULT_SPACING,
      "data-strapi-main-content": true,
      children
    })
  ]
});
var Layouts = {
  Root: RootLayout,
  Header: HeaderLayout,
  BaseHeader: BaseHeaderLayout,
  Grid: GridLayout,
  Action: ActionLayout,
  Content: ContentLayout
};

export {
  useElementOnScreen,
  Layouts
};
//# sourceMappingURL=chunk-6UDXJGN3.js.map
