import {
  useGetAIUsageQuery
} from "./chunk-QPJH3FO4.js";
import "./chunk-HQG3ICNW.js";
import "./chunk-SHFDKESM.js";
import "./chunk-NYUHZLRC.js";
import "./chunk-QOUV5O5E.js";
import {
  I,
  T,
  Um,
  d1,
  useIntl
} from "./chunk-5DNSEMX4.js";
import "./chunk-AWHRF5BE.js";
import "./chunk-URHUI7CZ.js";
import {
  require_jsx_runtime
} from "./chunk-LMPM4PM5.js";
import {
  ct
} from "./chunk-AYMNGYKI.js";
import "./chunk-D3I3COXH.js";
import {
  __toESM
} from "./chunk-LK32TJAX.js";

// node_modules/@strapi/admin/dist/admin/ee/admin/src/pages/SettingsPage/pages/ApplicationInfoPage/components/AIUsage.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var StyledProgressBar = ct(d1)`
  width: 100%;
  background-color: ${({ theme }) => theme.colors.neutral200};
  > div {
    background-color: ${({ theme }) => theme.colors.neutral700};
  }
`;
var StyledGridItem = ct(Um.Item)`
  ${({ theme }) => theme.breakpoints.large} {
    grid-column: 7 / 13;
  }
`;
var AIUsage = () => {
  var _a;
  const { formatMessage } = useIntl();
  const { data, isLoading, error } = useGetAIUsageQuery(void 0, {
    refetchOnMountOrArgChange: true
  });
  if (isLoading) {
    return null;
  }
  if (error || !data) {
    return null;
  }
  if (!((_a = data.subscription) == null ? void 0 : _a.cmsAiEnabled)) {
    return null;
  }
  const totalCredits = data.subscription.cmsAiCreditsBase;
  const usedCredits = data.cmsAiCreditsUsed;
  const maxCredits = data.subscription.cmsAiCreditsMaxUsage;
  const overage = usedCredits - totalCredits;
  const percentRemaining = usedCredits / totalCredits * 100;
  const percentOverage = usedCredits / maxCredits * 100;
  const isInOverages = overage > 0 && maxCredits !== totalCredits;
  return (0, import_jsx_runtime.jsxs)(StyledGridItem, {
    col: 6,
    s: 12,
    direction: "column",
    alignItems: "start",
    gap: 2,
    children: [
      (0, import_jsx_runtime.jsx)(I, {
        variant: "sigma",
        textColor: "neutral600",
        children: formatMessage({
          id: "Settings.application.ai-usage",
          defaultMessage: "AI Usage"
        })
      }),
      (0, import_jsx_runtime.jsxs)(T, {
        gap: 2,
        direction: "column",
        alignItems: "flex-start",
        children: [
          !isInOverages && (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, {
            children: [
              (0, import_jsx_runtime.jsx)(T, {
                width: "100%",
                children: (0, import_jsx_runtime.jsx)(StyledProgressBar, {
                  value: percentRemaining,
                  size: "M"
                })
              }),
              (0, import_jsx_runtime.jsx)(I, {
                variant: "omega",
                children: `${usedCredits.toFixed(2)} credits used from ${totalCredits} credits available in your plan`
              })
            ]
          }),
          isInOverages && (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, {
            children: [
              (0, import_jsx_runtime.jsx)(T, {
                width: "100%",
                children: (0, import_jsx_runtime.jsx)(StyledProgressBar, {
                  value: percentOverage,
                  size: "M",
                  color: "danger"
                })
              }),
              (0, import_jsx_runtime.jsx)(I, {
                variant: "omega",
                textColor: "danger600",
                children: `${overage.toFixed(2)} credits used above the ${totalCredits} credits available in your plan`
              })
            ]
          })
        ]
      })
    ]
  });
};
export {
  AIUsage
};
//# sourceMappingURL=AIUsage-PFFZMDGP.js.map
