import {
  Primitive,
  composeEventHandlers,
  createContextScope,
  createSlot,
  getTranslationKey,
  uploadApi,
  useCallbackRef,
  useComposedRefs,
  useControllableState,
  useId,
  useUploadFilesStreamMutation
} from "./chunk-46J57TOA.js";
import {
  byte_size_default
} from "./chunk-URXKF3BA.js";
import "./chunk-UQ7YKN5C.js";
import "./chunk-WEM6XBUO.js";
import "./chunk-TDBDUH6Z.js";
import "./chunk-6X4D5RCV.js";
import {
  usePersistentState
} from "./chunk-ZE7NAT3H.js";
import "./chunk-QPJH3FO4.js";
import "./chunk-SZLBMEW5.js";
import "./chunk-UQDRRTHU.js";
import "./chunk-QIJGNK42.js";
import "./chunk-4VN6C3B7.js";
import "./chunk-2VEIPWEH.js";
import "./chunk-QYSWUD2V.js";
import "./chunk-FFIVNU5A.js";
import "./chunk-LWGUGIUP.js";
import "./chunk-RJCON7VT.js";
import "./chunk-KU7LYY7E.js";
import "./chunk-5N4RBM6D.js";
import "./chunk-CCSOMNNS.js";
import "./chunk-S2BROK72.js";
import "./chunk-EUBX4FCR.js";
import "./chunk-ORAR3IKK.js";
import "./chunk-MDB3E5DW.js";
import "./chunk-OUMP6YAM.js";
import "./chunk-YCZ5JHRA.js";
import "./chunk-MBK4V2X7.js";
import "./chunk-NIVE7W4A.js";
import "./chunk-BWT2CGTF.js";
import "./chunk-64CVCGLM.js";
import "./chunk-FDDUR3D2.js";
import "./chunk-FNB35VW2.js";
import "./chunk-EO7BHI25.js";
import "./chunk-IFOFBKTA.js";
import "./chunk-4H2ZWALN.js";
import "./chunk-Z6T66C2C.js";
import "./chunk-UBAJEUB3.js";
import {
  Layouts,
  useElementOnScreen
} from "./chunk-6UDXJGN3.js";
import {
  useIsMobile
} from "./chunk-YRRE432D.js";
import "./chunk-W2Y3XAHI.js";
import "./chunk-U4PP6BRM.js";
import "./chunk-3GJUYW3U.js";
import "./chunk-PQINNV4N.js";
import "./chunk-2BRU7SL4.js";
import "./chunk-TCG3ZXVK.js";
import {
  Page
} from "./chunk-SCW6OSIS.js";
import "./chunk-YSYVPEEC.js";
import "./chunk-NKRVL7KU.js";
import "./chunk-73XSTVGM.js";
import "./chunk-HQG3ICNW.js";
import "./chunk-SHFDKESM.js";
import "./chunk-JVH4XK5B.js";
import "./chunk-KTKIRFL6.js";
import "./chunk-NYUHZLRC.js";
import "./chunk-QOUV5O5E.js";
import {
  I,
  Om,
  Pm,
  R,
  Rm,
  T,
  Tm,
  Um,
  Vd,
  ad,
  i0,
  lt,
  n0,
  o0,
  ot,
  r0,
  s0,
  useIntl,
  za
} from "./chunk-5DNSEMX4.js";
import "./chunk-7K6WC7UG.js";
import {
  Route,
  Routes
} from "./chunk-QECYQD6B.js";
import "./chunk-AWHRF5BE.js";
import {
  A3,
  E3,
  I5,
  K5,
  N5,
  O5,
  Q5,
  W5,
  Z5,
  Zn,
  b3,
  c5,
  g3,
  k5
} from "./chunk-URHUI7CZ.js";
import {
  require_jsx_runtime
} from "./chunk-LMPM4PM5.js";
import {
  ct
} from "./chunk-AYMNGYKI.js";
import {
  require_react
} from "./chunk-D3I3COXH.js";
import {
  __toESM
} from "./chunk-LK32TJAX.js";

// node_modules/@strapi/upload/dist/admin/future/App.mjs
var import_jsx_runtime12 = __toESM(require_jsx_runtime(), 1);
var import_react7 = __toESM(require_react(), 1);

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/AssetsPage.mjs
var import_jsx_runtime11 = __toESM(require_jsx_runtime(), 1);
var import_react6 = __toESM(require_react(), 1);

// node_modules/@strapi/upload/node_modules/@radix-ui/react-toggle-group/dist/index.mjs
var import_react3 = __toESM(require_react(), 1);

// node_modules/@strapi/upload/node_modules/@radix-ui/react-roving-focus/dist/index.mjs
var React4 = __toESM(require_react(), 1);

// node_modules/@strapi/upload/node_modules/@radix-ui/react-collection/dist/index.mjs
var import_react = __toESM(require_react(), 1);
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react2 = __toESM(require_react(), 1);
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
function createCollection(name) {
  const PROVIDER_NAME = name + "CollectionProvider";
  const [createCollectionContext, createCollectionScope2] = createContextScope(PROVIDER_NAME);
  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext(
    PROVIDER_NAME,
    { collectionRef: { current: null }, itemMap: /* @__PURE__ */ new Map() }
  );
  const CollectionProvider = (props) => {
    const { scope, children } = props;
    const ref = import_react.default.useRef(null);
    const itemMap = import_react.default.useRef(/* @__PURE__ */ new Map()).current;
    return (0, import_jsx_runtime.jsx)(CollectionProviderImpl, { scope, itemMap, collectionRef: ref, children });
  };
  CollectionProvider.displayName = PROVIDER_NAME;
  const COLLECTION_SLOT_NAME = name + "CollectionSlot";
  const CollectionSlotImpl = createSlot(COLLECTION_SLOT_NAME);
  const CollectionSlot = import_react.default.forwardRef(
    (props, forwardedRef) => {
      const { scope, children } = props;
      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);
      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);
      return (0, import_jsx_runtime.jsx)(CollectionSlotImpl, { ref: composedRefs, children });
    }
  );
  CollectionSlot.displayName = COLLECTION_SLOT_NAME;
  const ITEM_SLOT_NAME = name + "CollectionItemSlot";
  const ITEM_DATA_ATTR = "data-radix-collection-item";
  const CollectionItemSlotImpl = createSlot(ITEM_SLOT_NAME);
  const CollectionItemSlot = import_react.default.forwardRef(
    (props, forwardedRef) => {
      const { scope, children, ...itemData } = props;
      const ref = import_react.default.useRef(null);
      const composedRefs = useComposedRefs(forwardedRef, ref);
      const context = useCollectionContext(ITEM_SLOT_NAME, scope);
      import_react.default.useEffect(() => {
        context.itemMap.set(ref, { ref, ...itemData });
        return () => void context.itemMap.delete(ref);
      });
      return (0, import_jsx_runtime.jsx)(CollectionItemSlotImpl, { ...{ [ITEM_DATA_ATTR]: "" }, ref: composedRefs, children });
    }
  );
  CollectionItemSlot.displayName = ITEM_SLOT_NAME;
  function useCollection2(scope) {
    const context = useCollectionContext(name + "CollectionConsumer", scope);
    const getItems = import_react.default.useCallback(() => {
      const collectionNode = context.collectionRef.current;
      if (!collectionNode) return [];
      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));
      const items = Array.from(context.itemMap.values());
      const orderedItems = items.sort(
        (a, b) => orderedNodes.indexOf(a.ref.current) - orderedNodes.indexOf(b.ref.current)
      );
      return orderedItems;
    }, [context.collectionRef, context.itemMap]);
    return getItems;
  }
  return [
    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },
    useCollection2,
    createCollectionScope2
  ];
}

// node_modules/@strapi/upload/node_modules/@radix-ui/react-direction/dist/index.mjs
var React3 = __toESM(require_react(), 1);
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var DirectionContext = React3.createContext(void 0);
function useDirection(localDir) {
  const globalDir = React3.useContext(DirectionContext);
  return localDir || globalDir || "ltr";
}

// node_modules/@strapi/upload/node_modules/@radix-ui/react-roving-focus/dist/index.mjs
var import_jsx_runtime4 = __toESM(require_jsx_runtime(), 1);
var ENTRY_FOCUS = "rovingFocusGroup.onEntryFocus";
var EVENT_OPTIONS = { bubbles: false, cancelable: true };
var GROUP_NAME = "RovingFocusGroup";
var [Collection, useCollection, createCollectionScope] = createCollection(GROUP_NAME);
var [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(
  GROUP_NAME,
  [createCollectionScope]
);
var [RovingFocusProvider, useRovingFocusContext] = createRovingFocusGroupContext(GROUP_NAME);
var RovingFocusGroup = React4.forwardRef(
  (props, forwardedRef) => {
    return (0, import_jsx_runtime4.jsx)(Collection.Provider, { scope: props.__scopeRovingFocusGroup, children: (0, import_jsx_runtime4.jsx)(Collection.Slot, { scope: props.__scopeRovingFocusGroup, children: (0, import_jsx_runtime4.jsx)(RovingFocusGroupImpl, { ...props, ref: forwardedRef }) }) });
  }
);
RovingFocusGroup.displayName = GROUP_NAME;
var RovingFocusGroupImpl = React4.forwardRef((props, forwardedRef) => {
  const {
    __scopeRovingFocusGroup,
    orientation,
    loop = false,
    dir,
    currentTabStopId: currentTabStopIdProp,
    defaultCurrentTabStopId,
    onCurrentTabStopIdChange,
    onEntryFocus,
    preventScrollOnEntryFocus = false,
    ...groupProps
  } = props;
  const ref = React4.useRef(null);
  const composedRefs = useComposedRefs(forwardedRef, ref);
  const direction = useDirection(dir);
  const [currentTabStopId, setCurrentTabStopId] = useControllableState({
    prop: currentTabStopIdProp,
    defaultProp: defaultCurrentTabStopId ?? null,
    onChange: onCurrentTabStopIdChange,
    caller: GROUP_NAME
  });
  const [isTabbingBackOut, setIsTabbingBackOut] = React4.useState(false);
  const handleEntryFocus = useCallbackRef(onEntryFocus);
  const getItems = useCollection(__scopeRovingFocusGroup);
  const isClickFocusRef = React4.useRef(false);
  const [focusableItemsCount, setFocusableItemsCount] = React4.useState(0);
  React4.useEffect(() => {
    const node = ref.current;
    if (node) {
      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);
      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);
    }
  }, [handleEntryFocus]);
  return (0, import_jsx_runtime4.jsx)(
    RovingFocusProvider,
    {
      scope: __scopeRovingFocusGroup,
      orientation,
      dir: direction,
      loop,
      currentTabStopId,
      onItemFocus: React4.useCallback(
        (tabStopId) => setCurrentTabStopId(tabStopId),
        [setCurrentTabStopId]
      ),
      onItemShiftTab: React4.useCallback(() => setIsTabbingBackOut(true), []),
      onFocusableItemAdd: React4.useCallback(
        () => setFocusableItemsCount((prevCount) => prevCount + 1),
        []
      ),
      onFocusableItemRemove: React4.useCallback(
        () => setFocusableItemsCount((prevCount) => prevCount - 1),
        []
      ),
      children: (0, import_jsx_runtime4.jsx)(
        Primitive.div,
        {
          tabIndex: isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0,
          "data-orientation": orientation,
          ...groupProps,
          ref: composedRefs,
          style: { outline: "none", ...props.style },
          onMouseDown: composeEventHandlers(props.onMouseDown, () => {
            isClickFocusRef.current = true;
          }),
          onFocus: composeEventHandlers(props.onFocus, (event) => {
            const isKeyboardFocus = !isClickFocusRef.current;
            if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {
              const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);
              event.currentTarget.dispatchEvent(entryFocusEvent);
              if (!entryFocusEvent.defaultPrevented) {
                const items = getItems().filter((item) => item.focusable);
                const activeItem = items.find((item) => item.active);
                const currentItem = items.find((item) => item.id === currentTabStopId);
                const candidateItems = [activeItem, currentItem, ...items].filter(
                  Boolean
                );
                const candidateNodes = candidateItems.map((item) => item.ref.current);
                focusFirst(candidateNodes, preventScrollOnEntryFocus);
              }
            }
            isClickFocusRef.current = false;
          }),
          onBlur: composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))
        }
      )
    }
  );
});
var ITEM_NAME = "RovingFocusGroupItem";
var RovingFocusGroupItem = React4.forwardRef(
  (props, forwardedRef) => {
    const {
      __scopeRovingFocusGroup,
      focusable = true,
      active = false,
      tabStopId,
      children,
      ...itemProps
    } = props;
    const autoId = useId();
    const id = tabStopId || autoId;
    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);
    const isCurrentTabStop = context.currentTabStopId === id;
    const getItems = useCollection(__scopeRovingFocusGroup);
    const { onFocusableItemAdd, onFocusableItemRemove, currentTabStopId } = context;
    React4.useEffect(() => {
      if (focusable) {
        onFocusableItemAdd();
        return () => onFocusableItemRemove();
      }
    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);
    return (0, import_jsx_runtime4.jsx)(
      Collection.ItemSlot,
      {
        scope: __scopeRovingFocusGroup,
        id,
        focusable,
        active,
        children: (0, import_jsx_runtime4.jsx)(
          Primitive.span,
          {
            tabIndex: isCurrentTabStop ? 0 : -1,
            "data-orientation": context.orientation,
            ...itemProps,
            ref: forwardedRef,
            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {
              if (!focusable) event.preventDefault();
              else context.onItemFocus(id);
            }),
            onFocus: composeEventHandlers(props.onFocus, () => context.onItemFocus(id)),
            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {
              if (event.key === "Tab" && event.shiftKey) {
                context.onItemShiftTab();
                return;
              }
              if (event.target !== event.currentTarget) return;
              const focusIntent = getFocusIntent(event, context.orientation, context.dir);
              if (focusIntent !== void 0) {
                if (event.metaKey || event.ctrlKey || event.altKey || event.shiftKey) return;
                event.preventDefault();
                const items = getItems().filter((item) => item.focusable);
                let candidateNodes = items.map((item) => item.ref.current);
                if (focusIntent === "last") candidateNodes.reverse();
                else if (focusIntent === "prev" || focusIntent === "next") {
                  if (focusIntent === "prev") candidateNodes.reverse();
                  const currentIndex = candidateNodes.indexOf(event.currentTarget);
                  candidateNodes = context.loop ? wrapArray(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);
                }
                setTimeout(() => focusFirst(candidateNodes));
              }
            }),
            children: typeof children === "function" ? children({ isCurrentTabStop, hasTabStop: currentTabStopId != null }) : children
          }
        )
      }
    );
  }
);
RovingFocusGroupItem.displayName = ITEM_NAME;
var MAP_KEY_TO_FOCUS_INTENT = {
  ArrowLeft: "prev",
  ArrowUp: "prev",
  ArrowRight: "next",
  ArrowDown: "next",
  PageUp: "first",
  Home: "first",
  PageDown: "last",
  End: "last"
};
function getDirectionAwareKey(key, dir) {
  if (dir !== "rtl") return key;
  return key === "ArrowLeft" ? "ArrowRight" : key === "ArrowRight" ? "ArrowLeft" : key;
}
function getFocusIntent(event, orientation, dir) {
  const key = getDirectionAwareKey(event.key, dir);
  if (orientation === "vertical" && ["ArrowLeft", "ArrowRight"].includes(key)) return void 0;
  if (orientation === "horizontal" && ["ArrowUp", "ArrowDown"].includes(key)) return void 0;
  return MAP_KEY_TO_FOCUS_INTENT[key];
}
function focusFirst(candidates, preventScroll = false) {
  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;
  for (const candidate of candidates) {
    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;
    candidate.focus({ preventScroll });
    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;
  }
}
function wrapArray(array, startIndex) {
  return array.map((_, index) => array[(startIndex + index) % array.length]);
}
var Root = RovingFocusGroup;
var Item = RovingFocusGroupItem;

// node_modules/@strapi/upload/node_modules/@radix-ui/react-toggle/dist/index.mjs
var React5 = __toESM(require_react(), 1);
var import_jsx_runtime5 = __toESM(require_jsx_runtime(), 1);
var NAME = "Toggle";
var Toggle = React5.forwardRef((props, forwardedRef) => {
  const { pressed: pressedProp, defaultPressed, onPressedChange, ...buttonProps } = props;
  const [pressed, setPressed] = useControllableState({
    prop: pressedProp,
    onChange: onPressedChange,
    defaultProp: defaultPressed ?? false,
    caller: NAME
  });
  return (0, import_jsx_runtime5.jsx)(
    Primitive.button,
    {
      type: "button",
      "aria-pressed": pressed,
      "data-state": pressed ? "on" : "off",
      "data-disabled": props.disabled ? "" : void 0,
      ...buttonProps,
      ref: forwardedRef,
      onClick: composeEventHandlers(props.onClick, () => {
        if (!props.disabled) {
          setPressed(!pressed);
        }
      })
    }
  );
});
Toggle.displayName = NAME;

// node_modules/@strapi/upload/node_modules/@radix-ui/react-toggle-group/dist/index.mjs
var import_jsx_runtime6 = __toESM(require_jsx_runtime(), 1);
var TOGGLE_GROUP_NAME = "ToggleGroup";
var [createToggleGroupContext, createToggleGroupScope] = createContextScope(TOGGLE_GROUP_NAME, [
  createRovingFocusGroupScope
]);
var useRovingFocusGroupScope = createRovingFocusGroupScope();
var ToggleGroup = import_react3.default.forwardRef((props, forwardedRef) => {
  const { type, ...toggleGroupProps } = props;
  if (type === "single") {
    const singleProps = toggleGroupProps;
    return (0, import_jsx_runtime6.jsx)(ToggleGroupImplSingle, { ...singleProps, ref: forwardedRef });
  }
  if (type === "multiple") {
    const multipleProps = toggleGroupProps;
    return (0, import_jsx_runtime6.jsx)(ToggleGroupImplMultiple, { ...multipleProps, ref: forwardedRef });
  }
  throw new Error(`Missing prop \`type\` expected on \`${TOGGLE_GROUP_NAME}\``);
});
ToggleGroup.displayName = TOGGLE_GROUP_NAME;
var [ToggleGroupValueProvider, useToggleGroupValueContext] = createToggleGroupContext(TOGGLE_GROUP_NAME);
var ToggleGroupImplSingle = import_react3.default.forwardRef((props, forwardedRef) => {
  const {
    value: valueProp,
    defaultValue,
    onValueChange = () => {
    },
    ...toggleGroupSingleProps
  } = props;
  const [value, setValue] = useControllableState({
    prop: valueProp,
    defaultProp: defaultValue ?? "",
    onChange: onValueChange,
    caller: TOGGLE_GROUP_NAME
  });
  return (0, import_jsx_runtime6.jsx)(
    ToggleGroupValueProvider,
    {
      scope: props.__scopeToggleGroup,
      type: "single",
      value: import_react3.default.useMemo(() => value ? [value] : [], [value]),
      onItemActivate: setValue,
      onItemDeactivate: import_react3.default.useCallback(() => setValue(""), [setValue]),
      children: (0, import_jsx_runtime6.jsx)(ToggleGroupImpl, { ...toggleGroupSingleProps, ref: forwardedRef })
    }
  );
});
var ToggleGroupImplMultiple = import_react3.default.forwardRef((props, forwardedRef) => {
  const {
    value: valueProp,
    defaultValue,
    onValueChange = () => {
    },
    ...toggleGroupMultipleProps
  } = props;
  const [value, setValue] = useControllableState({
    prop: valueProp,
    defaultProp: defaultValue ?? [],
    onChange: onValueChange,
    caller: TOGGLE_GROUP_NAME
  });
  const handleButtonActivate = import_react3.default.useCallback(
    (itemValue) => setValue((prevValue = []) => [...prevValue, itemValue]),
    [setValue]
  );
  const handleButtonDeactivate = import_react3.default.useCallback(
    (itemValue) => setValue((prevValue = []) => prevValue.filter((value2) => value2 !== itemValue)),
    [setValue]
  );
  return (0, import_jsx_runtime6.jsx)(
    ToggleGroupValueProvider,
    {
      scope: props.__scopeToggleGroup,
      type: "multiple",
      value,
      onItemActivate: handleButtonActivate,
      onItemDeactivate: handleButtonDeactivate,
      children: (0, import_jsx_runtime6.jsx)(ToggleGroupImpl, { ...toggleGroupMultipleProps, ref: forwardedRef })
    }
  );
});
ToggleGroup.displayName = TOGGLE_GROUP_NAME;
var [ToggleGroupContext, useToggleGroupContext] = createToggleGroupContext(TOGGLE_GROUP_NAME);
var ToggleGroupImpl = import_react3.default.forwardRef(
  (props, forwardedRef) => {
    const {
      __scopeToggleGroup,
      disabled = false,
      rovingFocus = true,
      orientation,
      dir,
      loop = true,
      ...toggleGroupProps
    } = props;
    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToggleGroup);
    const direction = useDirection(dir);
    const commonProps = { role: "group", dir: direction, ...toggleGroupProps };
    return (0, import_jsx_runtime6.jsx)(ToggleGroupContext, { scope: __scopeToggleGroup, rovingFocus, disabled, children: rovingFocus ? (0, import_jsx_runtime6.jsx)(
      Root,
      {
        asChild: true,
        ...rovingFocusGroupScope,
        orientation,
        dir: direction,
        loop,
        children: (0, import_jsx_runtime6.jsx)(Primitive.div, { ...commonProps, ref: forwardedRef })
      }
    ) : (0, import_jsx_runtime6.jsx)(Primitive.div, { ...commonProps, ref: forwardedRef }) });
  }
);
var ITEM_NAME2 = "ToggleGroupItem";
var ToggleGroupItem = import_react3.default.forwardRef(
  (props, forwardedRef) => {
    const valueContext = useToggleGroupValueContext(ITEM_NAME2, props.__scopeToggleGroup);
    const context = useToggleGroupContext(ITEM_NAME2, props.__scopeToggleGroup);
    const rovingFocusGroupScope = useRovingFocusGroupScope(props.__scopeToggleGroup);
    const pressed = valueContext.value.includes(props.value);
    const disabled = context.disabled || props.disabled;
    const commonProps = { ...props, pressed, disabled };
    const ref = import_react3.default.useRef(null);
    return context.rovingFocus ? (0, import_jsx_runtime6.jsx)(
      Item,
      {
        asChild: true,
        ...rovingFocusGroupScope,
        focusable: !disabled,
        active: pressed,
        ref,
        children: (0, import_jsx_runtime6.jsx)(ToggleGroupItemImpl, { ...commonProps, ref: forwardedRef })
      }
    ) : (0, import_jsx_runtime6.jsx)(ToggleGroupItemImpl, { ...commonProps, ref: forwardedRef });
  }
);
ToggleGroupItem.displayName = ITEM_NAME2;
var ToggleGroupItemImpl = import_react3.default.forwardRef(
  (props, forwardedRef) => {
    const { __scopeToggleGroup, value, ...itemProps } = props;
    const valueContext = useToggleGroupValueContext(ITEM_NAME2, __scopeToggleGroup);
    const singleProps = { role: "radio", "aria-checked": props.pressed, "aria-pressed": void 0 };
    const typeProps = valueContext.type === "single" ? singleProps : void 0;
    return (0, import_jsx_runtime6.jsx)(
      Toggle,
      {
        ...typeProps,
        ...itemProps,
        ref: forwardedRef,
        onPressedChange: (pressed) => {
          if (pressed) {
            valueContext.onItemActivate(value);
          } else {
            valueContext.onItemDeactivate(value);
          }
        }
      }
    );
  }
);
var Root2 = ToggleGroup;
var Item2 = ToggleGroupItem;

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/components/AssetsGrid.mjs
var import_jsx_runtime7 = __toESM(require_jsx_runtime(), 1);

// node_modules/@strapi/upload/dist/admin/future/enums.mjs
var AssetType = function(AssetType2) {
  AssetType2["Video"] = "video";
  AssetType2["Image"] = "image";
  AssetType2["Document"] = "doc";
  AssetType2["Audio"] = "audio";
  return AssetType2;
}({});

// node_modules/@strapi/upload/dist/admin/future/utils/files.mjs
function formatBytes(receivedBytes, decimals = 0) {
  const realBytes = typeof receivedBytes === "string" ? Number(receivedBytes) : receivedBytes;
  const { value, unit } = byte_size_default(realBytes * 1e3, {
    precision: decimals
  });
  if (!unit) {
    return "0B";
  }
  return `${value}${unit.toUpperCase()}`;
}
var getFileExtension = (ext) => ext && ext[0] === "." ? ext.substring(1) : ext;
var prefixFileUrlWithBackendUrl = (fileURL) => {
  return !!fileURL && fileURL.startsWith("/") ? `${window.strapi.backendURL}${fileURL}` : fileURL;
};

// node_modules/@strapi/upload/dist/admin/future/utils/getAssetIcon.mjs
var DOC_ICON_MAP = {
  pdf: W5,
  csv: I5,
  xls: Z5,
  zip: Q5
};
var getAssetIcon = (mime, ext) => {
  const fileExtension = getFileExtension(ext);
  if (mime == null ? void 0 : mime.includes(AssetType.Image)) {
    return g3;
  }
  if (mime == null ? void 0 : mime.includes(AssetType.Video)) {
    return b3;
  }
  if (mime == null ? void 0 : mime.includes(AssetType.Audio)) {
    return Zn;
  }
  return fileExtension ? DOC_ICON_MAP[fileExtension] || O5 : O5;
};

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/components/AssetsGrid.mjs
var StyledCard = ct(Rm)`
  border: 1px solid ${({ theme }) => theme.colors.neutral200};
  border-radius: 8px;
  overflow: hidden;
`;
var PreviewContainer = ct(R)`
  position: relative;
  width: 100%;
  padding-bottom: 62.5%;
  height: 0;
  overflow: hidden;
  background: repeating-conic-gradient(
      ${({ theme }) => theme.colors.neutral100} 0% 25%,
      transparent 0% 50%
    )
    50% / 20px 20px;
`;
var StyledImage = ct.img`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
`;
var IconPreview = ct(T)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  color: ${({ theme }) => theme.colors.neutral500};
  background: ${({ theme }) => theme.colors.neutral100};
`;
var AssetPreview = ({ asset }) => {
  var _a;
  const { alternativeText, ext, formats, mime, url } = asset;
  if (mime == null ? void 0 : mime.includes(AssetType.Image)) {
    const mediaURL = prefixFileUrlWithBackendUrl((_a = formats == null ? void 0 : formats.thumbnail) == null ? void 0 : _a.url) ?? prefixFileUrlWithBackendUrl(url);
    if (mediaURL) {
      return (0, import_jsx_runtime7.jsx)(PreviewContainer, {
        children: (0, import_jsx_runtime7.jsx)(StyledImage, {
          src: mediaURL,
          alt: alternativeText || ""
        })
      });
    }
  }
  const DocIcon = getAssetIcon(mime, ext);
  return (0, import_jsx_runtime7.jsx)(PreviewContainer, {
    children: (0, import_jsx_runtime7.jsx)(IconPreview, {
      justifyContent: "center",
      alignItems: "center",
      children: (0, import_jsx_runtime7.jsx)(DocIcon, {
        width: 48,
        height: 48
      })
    })
  });
};
var StyledCardHeader = ct(Pm)`
  border-bottom: none;
`;
var CardFooter = ct(T)`
  min-width: 0;
`;
var FileTypeIcon = ct(T)`
  color: ${({ theme }) => theme.colors.neutral600};
  flex-shrink: 0;
`;
var FileName = ct(I)`
  flex: 1;
  min-width: 0;
`;
var AssetCard = ({ asset }) => {
  const { formatMessage } = useIntl();
  const TypeIcon = getAssetIcon(asset.mime, asset.ext);
  return (0, import_jsx_runtime7.jsxs)(StyledCard, {
    children: [
      (0, import_jsx_runtime7.jsx)(StyledCardHeader, {
        children: (0, import_jsx_runtime7.jsx)(AssetPreview, {
          asset
        })
      }),
      (0, import_jsx_runtime7.jsx)(Om, {
        children: (0, import_jsx_runtime7.jsxs)(CardFooter, {
          alignItems: "center",
          gap: 2,
          paddingTop: 2,
          children: [
            (0, import_jsx_runtime7.jsx)(FileTypeIcon, {
              children: (0, import_jsx_runtime7.jsx)(TypeIcon, {
                width: 16,
                height: 16
              })
            }),
            (0, import_jsx_runtime7.jsx)(FileName, {
              textColor: "primary800",
              ellipsis: true,
              children: asset.name
            }),
            (0, import_jsx_runtime7.jsx)(ot, {
              label: formatMessage({
                id: getTranslationKey("control-card.more-actions"),
                defaultMessage: "More actions"
              }),
              variant: "ghost",
              children: (0, import_jsx_runtime7.jsx)(E3, {})
            })
          ]
        })
      })
    ]
  });
};
var AssetsGrid = ({ assets }) => {
  const { formatMessage } = useIntl();
  if (assets.length === 0) {
    return (0, import_jsx_runtime7.jsx)(R, {
      padding: 8,
      children: (0, import_jsx_runtime7.jsx)(I, {
        textColor: "neutral600",
        children: formatMessage({
          id: "app.components.EmptyStateLayout.content-document",
          defaultMessage: "No content found"
        })
      })
    });
  }
  return (0, import_jsx_runtime7.jsx)(Um.Root, {
    gap: 4,
    children: assets.map((asset) => (0, import_jsx_runtime7.jsx)(Um.Item, {
      col: 3,
      m: 4,
      s: 6,
      xs: 12,
      direction: "column",
      alignItems: "stretch",
      children: (0, import_jsx_runtime7.jsx)(AssetCard, {
        asset
      })
    }, asset.id))
  });
};

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/components/AssetsTable.mjs
var import_jsx_runtime8 = __toESM(require_jsx_runtime(), 1);

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/constants.mjs
var localStorageKeys = {
  view: `STRAPI_UPLOAD_LIBRARY_VIEW`
};
var viewOptions = {
  GRID: 0,
  TABLE: 1
};
var TABLE_HEADERS = [
  {
    name: "name",
    label: {
      id: getTranslationKey("list.table.header.name"),
      defaultMessage: "name"
    }
  },
  {
    name: "createdAt",
    label: {
      id: getTranslationKey("list.table.header.creationDate"),
      defaultMessage: "creation date"
    }
  },
  {
    name: "updatedAt",
    label: {
      id: getTranslationKey("list.table.header.lastModified"),
      defaultMessage: "last modified"
    }
  },
  {
    name: "size",
    label: {
      id: getTranslationKey("list.table.header.size"),
      defaultMessage: "size"
    }
  },
  {
    name: "actions",
    label: {
      id: getTranslationKey("list.table.header.actions"),
      defaultMessage: "actions"
    },
    isVisuallyHidden: true
  }
];

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/components/AssetsTable.mjs
var StyledTable = ct(i0)`
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border: 1px solid ${({ theme }) => theme.colors.neutral150};
  border-radius: 4px;
  overflow: hidden;
`;
var StyledThead = ct(r0)`
  background: ${({ theme }) => theme.colors.neutral100};

  tr {
    border-bottom: 1px solid ${({ theme }) => theme.colors.neutral150};
  }
`;
var StyledTh = ct(n0)`
  height: 40px;
  padding: 0 ${({ theme }) => theme.spaces[4]};
  text-align: left;
`;
var StyledTd = ct(za)`
  padding: 0 ${({ theme }) => theme.spaces[4]};
  border-bottom: 1px solid ${({ theme }) => theme.colors.neutral150};
`;
var StyledTr = ct(s0)`
  height: 48px;
  background: ${({ theme }) => theme.colors.neutral0};

  &:last-child {
    ${StyledTd} {
      border-bottom: 0;
    }
  }
`;
var StyledBodyTd = ct(za)`
  padding: ${({ theme }) => theme.spaces[4]};
  border-bottom: 1px solid ${({ theme }) => theme.colors.neutral150};
`;
var AssetPreviewCell = ({ asset }) => {
  const { ext, mime } = asset;
  const DocIcon = getAssetIcon(mime, ext);
  return (0, import_jsx_runtime8.jsx)(T, {
    justifyContent: "center",
    alignItems: "center",
    borderRadius: "4px",
    color: "neutral500",
    width: "3.2rem",
    height: "3.2rem",
    shrink: 0,
    children: (0, import_jsx_runtime8.jsx)(DocIcon, {
      width: 16,
      height: 16
    })
  });
};
var AssetRow = ({ asset }) => {
  const isMobile = useIsMobile();
  const { formatDate, formatMessage } = useIntl();
  return (0, import_jsx_runtime8.jsxs)(StyledTr, {
    children: [
      (0, import_jsx_runtime8.jsx)(StyledTd, {
        children: (0, import_jsx_runtime8.jsxs)(T, {
          gap: 3,
          alignItems: "center",
          children: [
            (0, import_jsx_runtime8.jsx)(AssetPreviewCell, {
              asset
            }),
            (0, import_jsx_runtime8.jsxs)(T, {
              direction: "column",
              alignItems: "flex-start",
              children: [
                (0, import_jsx_runtime8.jsx)(I, {
                  textColor: "neutral800",
                  fontWeight: "semiBold",
                  ellipsis: true,
                  children: asset.name
                }),
                isMobile && (0, import_jsx_runtime8.jsx)(I, {
                  textColor: "neutral600",
                  variant: "pi",
                  children: asset.size ? formatBytes(asset.size, 1) : "-"
                })
              ]
            })
          ]
        })
      }),
      !isMobile && (0, import_jsx_runtime8.jsxs)(import_jsx_runtime8.Fragment, {
        children: [
          (0, import_jsx_runtime8.jsx)(StyledTd, {
            children: (0, import_jsx_runtime8.jsx)(I, {
              textColor: "neutral600",
              children: asset.createdAt ? formatDate(new Date(asset.createdAt), {
                dateStyle: "long"
              }) : "-"
            })
          }),
          (0, import_jsx_runtime8.jsx)(StyledTd, {
            children: (0, import_jsx_runtime8.jsx)(I, {
              textColor: "neutral600",
              children: asset.updatedAt ? formatDate(new Date(asset.updatedAt), {
                dateStyle: "long"
              }) : "-"
            })
          }),
          (0, import_jsx_runtime8.jsx)(StyledTd, {
            children: (0, import_jsx_runtime8.jsx)(I, {
              textColor: "neutral600",
              children: asset.size ? formatBytes(asset.size, 1) : "-"
            })
          })
        ]
      }),
      (0, import_jsx_runtime8.jsx)(StyledTd, {
        children: (0, import_jsx_runtime8.jsx)(T, {
          justifyContent: "flex-end",
          children: (0, import_jsx_runtime8.jsx)(ot, {
            label: formatMessage({
              id: getTranslationKey("control-card.more-actions"),
              defaultMessage: "More actions"
            }),
            variant: "ghost",
            children: (0, import_jsx_runtime8.jsx)(E3, {})
          })
        })
      })
    ]
  });
};
var AssetsTable = ({ assets }) => {
  const isMobile = useIsMobile();
  const { formatMessage } = useIntl();
  const visibleHeaders = isMobile ? TABLE_HEADERS.filter((h) => h.name === "name" || h.name === "actions") : TABLE_HEADERS;
  return (0, import_jsx_runtime8.jsxs)(StyledTable, {
    colCount: visibleHeaders.length,
    rowCount: assets.length + 1,
    children: [
      (0, import_jsx_runtime8.jsx)(StyledThead, {
        children: (0, import_jsx_runtime8.jsx)(s0, {
          children: visibleHeaders.map((header) => {
            const tableHeaderLabel = formatMessage(header.label);
            const isVisuallyHidden = "isVisuallyHidden" in header && header.isVisuallyHidden;
            if (isVisuallyHidden) {
              return (0, import_jsx_runtime8.jsx)(StyledTh, {
                children: (0, import_jsx_runtime8.jsx)(lt, {
                  children: formatMessage({
                    id: getTranslationKey("table.header.actions"),
                    defaultMessage: "actions"
                  })
                })
              }, header.name);
            }
            return (0, import_jsx_runtime8.jsx)(StyledTh, {
              children: (0, import_jsx_runtime8.jsx)(I, {
                textColor: "neutral600",
                variant: "sigma",
                children: tableHeaderLabel
              })
            }, header.name);
          })
        })
      }),
      (0, import_jsx_runtime8.jsx)(o0, {
        children: assets.length === 0 ? (0, import_jsx_runtime8.jsx)(s0, {
          children: (0, import_jsx_runtime8.jsx)(StyledBodyTd, {
            colSpan: visibleHeaders.length,
            children: (0, import_jsx_runtime8.jsx)(I, {
              textColor: "neutral600",
              children: formatMessage({
                id: "app.components.EmptyStateLayout.content-document",
                defaultMessage: "No content found"
              })
            })
          })
        }) : assets.map((asset) => (0, import_jsx_runtime8.jsx)(AssetRow, {
          asset
        }, asset.id))
      })
    ]
  });
};

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/components/DropZone/UploadDropZone.mjs
var import_jsx_runtime10 = __toESM(require_jsx_runtime(), 1);
var React7 = __toESM(require_react(), 1);

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/components/DropZone/UploadDropZoneContext.mjs
var import_jsx_runtime9 = __toESM(require_jsx_runtime(), 1);
var import_react4 = __toESM(require_react(), 1);
var UploadDropZoneContext = (0, import_react4.createContext)(null);
var DropZoneWrapper = ct(R)`
  position: relative;
  display: flex;
  flex-direction: column;
  min-height: 100%;
`;
var UploadDropZoneProvider = ({ children, onDrop }) => {
  const [isDragging, setIsDragging] = (0, import_react4.useState)(false);
  const dragCounterRef = (0, import_react4.useRef)(0);
  const contextValue = {
    isDragging
  };
  (0, import_react4.useEffect)(() => {
    const handleDragEnd = () => {
      setIsDragging(false);
      dragCounterRef.current = 0;
    };
    const handleDocumentDragLeave = (e) => {
      if (!e.relatedTarget) {
        setIsDragging(false);
        dragCounterRef.current = 0;
      }
    };
    document.addEventListener("dragend", handleDragEnd);
    document.addEventListener("dragleave", handleDocumentDragLeave);
    return () => {
      document.removeEventListener("dragend", handleDragEnd);
      document.removeEventListener("dragleave", handleDocumentDragLeave);
    };
  }, []);
  const handleDragEnter = (0, import_react4.useCallback)((e) => {
    e.preventDefault();
    e.stopPropagation();
    dragCounterRef.current += 1;
    if (e.dataTransfer.types.includes("Files")) {
      setIsDragging(true);
    }
  }, []);
  const handleDragLeave = (0, import_react4.useCallback)((e) => {
    e.preventDefault();
    e.stopPropagation();
    dragCounterRef.current -= 1;
    if (dragCounterRef.current <= 0) {
      setIsDragging(false);
      dragCounterRef.current = 0;
    }
  }, []);
  const handleDragOver = (0, import_react4.useCallback)((e) => {
    e.preventDefault();
    e.stopPropagation();
    e.dataTransfer.dropEffect = "copy";
  }, []);
  const handleDrop = (0, import_react4.useCallback)((e) => {
    e.preventDefault();
    e.stopPropagation();
    setIsDragging(false);
    dragCounterRef.current = 0;
    const { files } = e.dataTransfer;
    if ((files == null ? void 0 : files.length) && onDrop) {
      onDrop(Array.from(files));
    }
  }, [
    onDrop
  ]);
  return (0, import_jsx_runtime9.jsx)(UploadDropZoneContext.Provider, {
    value: contextValue,
    children: (0, import_jsx_runtime9.jsx)(DropZoneWrapper, {
      "data-testid": "assets-dropzone",
      onDragEnter: handleDragEnter,
      onDragLeave: handleDragLeave,
      onDragOver: handleDragOver,
      onDrop: handleDrop,
      children
    })
  });
};
var useUploadDropZone = () => {
  const context = (0, import_react4.useContext)(UploadDropZoneContext);
  if (!context) {
    throw new Error("useUploadDropZone must be used within UploadDropZone");
  }
  return {
    isDragging: context.isDragging
  };
};

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/components/DropZone/UploadDropZone.mjs
var setOpacity = (hex, alpha) => `${hex}${Math.floor(alpha * 255).toString(16).padStart(2, "0")}`;
var DropZoneOverlay = ct(R)`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: ${({ theme }) => setOpacity(theme.colors.primary200, 0.3)};
  border: 1px solid ${({ theme }) => theme.colors.primary700};
  border-radius: ${({ theme }) => theme.borderRadius};
  z-index: 1;
  pointer-events: none;
`;
var DropZoneWithOverlay = ({ children }) => {
  const { isDragging } = useUploadDropZone();
  return (0, import_jsx_runtime10.jsxs)(R, {
    position: "relative",
    children: [
      isDragging && (0, import_jsx_runtime10.jsx)(DropZoneOverlay, {}),
      children
    ]
  });
};
var DropFilesMessageImpl = ct(R)`
  position: fixed;
  bottom: ${({ theme }) => theme.spaces[8]};
  left: 50%;
  transform: translateX(calc(-50% + ${({ $leftContentWidth }) => $leftContentWidth / 2}px));
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: ${({ theme }) => theme.spaces[2]};
  background: ${({ theme }) => theme.colors.primary600};
  padding: ${({ theme }) => theme.spaces[4]} ${({ theme }) => theme.spaces[6]};
  border-radius: ${({ theme }) => theme.borderRadius};
  z-index: 2;
`;
var DropFilesMessage = ({ uploadDropZoneRef }) => {
  const { formatMessage } = useIntl();
  const { isDragging } = useUploadDropZone();
  const [leftContentWidth, setLeftContentWidth] = React7.useState(0);
  React7.useEffect(() => {
    if (!(uploadDropZoneRef == null ? void 0 : uploadDropZoneRef.current)) return;
    const updateRect = () => {
      var _a;
      const rect = (_a = uploadDropZoneRef.current) == null ? void 0 : _a.getBoundingClientRect();
      if (rect) {
        setLeftContentWidth((prev) => prev !== rect.left ? rect.left : prev);
      }
    };
    updateRect();
    const resizeObserver = new ResizeObserver(updateRect);
    resizeObserver.observe(uploadDropZoneRef.current);
    return () => resizeObserver.disconnect();
  }, [
    uploadDropZoneRef
  ]);
  if (!isDragging) return null;
  return (0, import_jsx_runtime10.jsxs)(DropFilesMessageImpl, {
    $leftContentWidth: leftContentWidth,
    children: [
      (0, import_jsx_runtime10.jsx)(I, {
        textColor: "neutral0",
        children: formatMessage({
          id: getTranslationKey("dropzone.upload.message"),
          defaultMessage: "Drop here to upload to"
        })
      }),
      (0, import_jsx_runtime10.jsxs)(T, {
        gap: 2,
        alignItems: "center",
        children: [
          (0, import_jsx_runtime10.jsx)(K5, {
            width: 20,
            height: 20,
            fill: "neutral0"
          }),
          (0, import_jsx_runtime10.jsx)(I, {
            textColor: "neutral0",
            fontWeight: "semiBold",
            children: "Current folder"
          })
        ]
      })
    ]
  });
};

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/hooks/useInfiniteAssets.mjs
var import_react5 = __toESM(require_react(), 1);

// node_modules/@strapi/upload/dist/admin/future/services/assets.mjs
var assetsApi = uploadApi.injectEndpoints({
  endpoints: (builder) => ({
    getAssets: builder.query({
      query: (params = {}) => ({
        url: "/upload/files",
        method: "GET",
        config: {
          params
        }
      }),
      transformResponse: (response) => response,
      providesTags: (result) => result ? [
        ...result.results.map(({ id }) => ({
          type: "Asset",
          id
        })),
        {
          type: "Asset",
          id: "LIST"
        }
      ] : [
        {
          type: "Asset",
          id: "LIST"
        }
      ]
    })
  })
});
var { useGetAssetsQuery } = assetsApi;

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/hooks/useInfiniteAssets.mjs
var PAGE_SIZE = 20;
var useInfiniteAssets = ({ folder = null, sort } = {}) => {
  const [page, setPage] = (0, import_react5.useState)(1);
  const lastResultsRef = (0, import_react5.useRef)([]);
  const isMountRef = (0, import_react5.useRef)(true);
  const { currentData: data, isLoading, isFetching, error } = useGetAssetsQuery({
    folder,
    page,
    pageSize: PAGE_SIZE,
    sort
  });
  const pagination = data == null ? void 0 : data.pagination;
  const assets = (0, import_react5.useMemo)(() => {
    if (!data) {
      return lastResultsRef.current;
    }
    const currentPageResults = data.results;
    if (page === 1) {
      lastResultsRef.current = currentPageResults;
    } else {
      const expectedPrior = (page - 1) * PAGE_SIZE;
      if (lastResultsRef.current.length < expectedPrior - PAGE_SIZE) {
        return lastResultsRef.current;
      }
      if (lastResultsRef.current.length < page * PAGE_SIZE) {
        lastResultsRef.current = [
          ...lastResultsRef.current,
          ...currentPageResults
        ];
      }
    }
    return lastResultsRef.current;
  }, [
    data,
    page
  ]);
  (0, import_react5.useEffect)(() => {
    if (isMountRef.current) {
      isMountRef.current = false;
      return;
    }
    setPage(1);
    lastResultsRef.current = [];
  }, [
    folder,
    sort
  ]);
  const hasNextPage = pagination ? page < pagination.pageCount : false;
  const isFetchingMore = isFetching && page > 1;
  const fetchNextPage = (0, import_react5.useCallback)(() => {
    setPage((prev) => prev + 1);
  }, []);
  return {
    assets,
    pagination,
    isLoading,
    isFetchingMore,
    hasNextPage,
    fetchNextPage,
    error
  };
};

// node_modules/@strapi/upload/dist/admin/future/pages/Assets/AssetsPage.mjs
var INTERSECTION_OPTIONS = {
  threshold: 0.1
};
var AssetsView = ({ view }) => {
  const { formatMessage } = useIntl();
  const { assets, isLoading, isFetchingMore, hasNextPage, fetchNextPage, error } = useInfiniteAssets();
  const isGridView = view === viewOptions.GRID;
  const loadMoreRef = useElementOnScreen((0, import_react6.useCallback)((isVisible) => {
    if (isVisible && hasNextPage && !isFetchingMore) {
      fetchNextPage();
    }
  }, [
    hasNextPage,
    isFetchingMore,
    fetchNextPage
  ]), INTERSECTION_OPTIONS);
  if (isLoading) {
    return (0, import_jsx_runtime11.jsx)(T, {
      justifyContent: "center",
      padding: 8,
      children: (0, import_jsx_runtime11.jsx)(Vd, {
        children: formatMessage({
          id: "app.loading",
          defaultMessage: "Loading..."
        })
      })
    });
  }
  if (error) {
    return (0, import_jsx_runtime11.jsx)(R, {
      padding: 8,
      children: (0, import_jsx_runtime11.jsx)(I, {
        textColor: "danger600",
        children: formatMessage({
          id: getTranslationKey("list.assets.error"),
          defaultMessage: "An error occurred while fetching assets."
        })
      })
    });
  }
  return (0, import_jsx_runtime11.jsxs)(import_jsx_runtime11.Fragment, {
    children: [
      isGridView ? (0, import_jsx_runtime11.jsx)(AssetsGrid, {
        assets
      }) : (0, import_jsx_runtime11.jsx)(AssetsTable, {
        assets
      }),
      (0, import_jsx_runtime11.jsx)("div", {
        ref: loadMoreRef,
        style: {
          height: 1
        }
      }),
      isFetchingMore && (0, import_jsx_runtime11.jsx)(T, {
        justifyContent: "center",
        padding: 4,
        children: (0, import_jsx_runtime11.jsx)(Vd, {
          children: formatMessage({
            id: getTranslationKey("list.assets.loading-more"),
            defaultMessage: "Loading more assets..."
          })
        })
      })
    ]
  });
};
var StyledToggleGroup = ct(Root2)`
  display: flex;
  border: 1px solid ${({ theme }) => theme.colors.neutral200};
  border-radius: ${({ theme }) => theme.borderRadius};
  overflow: hidden;
`;
var StyledToggleItem = ct(Item2)`
  display: flex;
  align-items: center;
  gap: ${({ theme }) => theme.spaces[2]};
  padding: ${({ theme }) => `${theme.spaces[2]} ${theme.spaces[4]}`};
  border: none;
  background: ${({ theme }) => theme.colors.neutral0};
  color: ${({ theme }) => theme.colors.neutral800};
  cursor: pointer;
  font-size: ${({ theme }) => theme.fontSizes[1]};
  font-weight: ${({ theme }) => theme.fontWeights.semiBold};

  &:hover {
    background: ${({ theme }) => theme.colors.neutral100};
  }

  &[data-state='on'] {
    background: ${({ theme }) => theme.colors.neutral150};
  }

  svg {
    width: 1.6rem;
    height: 1.6rem;
  }
`;
var HeaderWrapper = ct.div`
  [data-strapi-header] {
    background: ${({ theme }) => theme.colors.neutral0};

    h1 {
      font-size: 1.8rem;
    }
  }
`;
var AssetsPage = () => {
  const { formatMessage } = useIntl();
  const [view, setView] = usePersistentState(localStorageKeys.view, viewOptions.GRID);
  const isGridView = view === viewOptions.GRID;
  const fileInputRef = (0, import_react6.useRef)(null);
  const uploadDropZoneRef = (0, import_react6.useRef)(null);
  const [uploadFilesStream] = useUploadFilesStreamMutation();
  const uploadFilesToFolder = async (files, folderId) => {
    if (files.length === 0) return;
    const formData = new FormData();
    const fileInfoArray = [];
    files.forEach((file) => {
      formData.append("files", file);
      fileInfoArray.push({
        name: file.name,
        caption: null,
        alternativeText: null,
        folder: folderId
      });
    });
    formData.append("fileInfo", JSON.stringify(fileInfoArray));
    try {
      await uploadFilesStream({
        formData,
        totalFiles: files.length
      }).unwrap();
    } catch (error) {
    }
  };
  const handleFileSelect = () => {
    var _a;
    (_a = fileInputRef.current) == null ? void 0 : _a.click();
  };
  const handleFileChange = async (e) => {
    const files = e.target.files;
    if (files && files.length > 0) {
      await uploadFilesToFolder(Array.from(files), null);
    }
    e.target.value = "";
  };
  const handleDrop = async (files) => {
    await uploadFilesToFolder(files, null);
  };
  return (0, import_jsx_runtime11.jsx)(UploadDropZoneProvider, {
    onDrop: handleDrop,
    children: (0, import_jsx_runtime11.jsx)(R, {
      ref: uploadDropZoneRef,
      children: (0, import_jsx_runtime11.jsxs)(Layouts.Root, {
        minHeight: "100vh",
        background: "neutral0",
        children: [
          (0, import_jsx_runtime11.jsx)(lt, {
            children: (0, import_jsx_runtime11.jsx)("input", {
              type: "file",
              ref: fileInputRef,
              onChange: handleFileChange,
              multiple: true
            })
          }),
          (0, import_jsx_runtime11.jsx)(HeaderWrapper, {
            children: (0, import_jsx_runtime11.jsx)(Layouts.Header, {
              title: "TODO: Folder name",
              primaryAction: (0, import_jsx_runtime11.jsx)(ad, {
                popoverPlacement: "bottom-end",
                variant: "default",
                endIcon: (0, import_jsx_runtime11.jsx)(c5, {}),
                label: formatMessage({
                  id: getTranslationKey("new"),
                  defaultMessage: "New"
                }),
                children: (0, import_jsx_runtime11.jsx)(Tm, {
                  onSelect: handleFileSelect,
                  startIcon: (0, import_jsx_runtime11.jsx)(N5, {}),
                  children: formatMessage({
                    id: getTranslationKey("import-files"),
                    defaultMessage: "Import files"
                  })
                })
              }),
              subtitle: (0, import_jsx_runtime11.jsxs)(T, {
                justifyContent: "space-between",
                alignItems: "center",
                gap: 4,
                width: "100%",
                children: [
                  (0, import_jsx_runtime11.jsx)(T, {
                    gap: 4,
                    alignItems: "center",
                    children: "TODO: Filters and search"
                  }),
                  (0, import_jsx_runtime11.jsxs)(T, {
                    gap: 4,
                    alignItems: "center",
                    children: [
                      (0, import_jsx_runtime11.jsx)(R, {
                        children: "TODO: Sort"
                      }),
                      (0, import_jsx_runtime11.jsxs)(StyledToggleGroup, {
                        type: "single",
                        value: isGridView ? "grid" : "table",
                        onValueChange: (value) => value && setView(value === "grid" ? viewOptions.GRID : viewOptions.TABLE),
                        "aria-label": formatMessage({
                          id: getTranslationKey("view.switch.label"),
                          defaultMessage: "View options"
                        }),
                        children: [
                          (0, import_jsx_runtime11.jsxs)(StyledToggleItem, {
                            value: "table",
                            "aria-label": formatMessage({
                              id: getTranslationKey("view.table"),
                              defaultMessage: "Table view"
                            }),
                            children: [
                              (0, import_jsx_runtime11.jsx)(A3, {}),
                              formatMessage({
                                id: getTranslationKey("view.table"),
                                defaultMessage: "Table view"
                              })
                            ]
                          }),
                          (0, import_jsx_runtime11.jsxs)(StyledToggleItem, {
                            value: "grid",
                            "aria-label": formatMessage({
                              id: getTranslationKey("view.grid"),
                              defaultMessage: "Grid view"
                            }),
                            children: [
                              (0, import_jsx_runtime11.jsx)(k5, {}),
                              formatMessage({
                                id: getTranslationKey("view.grid"),
                                defaultMessage: "Grid view"
                              })
                            ]
                          })
                        ]
                      })
                    ]
                  })
                ]
              })
            })
          }),
          (0, import_jsx_runtime11.jsx)(Layouts.Content, {
            children: (0, import_jsx_runtime11.jsxs)(DropZoneWithOverlay, {
              children: [
                (0, import_jsx_runtime11.jsx)(DropFilesMessage, {
                  uploadDropZoneRef
                }),
                (0, import_jsx_runtime11.jsx)(AssetsView, {
                  view
                })
              ]
            })
          })
        ]
      })
    })
  });
};

// node_modules/@strapi/upload/dist/admin/future/App.mjs
var UnstableMediaLibrary = () => {
  const { formatMessage } = useIntl();
  const title = formatMessage({
    id: getTranslationKey("plugin.name"),
    defaultMessage: "Media Library"
  });
  return (0, import_jsx_runtime12.jsxs)(Page.Main, {
    children: [
      (0, import_jsx_runtime12.jsx)(Page.Title, {
        children: title
      }),
      (0, import_jsx_runtime12.jsx)(Routes, {
        children: (0, import_jsx_runtime12.jsx)(Route, {
          index: true,
          element: (0, import_jsx_runtime12.jsx)(AssetsPage, {})
        })
      })
    ]
  });
};
export {
  UnstableMediaLibrary
};
//# sourceMappingURL=App-MAPJICE2.js.map
